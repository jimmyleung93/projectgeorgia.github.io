<!DOCTYPE html><title>Games - Minecraft</title><style>body{margin:0;display:flex;align-items:center;justify-content:center}</style><canvas height=400px id=canvas><h1>Your browser does not appear to support HTML5. Try upgrading your browser to the latest version.</h1><a href=//www.whatbrowser.org>What is a browser?</a><br><br><a href=//www.microsoft.com/windows/internet-explorer/default.aspx>Microsoft Internet Explorer</a><br><a href=//www.mozilla.com/firefox>Mozilla Firefox</a><br><a href=//www.google.com/chrome>Google Chrome</a><br><a href=//www.apple.com/safari/download>Apple Safari</a><br></canvas><script>!function e(l,r,o){function t(i,a){if(!r[i]){if(!l[i]){var n="function"==typeof require&&require;if(!a&&n)return n(i,!0);if(s)return s(i,!0);throw Error("Cannot find module '"+i+"'")}n=r[i]={exports:{}},l[i][0].call(n.exports,function(e){return t(l[i][1][e]||e)},n,n.exports,e,l,r,o)}return r[i].exports}for(var s="function"==typeof require&&require,i=0;i<o.length;i++)t(o[i]);return t}({1:[function(e,l,r){l={isDomPresent:!0,navigator:navigator,window:window,document:document,ajax:function(e){var l=new XMLHttpRequest;if(l.open("GET",e,!1),l.overrideMimeType&&l.overrideMimeType("text/plain"),l.setRequestHeader("If-Modified-Since","Fri, 01 Jan 1960 00:00:00 GMT"),l.send(null),200!==l.status&&0!==l.status)throw"XMLHttpRequest failed, status code "+l.status;return l.responseText}},window.Processing=e("./src/")(l)},{"./src/":27}],2:[function(e,l,r){l.exports={name:"Processing.js",version:"1.4.8",dependencies:{argv:"~0.0.2",browserify:"~2.18.1",express:"~3.3.3","node-minify":"~0.7.3",nunjucks:"~0.1.9",open:"0.0.3"},devDependencies:{grunt:"~0.4.1","grunt-cli":"~0.1.8","grunt-contrib-jshint":"~0.4.3"}}},{}],3:[function(e,l,r){l.exports=function(e){if(!(e instanceof Array)){if(e.iterator instanceof Function)return e.iterator();throw"Unable to iterate: "+e}var l=-1;this.hasNext=function(){return++l<e.length},this.next=function(){return e[l]}}},{}],4:[function(e,l,r){l.exports={X:0,Y:1,Z:2,R:3,G:4,B:5,A:6,U:7,V:8,NX:9,NY:10,NZ:11,EDGE:12,SR:13,SG:14,SB:15,SA:16,SW:17,TX:18,TY:19,TZ:20,VX:21,VY:22,VZ:23,VW:24,AR:25,AG:26,AB:27,DR:3,DG:4,DB:5,DA:6,SPR:28,SPG:29,SPB:30,SHINE:31,ER:32,EG:33,EB:34,BEEN_LIT:35,VERTEX_FIELD_COUNT:36,P2D:1,JAVA2D:1,WEBGL:2,P3D:2,OPENGL:2,PDF:0,DXF:0,OTHER:0,WINDOWS:1,MAXOSX:2,LINUX:3,EPSILON:1e-4,MAX_FLOAT:3.4028235e38,MIN_FLOAT:-3.4028235e38,MAX_INT:2147483647,MIN_INT:-2147483648,PI:Math.PI,TWO_PI:2*Math.PI,TAU:2*Math.PI,HALF_PI:Math.PI/2,THIRD_PI:Math.PI/3,QUARTER_PI:Math.PI/4,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,WHITESPACE:" \t\n\r\fÂ ",RGB:1,ARGB:2,HSB:3,ALPHA:4,CMYK:5,TIFF:0,TARGA:1,JPEG:2,GIF:3,BLUR:11,GRAY:12,INVERT:13,OPAQUE:14,POSTERIZE:15,THRESHOLD:16,ERODE:17,DILATE:18,REPLACE:0,BLEND:1,ADD:2,SUBTRACT:4,LIGHTEST:8,DARKEST:16,DIFFERENCE:32,EXCLUSION:64,MULTIPLY:128,SCREEN:256,OVERLAY:512,HARD_LIGHT:1024,SOFT_LIGHT:2048,DODGE:4096,BURN:8192,ALPHA_MASK:4278190080,RED_MASK:16711680,GREEN_MASK:65280,BLUE_MASK:255,CUSTOM:0,ORTHOGRAPHIC:2,PERSPECTIVE:3,POINT:2,POINTS:2,LINE:4,LINES:4,TRIANGLE:8,TRIANGLES:9,TRIANGLE_STRIP:10,TRIANGLE_FAN:11,QUAD:16,QUADS:16,QUAD_STRIP:17,POLYGON:20,PATH:21,RECT:30,ELLIPSE:31,ARC:32,SPHERE:40,BOX:41,GROUP:0,PRIMITIVE:1,GEOMETRY:3,VERTEX:0,BEZIER_VERTEX:1,CURVE_VERTEX:2,BREAK:3,CLOSESHAPE:4,OPEN:1,CLOSE:2,CORNER:0,CORNERS:1,RADIUS:2,CENTER_RADIUS:2,CENTER:3,DIAMETER:3,CENTER_DIAMETER:3,BASELINE:0,TOP:101,BOTTOM:102,NORMAL:1,NORMALIZED:1,IMAGE:2,MODEL:4,SHAPE:5,SQUARE:"butt",ROUND:"round",PROJECT:"square",MITER:"miter",BEVEL:"bevel",AMBIENT:0,DIRECTIONAL:1,SPOT:3,BACKSPACE:8,TAB:9,ENTER:10,RETURN:13,ESC:27,DELETE:127,CODED:65535,SHIFT:16,CONTROL:17,ALT:18,CAPSLK:20,PGUP:33,PGDN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLK:144,META:157,INSERT:155,ARROW:"default",CROSS:"crosshair",HAND:"pointer",MOVE:"move",TEXT:"text",WAIT:"wait",NOCURSOR:"url('data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=='), auto",DISABLE_OPENGL_2X_SMOOTH:1,ENABLE_OPENGL_2X_SMOOTH:-1,ENABLE_OPENGL_4X_SMOOTH:2,ENABLE_NATIVE_FONTS:3,DISABLE_DEPTH_TEST:4,ENABLE_DEPTH_TEST:-4,ENABLE_DEPTH_SORT:5,DISABLE_DEPTH_SORT:-5,DISABLE_OPENGL_ERROR_REPORT:6,ENABLE_OPENGL_ERROR_REPORT:-6,ENABLE_ACCURATE_TEXTURES:7,DISABLE_ACCURATE_TEXTURES:-7,HINT_COUNT:10,SINCOS_LENGTH:720,PRECISIONB:15,PRECISIONF:32768,PREC_MAXVAL:32767,PREC_ALPHA_SHIFT:9,PREC_RED_SHIFT:1,NORMAL_MODE_AUTO:0,NORMAL_MODE_SHAPE:1,NORMAL_MODE_VERTEX:2,MAX_LIGHTS:8}},{}],5:[function(e,l,r){l.exports=function(e){function l(){}function r(e,l,r){if(e.hasOwnProperty(l)&&"function"==typeof e[l]){var o=e[l];if("$overloads"in o)o.$defaultOverload=r;else if("$overloads"in r||o.length!==r.length){var t;"$overloads"in r?(t=r.$overloads.slice(0),t[o.length]=o,o=r.$defaultOverload):(t=[],t[r.length]=r,t[o.length]=o);var s=function(){return(s.$overloads[arguments.length]||("$methodArgsIndex"in s&&arguments.length>s.$methodArgsIndex?s.$overloads[s.$methodArgsIndex]:null)||s.$defaultOverload).apply(this,arguments)};s.$overloads=t,"$methodArgsIndex"in r&&(s.$methodArgsIndex=r.$methodArgsIndex),s.$defaultOverload=o,s.name=l,e[l]=s}}else e[l]=r}function o(e,l){var o,s=[];for(o in l)"function"==typeof l[o]?r(e,o,l[o]):"$"===o.charAt(0)||o in e||s.push(o);for(;0<s.length;)!function(r){t.defineProperty(e,r,{get:function(){return l[r]},set:function(e){l[r]=e},enumerable:!0})}(s.shift());e.$super=l}l.prototype=e.PConstants;var t=new l;return Object.keys(e).forEach(function(l){t[l]=e[l]}),t.defineProperty=function(e,l,r){"defineProperty"in Object?Object.defineProperty(e,l,r):(r.hasOwnProperty("get")&&e.__defineGetter__(l,r.get),r.hasOwnProperty("set")&&e.__defineSetter__(l,r.set))},t.extendClassChain=function(e){for(var l=[e],r=e.$upcast;r;r=r.$upcast)o(r,e),l.push(r),e=r;for(;0<l.length;)l.pop().$self=e},t.extendStaticMembers=function(e,l){o(e,l)},t.extendInterfaceMembers=function(e,l){o(e,l)},t.addMethod=function(e,l,r,o){var t=e[l];if(t||o){var s=r.length;if("$overloads"in t)t.$overloads[s]=r;else{var i=function(){return(i.$overloads[arguments.length]||("$methodArgsIndex"in i&&arguments.length>i.$methodArgsIndex?i.$overloads[i.$methodArgsIndex]:null)||i.$defaultOverload).apply(this,arguments)},a=[];t&&(a[t.length]=t),a[s]=r,i.$overloads=a,i.$defaultOverload=t||r,o&&(i.$methodArgsIndex=s),i.name=l,e[l]=i}}else e[l]=r},t.createJavaArray=function(e,l){var r=null,o=null;if("string"==typeof e)if("boolean"===e)o=!1;else{var s;(s="string"==typeof e&&-1!=="byte int char color float long double".split(" ").indexOf(e))&&(o=0)}if("number"==typeof l[0])if(s=0|l[0],1>=l.length){(r=[]).length=s;for(var i=0;i<s;++i)r[i]=o}else for(r=[],o=l.slice(1),i=0;i<s;++i)r.push(t.createJavaArray(e,o));return r},t.defineProperty(t,"screenWidth",{get:function(){return window.innerWidth}}),t.defineProperty(t,"screenHeight",{get:function(){return window.innerHeight}}),t}},{}],6:[function(e,l,r){l.exports=function(e,l){var r=l.window,o=l.document,t=r.XMLHttpRequest,s=l.noop,i=l.isDOMPresent,a=l.version;e.version=a||"@DEV-VERSION@",e.lib={},e.registerLibrary=function(l,r){e.lib[l]=r,r.hasOwnProperty("init")&&r.init(defaultScope)},e.Sketch=function(e){this.attachFunction=e,this.options={pauseOnBlur:!1,globalKeyEvents:!1},this.onExit=this.onFrameEnd=this.onFrameStart=this.onLoop=this.onPause=this.onSetup=this.onLoad=s,this.params={},this.imageCache={pending:0,images:{},operaCache:{},add:function(e,l){if(!this.images[e]&&(i||(this.images[e]=null),l||(l=new Image,l.onload=function(e){return function(){e.pending--}}(this),this.pending++,l.src=e),this.images[e]=l,r.opera)){var t=o.createElement("div");t.appendChild(l),t.style.position="absolute",t.style.opacity=0,t.style.width="1px",t.style.height="1px",this.operaCache[e]||(o.body.appendChild(t),this.operaCache[e]=t)}}},this.sourceCode=void 0,this.attach=function(e){if("function"==typeof this.attachFunction)this.attachFunction(e);else{if(!this.sourceCode)throw"Unable to attach sketch to the processing instance";var l=new Function("return ("+this.sourceCode+");")();l(e),this.attachFunction=l}},this.toString=function(){var e,l;l="((function(Sketch) {\nvar sketch = new Sketch(\n"+this.sourceCode+");\n";for(e in this.options)if(this.options.hasOwnProperty(e)){var r=this.options[e];l+="sketch.options."+e+" = "+("string"==typeof r?'"'+r+'"':""+r)+";\n"}for(e in this.imageCache)this.options.hasOwnProperty(e)&&(l+='sketch.imageCache.add("'+e+'");\n');return l+"return sketch;\n})(Processing.Sketch))"}};var n=e.loadSketchFromSources=function(l,s){function i(e,l){var o=new t;o.onreadystatechange=function(){if(4===o.readyState){var e;200!==o.status&&0!==o.status?e="Invalid XHR status "+o.status:""===o.responseText&&(e="withCredentials"in new t&&!1===(new t).withCredentials&&"file:"===r.location.protocol?"XMLHttpRequest failure, possibly due to a same-origin policy violation. You can try loading this page in another browser, or load it from http://localhost using a local webserver. See the Processing.js README for a more detailed explanation of this problem and solutions.":"File is empty."),l(o.responseText,e)}},o.open("GET",e,!0),o.overrideMimeType&&o.overrideMimeType("application/json"),o.setRequestHeader("If-Modified-Since","Fri, 01 Jan 1960 00:00:00 GMT"),o.send(null)}for(var a=[],n=[],c=s.length,d=0,u=0;u<c;++u)!function(r,t){function s(o,s){if(a[r]=o,++d,s&&n.push(t+" ==> "+s),d===c){if(0!==n.length)throw"Processing.js: Unable to load pjs sketch files: "+n.join("\n");try{return new e(l,a.join("\n"))}catch(e){throw console.log("Processing.js: Unable to execute pjs sketch."),e}}}if("#"===t.charAt(0)){var u=o.getElementById(t.substring(1));u?s(u.text||u.textContent):s("","Unable to load pjs sketch: element with id '"+t.substring(1)+"' was not found")}else i(t,s)}(u,s[u])},c=function(){o.removeEventListener("DOMContentLoaded",c,!1),processingInstances=[],e.instances=processingInstances;for(var l,r=0,t=(a=o.getElementsByTagName("canvas")).length;r<t;r++){var s=a[r].getAttribute("data-processing-sources");if(null===s&&null===(s=a[r].getAttribute("data-src"))&&(s=a[r].getAttribute("datasrc")),s){for(l=s.split(/\s+/g),s=0;s<l.length;)l[s]?s++:l.splice(s,1);n(a[r],l)}}for(t=[],r=(a=o.getElementsByTagName("script")).length-1;0<=r;r--)t.push(a[r]);for(r=0,s=t.length;r<s;r++)if((l=t[r]).getAttribute&&(a=l.getAttribute("type"))&&("text/processing"===a.toLowerCase()||"application/processing"===a.toLowerCase())){var i=l.getAttribute("data-processing-target"),a=void 0;if(i)a=o.getElementById(i);else{for(i=l.nextSibling;i&&1!==i.nodeType;)i=i.nextSibling;i&&"canvas"===i.nodeName.toLowerCase()&&(a=i)}a&&(l.getAttribute("src")?(l=l.getAttribute("src").split(/\s+/),n(a,l)):(l=l.textContent||l.text,new e(a,l)))}};return o.addEventListener("DOMContentLoaded",c,!1),e.reload=function(){if(0<processingInstances.length)for(var e=processingInstances.length-1;0<=e;e--)processingInstances[e]&&processingInstances[e].exit();c()},e.disableInit=function(){o.removeEventListener("DOMContentLoaded",c,!1)},e}},{}],7:[function(e,l,r){l.exports=function(e,l){return null===e||null===l?null===e&&null===l:"string"==typeof e||"object"!=typeof e?e===l:e.equals instanceof Function?e.equals(l):e===l}},{}],8:[function(e,l,r){l.exports=function(e,l){if("string"==typeof e){for(var r=0,o=0;o<e.length;++o)r=31*r+e.charCodeAt(o)&4294967295;return r}return"object"!=typeof e?4294967295&e:e.hashCode instanceof Function?e.hashCode():(e.$id===l&&(e.$id=Math.floor(65536*Math.random())-32768<<16|Math.floor(65536*Math.random())),e.$id)}},{}],9:[function(e,l,r){l.exports=function(e){function l(e){var l=-1;this.hasNext=function(){return l+1<e.length},this.next=function(){return e[++l]},this.remove=function(){e.splice(l--,1)}}function r(e){var t=[];e&&e.toArray&&(t=e.toArray()),this.get=function(e){return t[e]},this.contains=function(e){return-1<this.indexOf(e)},this.indexOf=function(e){for(var l=0,r=t.length;l<r;++l)if(o(e,t[l]))return l;return-1},this.lastIndexOf=function(e){for(var l=t.length-1;0<=l;--l)if(o(e,t[l]))return l;return-1},this.add=function(){if(1===arguments.length)t.push(arguments[0]);else{if(2!==arguments.length)throw"Please use the proper number of parameters.";var e=arguments[0];if("number"!=typeof e)throw typeof e+" is not a number";if(!(0<=e&&e<=t.length))throw e+" is not a valid index";t.splice(e,0,arguments[1])}},this.addAll=function(e,l){var r;if("number"==typeof e){if(0>e||e>t.length)throw"Index out of bounds for addAll: "+e+" greater or equal than "+t.length;for(r=new ObjectIterator(l);r.hasNext();)t.splice(e++,0,r.next())}else for(r=new ObjectIterator(e);r.hasNext();)t.push(r.next())},this.set=function(){if(2!==arguments.length)throw"Please use the proper number of parameters.";var e=arguments[0];if("number"!=typeof e)throw typeof e+" is not a number";if(!(0<=e&&e<t.length))throw e+" is not a valid index.";t.splice(e,1,arguments[1])},this.size=function(){return t.length},this.clear=function(){t.length=0},this.remove=function(e){return"number"==typeof e?t.splice(e,1)[0]:-1<(e=this.indexOf(e))&&(t.splice(e,1),!0)},this.removeAll=function(e){var l,o,t,s=new r;for(s.addAll(this),this.clear(),o=l=0;l<s.size();l++)t=s.get(l),e.contains(t)||this.add(o++,t);return this.size()<s.size()},this.isEmpty=function(){return!t.length},this.clone=function(){return new r(this)},this.toArray=function(){return t.slice(0)},this.iterator=function(){return new l(t)}}var o=e.virtEquals;return r}},{}],10:[function(e,l,r){l.exports=function(e,l){var r=function(l){return this.code="string"==typeof l&&1===l.length?l.charCodeAt(0):"number"==typeof l?l:l instanceof r?l:NaN,void 0===e[this.code]?e[this.code]=this:e[this.code]};return r.prototype.toString=function(){return String.fromCharCode(this.code)},r.prototype.valueOf=function(){return this.code},r}({})},{}],11:[function(e,l,r){l.exports=function(e){function l(){function e(e){return e=r(e)%d.length,0>e?d.length+e:e}function t(){if(!(u<=c*d.length)){for(var l=[],r=0;r<d.length;++r)void 0!==d[r]&&(l=l.concat(d[r]));for(r=2*d.length,(d=[]).length=r,r=0;r<l.length;++r){var o=e(l[r].key),t=d[o];void 0===t&&(d[o]=t=[]),t.push(l[r])}}}function s(e,l){function r(){for(;!i;)if(++s,t>=d.length)i=!0;else{if(!(void 0===d[t]||s>=d[t].length))break;s=-1,++t}}var o,t=0,s=-1,i=!1;this.hasNext=function(){return!i},this.next=function(){return o=e(d[t][s]),r(),o},this.remove=function(){void 0!==o&&(l(o),--s,r())},r()}function i(e,l,r){this.clear=function(){h.clear()},this.contains=function(e){return l(e)},this.containsAll=function(e){for(e=e.iterator();e.hasNext();)if(!this.contains(e.next()))return!1;return!0},this.isEmpty=function(){return h.isEmpty()},this.iterator=function(){return new s(e,r)},this.remove=function(e){return!!this.contains(e)&&(r(e),!0)},this.removeAll=function(e){for(e=e.iterator();e.hasNext();){var l=e.next();this.contains(l)&&r(l)}return!0},this.retainAll=function(e){for(var l=this.iterator(),o=[];l.hasNext();){var t=l.next();e.contains(t)||o.push(t)}for(e=0;e<o.length;++e)r(o[e]);return 0<o.length},this.size=function(){return h.size()},this.toArray=function(){for(var e=[],l=this.iterator();l.hasNext();)e.push(l.next());return e}}function a(e){this._isIn=function(l){return l===h&&void 0===e.removed},this.equals=function(l){return o(e.key,l.getKey())},this.getKey=function(){return e.key},this.getValue=function(){return e.value},this.hashCode=function(l){return r(e.key)},this.setValue=function(l){var r=e.value;return e.value=l,r}}if(1===arguments.length&&arguments[0]instanceof l)return arguments[0].clone();var n=0<arguments.length?arguments[0]:16,c=1<arguments.length?arguments[1]:.75,d=[];d.length=n;var u=0,h=this;this.clear=function(){u=0,(d=[]).length=n},this.clone=function(){var e=new l;return e.putAll(this),e},this.containsKey=function(l){var r=e(l);if(void 0===(r=d[r]))return!1;for(var t=0;t<r.length;++t)if(o(r[t].key,l))return!0;return!1},this.containsValue=function(e){for(var l=0;l<d.length;++l){var r=d[l];if(void 0!==r)for(var t=0;t<r.length;++t)if(o(r[t].value,e))return!0}return!1},this.entrySet=function(){return new i(function(e){return new a(e)},function(e){return e instanceof a&&e._isIn(h)},function(e){return h.remove(e.getKey())})},this.get=function(l){var r=e(l);if(void 0===(r=d[r]))return null;for(var t=0;t<r.length;++t)if(o(r[t].key,l))return r[t].value;return null},this.isEmpty=function(){return 0===u},this.keySet=function(){return new i(function(e){return e.key},function(e){return h.containsKey(e)},function(e){return h.remove(e)})},this.values=function(){return new i(function(e){return e.value},function(e){return h.containsValue(e)},function(e){return h.removeByValue(e)})},this.put=function(l,r){var s=e(l),i=d[s];if(void 0===i)return++u,d[s]=[{key:l,value:r}],t(),null;for(s=0;s<i.length;++s)if(o(i[s].key,l)){var a=i[s].value;return i[s].value=r,a}return++u,i.push({key:l,value:r}),t(),null},this.putAll=function(e){for(e=e.entrySet().iterator();e.hasNext();){var l=e.next();this.put(l.getKey(),l.getValue())}},this.remove=function(l){var r=e(l),t=d[r];if(void 0===t)return null;for(var s=0;s<t.length;++s)if(o(t[s].key,l))return--u,l=t[s].value,t[s].removed=!0,1<t.length?t.splice(s,1):d[r]=void 0,l;return null},this.removeByValue=function(e){var l,r,o;for(l in d)if(d.hasOwnProperty(l))for(r=0,o=d[l].length;r<o;r++)if(d[l][r].value===e)return d[l].splice(r,1),!0;return!1},this.size=function(){return u}}var r=e.virtHashCode,o=e.virtEquals;return l}},{}],12:[function(e,l,r){l.exports=function(e,l){function r(e,r){if(e===l&&(e=""),this.name=e,r===l&&(r=0),this.size=r,this.glyph=!1,this.descent=this.ascent=0,this.leading=1.2*r,-1!==(s=e.indexOf(" Italic Bold"))&&(e=e.substring(0,s)),this.style="normal",-1!==(s=e.indexOf(" Italic"))&&(e=e.substring(0,s),this.style="italic"),this.weight="normal",-1!==(s=e.indexOf(" Bold"))&&(e=e.substring(0,s),this.weight="bold"),this.family="sans-serif",e!==l)switch(e){case"sans-serif":case"serif":case"monospace":case"fantasy":case"cursive":this.family=e;break;default:this.family='"'+e+'", sans-serif'}var s=this.size/250;(d=o.createElement("canvas")).width=500,d.height=500,d.style.opacity=0;var i=this.getCSSDefinition("250px","normal"),a=d.getContext("2d");a.font=i,d.width=a.measureText("dbflkhyjqpg").width,a.font=i,(i=o.createElement("div")).style.position="absolute",i.style.opacity=0,i.style.fontFamily='"'+this.name+'"',i.style.fontSize="250px",i.innerHTML="dbflkhyjqpg<br/>dbflkhyjqpg",o.body.appendChild(i);var n=d.width,c=d.height,d=c/2;a.fillStyle="white",a.fillRect(0,0,n,c),a.fillStyle="black",a.fillText("dbflkhyjqpg",0,d);for(var u=0,h=4*n,p=(c=a.getImageData(0,0,n,c).data).length;++u<p&&255===c[u];)t();for(n=Math.round(u/h),u=p-1;0<--u&&255===c[u];)t();c=Math.round(u/h),this.ascent=s*(d-n),this.descent=s*(c-d),o.defaultView.getComputedStyle&&(d=o.defaultView.getComputedStyle(i,null).getPropertyValue("height"),(d=s*d.replace("px",""))>=2*this.size&&(this.leading=Math.round(d/2))),o.body.removeChild(i),s=this.caching?a:void 0,this.context2d=s,this.css=this.getCSSDefinition(),this.context2d&&(this.context2d.font=this.css)}var o=e.Browser.document,t=e.noop;return r.prototype.caching=!0,r.prototype.getCSSDefinition=function(e,r){return e===l&&(e=this.size+"px"),r===l&&(r=this.leading+"px"),[this.style,"normal",this.weight,e+"/"+r,this.family].join(" ")},r.prototype.measureTextWidth=function(e){return this.context2d.measureText(e).width},r.prototype.measureTextWidthFallback=function(e){var l=o.createElement("canvas").getContext("2d");return l.font=this.css,l.measureText(e).width},r.PFontCache={length:0},r.get=function(e,l){l=(10*l+.5|0)/10;var o=r.PFontCache,t=e+"/"+l;if(!o[t]){if(o[t]=new r(e,l),50==++o.length){r.prototype.measureTextWidth=r.prototype.measureTextWidthFallback,r.prototype.caching=!1;for(var s in o)"length"!==s&&(o[s].context2d=null);return new r(e,l)}if(400===o.length)return r.PFontCache={},r.get=r.getFallback,new r(e,l)}return o[t]},r.getFallback=function(e,l){return new r(e,l)},r.list=function(){return["sans-serif","serif","monospace","fantasy","cursive"]},r.preloading={template:{},initialized:!1,initialize:function(){var e=o.createElement("style");e.setAttribute("type","text/css"),e.innerHTML='@font-face {\n  font-family: "PjsEmptyFont";\n  src: url(\'data:application/x-font-ttf;base64,'+function(){return"#E3KAI2wAgT1MvMg7Eo3VmNtYX7ABi3CxnbHlm7Abw3kaGVhZ7ACs3OGhoZWE7A53CRobXR47AY3AGbG9jYQ7G03Bm1heH7ABC3CBuYW1l7Ae3AgcG9zd7AI3AE#B3AQ2kgTY18PPPUACwAg3ALSRoo3#yld0xg32QAB77#E777773B#E3C#I#Q77773E#Q7777777772CMAIw7AB77732B#M#Q3wAB#g3B#E#E2BB//82BB////w#B7#gAEg3E77x2B32B#E#Q#MTcBAQ32gAe#M#QQJ#E32M#QQJ#I#g32Q77#".replace(/[#237]/g,function(e){return"AAAAAAAA".substr(~~e?7-e:6)})}()+"')\n       format('truetype');\n}",o.head.appendChild(e),(e=o.createElement("span")).style.cssText='position: absolute; top: 0; left: 0; opacity: 0; font-family: "PjsEmptyFont", fantasy;',e.innerHTML="AAAAAAAA",o.body.appendChild(e),this.template=e,this.initialized=!0},getElementWidth:function(e){return o.defaultView.getComputedStyle(e,"").getPropertyValue("width")},timeAttempted:0,pending:function(e){this.initialized||this.initialize();for(var l,r,t=this.getElementWidth(this.template),s=0;s<this.fontList.length;s++){if(l=this.fontList[s],r=this.getElementWidth(l),4e3>this.timeAttempted&&r===t)return this.timeAttempted+=e,!0;o.body.removeChild(l),this.fontList.splice(s--,1),this.timeAttempted=0}return 0!==this.fontList.length},fontList:[],addedList:{},add:function(e){this.initialized||this.initialize();var l="object"==typeof e?e.fontFace:e;if(e="object"==typeof e?e.url:e,!this.addedList[l]){var r=o.createElement("style");r.setAttribute("type","text/css"),r.innerHTML="@font-face{\n  font-family: '"+l+"';\n  src:  url('"+e+"');\n}\n",o.head.appendChild(r),this.addedList[l]=!0,(e=o.createElement("span")).style.cssText="position: absolute; top: 0; left: 0; opacity: 0;",e.style.fontFamily='"'+l+'", "PjsEmptyFont", fantasy',e.innerHTML="AAAAAAAA",o.body.appendChild(e),this.fontList.push(e)}}},r}},{}],13:[function(e,l,r){l.exports=function(e,l){var r=e.p,o=function(){0===arguments.length?this.reset():1===arguments.length&&arguments[0]instanceof o?this.set(arguments[0].array()):6===arguments.length&&this.set(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])};return o.prototype={set:function(){if(6===arguments.length){var e=arguments;this.set([e[0],e[1],e[2],e[3],e[4],e[5]])}else 1===arguments.length&&arguments[0]instanceof o?this.elements=arguments[0].array():1===arguments.length&&arguments[0]instanceof Array&&(this.elements=arguments[0].slice())},get:function(){var e=new o;return e.set(this.elements),e},reset:function(){this.set([1,0,0,0,1,0])},array:function(){return this.elements.slice()},translate:function(e,l){this.elements[2]=e*this.elements[0]+l*this.elements[1]+this.elements[2],this.elements[5]=e*this.elements[3]+l*this.elements[4]+this.elements[5]},invTranslate:function(e,l){this.translate(-e,-l)},transpose:function(){},mult:function(e,l){var r,o;return e instanceof PVector?(r=e.x,o=e.y,l||(l=new PVector)):e instanceof Array&&(r=e[0],o=e[1],l||(l=[])),l instanceof Array?(l[0]=this.elements[0]*r+this.elements[1]*o+this.elements[2],l[1]=this.elements[3]*r+this.elements[4]*o+this.elements[5]):l instanceof PVector&&(l.x=this.elements[0]*r+this.elements[1]*o+this.elements[2],l.y=this.elements[3]*r+this.elements[4]*o+this.elements[5],l.z=0),l},multX:function(e,l){return e*this.elements[0]+l*this.elements[1]+this.elements[2]},multY:function(e,l){return e*this.elements[3]+l*this.elements[4]+this.elements[5]},skewX:function(e){this.apply(1,0,1,e,0,0)},skewY:function(e){this.apply(1,0,1,0,e,0)},shearX:function(e){this.apply(1,0,1,Math.tan(e),0,0)},shearY:function(e){this.apply(1,0,1,0,Math.tan(e),0)},determinant:function(){return this.elements[0]*this.elements[4]-this.elements[1]*this.elements[3]},invert:function(){var e=this.determinant();if(Math.abs(e)>PConstants.MIN_INT){var l=this.elements[0],r=this.elements[1],o=this.elements[2],t=this.elements[3],s=this.elements[4],i=this.elements[5];return this.elements[0]=s/e,this.elements[3]=-t/e,this.elements[1]=-r/e,this.elements[4]=l/e,this.elements[2]=(r*i-s*o)/e,this.elements[5]=(t*o-l*i)/e,!0}return!1},scale:function(e,l){e&&!l&&(l=e),e&&l&&(this.elements[0]*=e,this.elements[1]*=l,this.elements[3]*=e,this.elements[4]*=l)},invScale:function(e,l){e&&!l&&(l=e),this.scale(1/e,1/l)},apply:function(){var e;1===arguments.length&&arguments[0]instanceof o?e=arguments[0].array():6===arguments.length?e=Array.prototype.slice.call(arguments):1===arguments.length&&arguments[0]instanceof Array&&(e=arguments[0]);for(var l=[0,0,this.elements[2],0,0,this.elements[5]],r=0,t=0;2>t;t++)for(var s=0;3>s;s++,r++)l[r]+=this.elements[3*t+0]*e[s+0]+this.elements[3*t+1]*e[s+3];this.elements=l.slice()},preApply:function(){var e;1===arguments.length&&arguments[0]instanceof o?e=arguments[0].array():6===arguments.length?e=Array.prototype.slice.call(arguments):1===arguments.length&&arguments[0]instanceof Array&&(e=arguments[0]);var l=[0,0,e[2],0,0,e[5]];l[2]=e[2]+this.elements[2]*e[0]+this.elements[5]*e[1],l[5]=e[5]+this.elements[2]*e[3]+this.elements[5]*e[4],l[0]=this.elements[0]*e[0]+this.elements[3]*e[1],l[3]=this.elements[0]*e[3]+this.elements[3]*e[4],l[1]=this.elements[1]*e[0]+this.elements[4]*e[1],l[4]=this.elements[1]*e[3]+this.elements[4]*e[4],this.elements=l.slice()},rotate:function(e){var l=Math.cos(e);e=Math.sin(e);var r=this.elements[0],o=this.elements[1];this.elements[0]=l*r+e*o,this.elements[1]=-e*r+l*o,r=this.elements[3],o=this.elements[4],this.elements[3]=l*r+e*o,this.elements[4]=-e*r+l*o},rotateZ:function(e){this.rotate(e)},invRotateZ:function(e){this.rotateZ(e-Math.PI)},print:function(){var e=printMatrixHelper(this.elements),e=r.nfs(this.elements[0],e,4)+" "+r.nfs(this.elements[1],e,4)+" "+r.nfs(this.elements[2],e,4)+"\n"+r.nfs(this.elements[3],e,4)+" "+r.nfs(this.elements[4],e,4)+" "+r.nfs(this.elements[5],e,4)+"\n\n";r.println(e)}},o}},{}],14:[function(e,l,r){l.exports=function(e,l){var r=e.p,o=function(){this.reset()};return o.prototype={set:function(){16===arguments.length?this.elements=Array.prototype.slice.call(arguments):1===arguments.length&&arguments[0]instanceof o?this.elements=arguments[0].array():1===arguments.length&&arguments[0]instanceof Array&&(this.elements=arguments[0].slice())},get:function(){var e=new o;return e.set(this.elements),e},reset:function(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},array:function(){return this.elements.slice()},translate:function(e,r,o){o===l&&(o=0),this.elements[3]+=e*this.elements[0]+r*this.elements[1]+o*this.elements[2],this.elements[7]+=e*this.elements[4]+r*this.elements[5]+o*this.elements[6],this.elements[11]+=e*this.elements[8]+r*this.elements[9]+o*this.elements[10],this.elements[15]+=e*this.elements[12]+r*this.elements[13]+o*this.elements[14]},transpose:function(){var e=this.elements[4];this.elements[4]=this.elements[1],this.elements[1]=e,e=this.elements[8],this.elements[8]=this.elements[2],this.elements[2]=e,e=this.elements[6],this.elements[6]=this.elements[9],this.elements[9]=e,e=this.elements[3],this.elements[3]=this.elements[12],this.elements[12]=e,e=this.elements[7],this.elements[7]=this.elements[13],this.elements[13]=e,e=this.elements[11],this.elements[11]=this.elements[14],this.elements[14]=e},mult:function(e,l){var r,o,t,s;return e instanceof PVector?(r=e.x,o=e.y,t=e.z,s=1,l||(l=new PVector)):e instanceof Array&&(r=e[0],o=e[1],t=e[2],s=e[3]||1,!l||3!==l.length&&4!==l.length)&&(l=[0,0,0]),l instanceof Array&&(3===l.length?(l[0]=this.elements[0]*r+this.elements[1]*o+this.elements[2]*t+this.elements[3],l[1]=this.elements[4]*r+this.elements[5]*o+this.elements[6]*t+this.elements[7],l[2]=this.elements[8]*r+this.elements[9]*o+this.elements[10]*t+this.elements[11]):4===l.length&&(l[0]=this.elements[0]*r+this.elements[1]*o+this.elements[2]*t+this.elements[3]*s,l[1]=this.elements[4]*r+this.elements[5]*o+this.elements[6]*t+this.elements[7]*s,l[2]=this.elements[8]*r+this.elements[9]*o+this.elements[10]*t+this.elements[11]*s,l[3]=this.elements[12]*r+this.elements[13]*o+this.elements[14]*t+this.elements[15]*s)),l instanceof PVector&&(l.x=this.elements[0]*r+this.elements[1]*o+this.elements[2]*t+this.elements[3],l.y=this.elements[4]*r+this.elements[5]*o+this.elements[6]*t+this.elements[7],l.z=this.elements[8]*r+this.elements[9]*o+this.elements[10]*t+this.elements[11]),l},preApply:function(){var e;1===arguments.length&&arguments[0]instanceof o?e=arguments[0].array():16===arguments.length?e=Array.prototype.slice.call(arguments):1===arguments.length&&arguments[0]instanceof Array&&(e=arguments[0]);for(var l=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],r=0,t=0;4>t;t++)for(var s=0;4>s;s++,r++)l[r]+=this.elements[s+0]*e[4*t+0]+this.elements[s+4]*e[4*t+1]+this.elements[s+8]*e[4*t+2]+this.elements[s+12]*e[4*t+3];this.elements=l.slice()},apply:function(){var e;1===arguments.length&&arguments[0]instanceof o?e=arguments[0].array():16===arguments.length?e=Array.prototype.slice.call(arguments):1===arguments.length&&arguments[0]instanceof Array&&(e=arguments[0]);for(var l=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],r=0,t=0;4>t;t++)for(var s=0;4>s;s++,r++)l[r]+=this.elements[4*t+0]*e[s+0]+this.elements[4*t+1]*e[s+4]+this.elements[4*t+2]*e[s+8]+this.elements[4*t+3]*e[s+12];this.elements=l.slice()},rotate:function(e,l,r,o){if(r){var t=Math.cos(e);e=Math.sin(e);var s=1-t;this.apply(s*l*l+t,s*l*r-e*o,s*l*o+e*r,0,s*l*r+e*o,s*r*r+t,s*r*o-e*l,0,s*l*o-e*r,s*r*o+e*l,s*o*o+t,0,0,0,0,1)}else this.rotateZ(e)},invApply:function(){inverseCopy===l&&(inverseCopy=new o);var e=arguments;return inverseCopy.set(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]),!!inverseCopy.invert()&&(this.preApply(inverseCopy),!0)},rotateX:function(e){var l=Math.cos(e);e=Math.sin(e),this.apply([1,0,0,0,0,l,-e,0,0,e,l,0,0,0,0,1])},rotateY:function(e){var l=Math.cos(e);e=Math.sin(e),this.apply([l,0,e,0,0,1,0,0,-e,0,l,0,0,0,0,1])},rotateZ:function(e){var l=Math.cos(e);e=Math.sin(e),this.apply([l,-e,0,0,e,l,0,0,0,0,1,0,0,0,0,1])},scale:function(e,l,r){!e||l||r?e&&l&&!r&&(r=1):l=r=e,e&&l&&r&&(this.elements[0]*=e,this.elements[1]*=l,this.elements[2]*=r,this.elements[4]*=e,this.elements[5]*=l,this.elements[6]*=r,this.elements[8]*=e,this.elements[9]*=l,this.elements[10]*=r,this.elements[12]*=e,this.elements[13]*=l,this.elements[14]*=r)},skewX:function(e){e=Math.tan(e),this.apply(1,e,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},skewY:function(e){e=Math.tan(e),this.apply(1,0,0,0,e,1,0,0,0,0,1,0,0,0,0,1)},shearX:function(e){e=Math.tan(e),this.apply(1,e,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},shearY:function(e){e=Math.tan(e),this.apply(1,0,0,0,e,1,0,0,0,0,1,0,0,0,0,1)},multX:function(e,l,r,o){return r?o?this.elements[0]*e+this.elements[1]*l+this.elements[2]*r+this.elements[3]*o:this.elements[0]*e+this.elements[1]*l+this.elements[2]*r+this.elements[3]:this.elements[0]*e+this.elements[1]*l+this.elements[3]},multY:function(e,l,r,o){return r?o?this.elements[4]*e+this.elements[5]*l+this.elements[6]*r+this.elements[7]*o:this.elements[4]*e+this.elements[5]*l+this.elements[6]*r+this.elements[7]:this.elements[4]*e+this.elements[5]*l+this.elements[7]},multZ:function(e,l,r,o){return o?this.elements[8]*e+this.elements[9]*l+this.elements[10]*r+this.elements[11]*o:this.elements[8]*e+this.elements[9]*l+this.elements[10]*r+this.elements[11]},multW:function(e,l,r,o){return o?this.elements[12]*e+this.elements[13]*l+this.elements[14]*r+this.elements[15]*o:this.elements[12]*e+this.elements[13]*l+this.elements[14]*r+this.elements[15]},invert:function(){var e=this.elements[0]*this.elements[5]-this.elements[1]*this.elements[4],l=this.elements[0]*this.elements[6]-this.elements[2]*this.elements[4],r=this.elements[0]*this.elements[7]-this.elements[3]*this.elements[4],o=this.elements[1]*this.elements[6]-this.elements[2]*this.elements[5],t=this.elements[1]*this.elements[7]-this.elements[3]*this.elements[5],s=this.elements[2]*this.elements[7]-this.elements[3]*this.elements[6],i=this.elements[8]*this.elements[13]-this.elements[9]*this.elements[12],a=this.elements[8]*this.elements[14]-this.elements[10]*this.elements[12],n=this.elements[8]*this.elements[15]-this.elements[11]*this.elements[12],c=this.elements[9]*this.elements[14]-this.elements[10]*this.elements[13],d=this.elements[9]*this.elements[15]-this.elements[11]*this.elements[13],u=this.elements[10]*this.elements[15]-this.elements[11]*this.elements[14],h=e*u-l*d+r*c+o*n-t*a+s*i;if(1e-9>=Math.abs(h))return!1;var p=[];return p[0]=+this.elements[5]*u-this.elements[6]*d+this.elements[7]*c,p[4]=-this.elements[4]*u+this.elements[6]*n-this.elements[7]*a,p[8]=+this.elements[4]*d-this.elements[5]*n+this.elements[7]*i,p[12]=-this.elements[4]*c+this.elements[5]*a-this.elements[6]*i,p[1]=-this.elements[1]*u+this.elements[2]*d-this.elements[3]*c,p[5]=+this.elements[0]*u-this.elements[2]*n+this.elements[3]*a,p[9]=-this.elements[0]*d+this.elements[1]*n-this.elements[3]*i,p[13]=+this.elements[0]*c-this.elements[1]*a+this.elements[2]*i,p[2]=+this.elements[13]*s-this.elements[14]*t+this.elements[15]*o,p[6]=-this.elements[12]*s+this.elements[14]*r-this.elements[15]*l,p[10]=+this.elements[12]*t-this.elements[13]*r+this.elements[15]*e,p[14]=-this.elements[12]*o+this.elements[13]*l-this.elements[14]*e,p[3]=-this.elements[9]*s+this.elements[10]*t-this.elements[11]*o,p[7]=+this.elements[8]*s-this.elements[10]*r+this.elements[11]*l,p[11]=-this.elements[8]*t+this.elements[9]*r-this.elements[11]*e,p[15]=+this.elements[8]*o-this.elements[9]*l+this.elements[10]*e,e=1/h,p[0]*=e,p[1]*=e,p[2]*=e,p[3]*=e,p[4]*=e,p[5]*=e,p[6]*=e,p[7]*=e,p[8]*=e,p[9]*=e,p[10]*=e,p[11]*=e,p[12]*=e,p[13]*=e,p[14]*=e,p[15]*=e,this.elements=p.slice(),!0},toString:function(){for(var e="",l=0;15>l;l++)e+=this.elements[l]+", ";return e+=this.elements[15]},print:function(){var e=printMatrixHelper(this.elements),e=r.nfs(this.elements[0],e,4)+" "+r.nfs(this.elements[1],e,4)+" "+r.nfs(this.elements[2],e,4)+" "+r.nfs(this.elements[3],e,4)+"\n"+r.nfs(this.elements[4],e,4)+" "+r.nfs(this.elements[5],e,4)+" "+r.nfs(this.elements[6],e,4)+" "+r.nfs(this.elements[7],e,4)+"\n"+r.nfs(this.elements[8],e,4)+" "+r.nfs(this.elements[9],e,4)+" "+r.nfs(this.elements[10],e,4)+" "+r.nfs(this.elements[11],e,4)+"\n"+r.nfs(this.elements[12],e,4)+" "+r.nfs(this.elements[13],e,4)+" "+r.nfs(this.elements[14],e,4)+" "+r.nfs(this.elements[15],e,4)+"\n\n";r.println(e)},invTranslate:function(e,l,r){this.preApply(1,0,0,-e,0,1,0,-l,0,0,1,-r,0,0,0,1)},invRotateX:function(e){var l=Math.cos(-e);e=Math.sin(-e),this.preApply([1,0,0,0,0,l,-e,0,0,e,l,0,0,0,0,1])},invRotateY:function(e){var l=Math.cos(-e);e=Math.sin(-e),this.preApply([l,0,e,0,0,1,0,0,-e,0,l,0,0,0,0,1])},invRotateZ:function(e){var l=Math.cos(-e);e=Math.sin(-e),this.preApply([l,-e,0,0,e,l,0,0,0,0,1,0,0,0,0,1])},invScale:function(e,l,r){this.preApply([1/e,0,0,0,0,1/l,0,0,0,0,1/r,0,0,0,0,1])}},o}},{}],15:[function(e,l,r){l.exports=function(e){var l=e.PConstants,r=e.PMatrix2D,o=e.PMatrix3D;return e=function(e){this.family=e||l.GROUP,this.style=this.visible=!0,this.children=[],this.nameTable=[],this.params=[],this.name="",this.parent=this.height=this.width=this.close=this.kind=this.matrix=this.image=null},e.prototype={isVisible:function(){return this.visible},setVisible:function(e){this.visible=e},disableStyle:function(){this.style=!1;for(var e=0,l=this.children.length;e<l;e++)this.children[e].disableStyle()},enableStyle:function(){this.style=!0;for(var e=0,l=this.children.length;e<l;e++)this.children[e].enableStyle()},getFamily:function(){return this.family},getWidth:function(){return this.width},getHeight:function(){return this.height},setName:function(e){this.name=e},getName:function(){return this.name},draw:function(e){if(!e)throw"render context missing for draw() in PShape";this.visible&&(this.pre(e),this.drawImpl(e),this.post(e))},drawImpl:function(e){this.family===l.GROUP?this.drawGroup(e):this.family===l.PRIMITIVE?this.drawPrimitive(e):this.family===l.GEOMETRY?this.drawGeometry(e):this.family===l.PATH&&this.drawPath(e)},drawPath:function(e){var r,o;if(0!==this.vertices.length){if(e.beginShape(),0===this.vertexCodes.length)if(2===this.vertices[0].length)for(r=0,o=this.vertices.length;r<o;r++)e.vertex(this.vertices[r][0],this.vertices[r][1]);else for(r=0,o=this.vertices.length;r<o;r++)e.vertex(this.vertices[r][0],this.vertices[r][1],this.vertices[r][2]);else{var t=0;if(2===this.vertices[0].length)for(r=0,o=this.vertexCodes.length;r<o;r++)this.vertexCodes[r]===l.VERTEX?(e.vertex(this.vertices[t][0],this.vertices[t][1],this.vertices[t].moveTo),e.breakShape=!1,t++):this.vertexCodes[r]===l.BEZIER_VERTEX?(e.bezierVertex(this.vertices[t+0][0],this.vertices[t+0][1],this.vertices[t+1][0],this.vertices[t+1][1],this.vertices[t+2][0],this.vertices[t+2][1]),t+=3):this.vertexCodes[r]===l.CURVE_VERTEX?(e.curveVertex(this.vertices[t][0],this.vertices[t][1]),t++):this.vertexCodes[r]===l.BREAK&&(e.breakShape=!0);else for(r=0,o=this.vertexCodes.length;r<o;r++)this.vertexCodes[r]===l.VERTEX?(e.vertex(this.vertices[t][0],this.vertices[t][1],this.vertices[t][2]),!0===this.vertices[t].moveTo?vertArray[vertArray.length-1].moveTo=!0:!1===this.vertices[t].moveTo&&(vertArray[vertArray.length-1].moveTo=!1),e.breakShape=!1):this.vertexCodes[r]===l.BEZIER_VERTEX?(e.bezierVertex(this.vertices[t+0][0],this.vertices[t+0][1],this.vertices[t+0][2],this.vertices[t+1][0],this.vertices[t+1][1],this.vertices[t+1][2],this.vertices[t+2][0],this.vertices[t+2][1],this.vertices[t+2][2]),t+=3):this.vertexCodes[r]===l.CURVE_VERTEX?(e.curveVertex(this.vertices[t][0],this.vertices[t][1],this.vertices[t][2]),t++):this.vertexCodes[r]===l.BREAK&&(e.breakShape=!0)}e.endShape(this.close?l.CLOSE:l.OPEN)}},drawGeometry:function(e){var l,r;if(e.beginShape(this.kind),this.style)for(l=0,r=this.vertices.length;l<r;l++)e.vertex(this.vertices[l]);else for(l=0,r=this.vertices.length;l<r;l++){var o=this.vertices[l];0===o[2]?e.vertex(o[0],o[1]):e.vertex(o[0],o[1],o[2])}e.endShape()},drawGroup:function(e){for(var l=0,r=this.children.length;l<r;l++)this.children[l].draw(e)},drawPrimitive:function(e){if(this.kind===l.POINT)e.point(this.params[0],this.params[1]);else if(this.kind===l.LINE)4===this.params.length?e.line(this.params[0],this.params[1],this.params[2],this.params[3]):e.line(this.params[0],this.params[1],this.params[2],this.params[3],this.params[4],this.params[5]);else if(this.kind===l.TRIANGLE)e.triangle(this.params[0],this.params[1],this.params[2],this.params[3],this.params[4],this.params[5]);else if(this.kind===l.QUAD)e.quad(this.params[0],this.params[1],this.params[2],this.params[3],this.params[4],this.params[5],this.params[6],this.params[7]);else if(this.kind===l.RECT)if(null!==this.image){var r=imageModeConvert;e.imageMode(l.CORNER),e.image(this.image,this.params[0],this.params[1],this.params[2],this.params[3]),imageModeConvert=r}else r=e.curRectMode,e.rectMode(l.CORNER),e.rect(this.params[0],this.params[1],this.params[2],this.params[3]),e.curRectMode=r;else this.kind===l.ELLIPSE?(r=e.curEllipseMode,e.ellipseMode(l.CORNER),e.ellipse(this.params[0],this.params[1],this.params[2],this.params[3]),e.curEllipseMode=r):this.kind===l.ARC?(r=curEllipseMode,e.ellipseMode(l.CORNER),e.arc(this.params[0],this.params[1],this.params[2],this.params[3],this.params[4],this.params[5]),curEllipseMode=r):this.kind===l.BOX?1===this.params.length?e.box(this.params[0]):e.box(this.params[0],this.params[1],this.params[2]):this.kind===l.SPHERE&&e.sphere(this.params[0])},pre:function(e){this.matrix&&(e.pushMatrix(),e.transform(this.matrix)),this.style&&(e.pushStyle(),this.styles(e))},post:function(e){this.matrix&&e.popMatrix(),this.style&&e.popStyle()},styles:function(e){this.stroke?(e.stroke(this.strokeColor),e.strokeWeight(this.strokeWeight),e.strokeCap(this.strokeCap),e.strokeJoin(this.strokeJoin)):e.noStroke(),this.fill?e.fill(this.fillColor):e.noFill()},getChild:function(e){var l,r;if("number"==typeof e)return this.children[e];var o;if(""===e||this.name===e)return this;if(0<this.nameTable.length){for(l=0,r=this.nameTable.length;l<r||o;l++)if(this.nameTable[l].getName===e){o=this.nameTable[l];break}if(o)return o}for(l=0,r=this.children.length;l<r;l++)if(o=this.children[l].getChild(e))return o;return null},getChildCount:function(){return this.children.length},addChild:function(e){this.children.push(e),e.parent=this,null!==e.getName()&&this.addName(e.getName(),e)},addName:function(e,l){null!==this.parent?this.parent.addName(e,l):this.nameTable.push([e,l])},translate:function(){2===arguments.length?(this.checkMatrix(2),this.matrix.translate(arguments[0],arguments[1])):(this.checkMatrix(3),this.matrix.translate(arguments[0],arguments[1],0))},checkMatrix:function(e){null===this.matrix?this.matrix=2===e?new r:new o:3===e&&this.matrix instanceof r&&(this.matrix=new o)},rotateX:function(e){this.rotate(e,1,0,0)},rotateY:function(e){this.rotate(e,0,1,0)},rotateZ:function(e){this.rotate(e,0,0,1)},rotate:function(){1===arguments.length?(this.checkMatrix(2),this.matrix.rotate(arguments[0])):(this.checkMatrix(3),this.matrix.rotate(arguments[0],arguments[1],arguments[2],arguments[3]))},scale:function(){2===arguments.length?(this.checkMatrix(2),this.matrix.scale(arguments[0],arguments[1])):3===arguments.length?(this.checkMatrix(2),this.matrix.scale(arguments[0],arguments[1],arguments[2])):(this.checkMatrix(2),this.matrix.scale(arguments[0]))},resetMatrix:function(){this.checkMatrix(2),this.matrix.reset()},applyMatrix:function(e){1===arguments.length?this.applyMatrix(e.elements[0],e.elements[1],0,e.elements[2],e.elements[3],e.elements[4],0,e.elements[5],0,0,1,0,0,0,0,1):6===arguments.length?(this.checkMatrix(2),this.matrix.apply(arguments[0],arguments[1],arguments[2],0,arguments[3],arguments[4],arguments[5],0,0,0,1,0,0,0,0,1)):16===arguments.length&&(this.checkMatrix(3),this.matrix.apply(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]))}},e}},{}],16:[function(e,l,r){l.exports=function(e){var l=e.CommonFunctions,r=e.PConstants,o=e.PShape,t=e.XMLElement,s=e.colors,i=function(){if(o.call(this),1===arguments.length){if(this.element=arguments[0],this.vertexCodes=[],this.vertices=[],this.opacity=1,this.stroke=!1,this.strokeColor=r.ALPHA_MASK,this.strokeWeight=1,this.strokeCap=r.SQUARE,this.strokeJoin=r.MITER,this.strokeName=this.strokeGradientPaint=this.strokeGradient=null,this.strokeOpacity=1,this.fill=!0,this.fillColor=r.ALPHA_MASK,this.fillName=this.fillGradientPaint=this.fillGradient=null,this.fillOpacity=1,"svg"!==this.element.getName())throw"root is not <svg>, it's <"+this.element.getName()+">"}else 2===arguments.length&&("string"==typeof arguments[1]?-1<arguments[1].indexOf(".svg")&&(this.element=new t(!0,arguments[1]),this.vertexCodes=[],this.vertices=[],this.opacity=1,this.stroke=!1,this.strokeColor=r.ALPHA_MASK,this.strokeWeight=1,this.strokeCap=r.SQUARE,this.strokeJoin=r.MITER,this.strokeName=this.strokeGradientPaint=this.strokeGradient="",this.strokeOpacity=1,this.fill=!0,this.fillColor=r.ALPHA_MASK,this.fillGradientPaint=this.fillGradient=null,this.fillOpacity=1):arguments[0]&&(this.element=arguments[1],this.vertexCodes=arguments[0].vertexCodes.slice(),this.vertices=arguments[0].vertices.slice(),this.stroke=arguments[0].stroke,this.strokeColor=arguments[0].strokeColor,this.strokeWeight=arguments[0].strokeWeight,this.strokeCap=arguments[0].strokeCap,this.strokeJoin=arguments[0].strokeJoin,this.strokeGradient=arguments[0].strokeGradient,this.strokeGradientPaint=arguments[0].strokeGradientPaint,this.strokeName=arguments[0].strokeName,this.fill=arguments[0].fill,this.fillColor=arguments[0].fillColor,this.fillGradient=arguments[0].fillGradient,this.fillGradientPaint=arguments[0].fillGradientPaint,this.fillName=arguments[0].fillName,this.strokeOpacity=arguments[0].strokeOpacity,this.fillOpacity=arguments[0].fillOpacity,this.opacity=arguments[0].opacity));this.name=this.element.getStringAttribute("id"),this.visible="none"!==this.element.getStringAttribute("display","inline"),(e=this.element.getAttribute("transform"))&&(this.matrix=this.parseMatrix(e)),null!==(e=this.element.getStringAttribute("viewBox"))&&(e=e.split(" "),this.width=e[2],this.height=e[3]);var e=this.element.getStringAttribute("width"),l=this.element.getStringAttribute("height");if(null!==e)this.width=this.parseUnitSize(e),this.height=this.parseUnitSize(l);else if(0===this.width||0===this.height)throw this.height=this.width=1,"The width and/or height is not readable in the <svg> tag of this file.";this.parseColors(this.element),this.parseChildren(this.element)};return i.prototype=new o,i.prototype.parseMatrix=function(){function e(e){var l=[];return e.replace(/\((.*?)\)/,function(){return function(e,r){l=r.replace(/,+/g," ").split(/\s+/)}}()),l}return function(r){this.checkMatrix(2);var o=[];if(r.replace(/\s*(\w+)\((.*?)\)/g,function(e){o.push(l.trim(e))}),0===o.length)return null;r=0;for(var t=o.length;r<t;r++){var s=e(o[r]);if(-1!==o[r].indexOf("matrix"))this.matrix.set(s[0],s[2],s[4],s[1],s[3],s[5]);else if(-1!==o[r].indexOf("translate"))this.matrix.translate(s[0],2===s.length?s[1]:0);else if(-1!==o[r].indexOf("scale"))this.matrix.scale(s[0],2===s.length?s[1]:s[0]);else if(-1!==o[r].indexOf("rotate")){var i=s[0];1===s.length?this.matrix.rotate(l.radians(i)):3===s.length&&(this.matrix.translate(s[1],s[2]),this.matrix.rotate(l.radians(s[0])),this.matrix.translate(-s[1],-s[2]))}else-1!==o[r].indexOf("skewX")?this.matrix.skewX(parseFloat(s[0])):-1!==o[r].indexOf("skewY")?this.matrix.skewY(s[0]):-1!==o[r].indexOf("shearX")?this.matrix.shearX(s[0]):-1!==o[r].indexOf("shearY")&&this.matrix.shearY(s[0])}return this.matrix}}(),i.prototype.parseChildren=function(e){e=e.getChildren();var l,r,t=new o;for(l=0,r=e.length;l<r;l++){var s=this.parseChild(e[l]);s&&t.addChild(s)}for(l=0,r=t.children.length;l<r;l++)this.children.push(t.children[l])},i.prototype.getName=function(){return this.name},i.prototype.parseChild=function(e){var l,r=e.getName();return"g"===r?l=new i(this,e):"defs"===r?l=new i(this,e):"line"===r?(l=new i(this,e)).parseLine():"circle"===r?(l=new i(this,e)).parseEllipse(!0):"ellipse"===r?(l=new i(this,e)).parseEllipse(!1):"rect"===r?(l=new i(this,e)).parseRect():"polygon"===r?(l=new i(this,e)).parsePoly(!0):"polyline"===r?(l=new i(this,e)).parsePoly(!1):"path"===r?(l=new i(this,e)).parsePath():"radialGradient"===r?unimplemented("PShapeSVG.prototype.parseChild, name = radialGradient"):"linearGradient"===r?unimplemented("PShapeSVG.prototype.parseChild, name = linearGradient"):"text"===r?unimplemented("PShapeSVG.prototype.parseChild, name = text"):"filter"===r?unimplemented("PShapeSVG.prototype.parseChild, name = filter"):"mask"===r&&unimplemented("PShapeSVG.prototype.parseChild, name = mask"),l},i.prototype.parsePath=function(){if(this.family=r.PATH,this.kind=0,null!==(s=l.trim(this.element.getStringAttribute("d").replace(/[\s,]+/g," "))))for(var e,o,t,s=s.split(""),i=0,a=0,n=0,c=0,d=c=n=0,u=0,h=0,p=0,f=p=c=h=n=0,m=0,g="",b=[],k=!1;f<s.length;)if(65<=(m=s[f].charCodeAt(0))&&90>=m||97<=m&&122>=m){if(t=f,++f<s.length)for(b=[],m=s[f].charCodeAt(0);!(65<=m&&90>=m||97<=m&&100>=m||102<=m&&122>=m)&&!1===k;)32===m?""!==g&&(b.push(parseFloat(g)),g=""):45===m?101===s[f-1].charCodeAt(0)?g+=s[f].toString():(""!==g&&b.push(parseFloat(g)),g=s[f].toString()):g+=s[f].toString(),f++,f===s.length?k=!0:m=s[f].charCodeAt(0);if(""!==g&&(b.push(parseFloat(g)),g=""),o=s[t],77===(m=o.charCodeAt(0))){if(2<=b.length&&0==b.length%2&&(i=b[0],a=b[1],this.parsePathMoveto(i,a),2<b.length))for(t=2,m=b.length;t<m;t+=2)i=b[t],a=b[t+1],this.parsePathLineto(i,a)}else if(109===m){if(2<=b.length&&0==b.length%2&&(i+=b[0],a+=b[1],this.parsePathMoveto(i,a),2<b.length))for(t=2,m=b.length;t<m;t+=2)i+=b[t],a+=b[t+1],this.parsePathLineto(i,a)}else if(76===m){if(2<=b.length&&0==b.length%2)for(t=0,m=b.length;t<m;t+=2)i=b[t],a=b[t+1],this.parsePathLineto(i,a)}else if(108===m){if(2<=b.length&&0==b.length%2)for(t=0,m=b.length;t<m;t+=2)i+=b[t],a+=b[t+1],this.parsePathLineto(i,a)}else if(72===m)for(t=0,m=b.length;t<m;t++)i=b[t],this.parsePathLineto(i,a);else if(104===m)for(t=0,m=b.length;t<m;t++)i+=b[t],this.parsePathLineto(i,a);else if(86===m)for(t=0,m=b.length;t<m;t++)a=b[t],this.parsePathLineto(i,a);else if(118===m)for(t=0,m=b.length;t<m;t++)a+=b[t],this.parsePathLineto(i,a);else if(67===m){if(6<=b.length&&0==b.length%6)for(t=0,m=b.length;t<m;t+=6)n=b[t],d=b[t+1],c=b[t+2],u=b[t+3],h=b[t+4],p=b[t+5],this.parsePathCurveto(n,d,c,u,h,p),i=h,a=p}else if(99===m){if(6<=b.length&&0==b.length%6)for(t=0,m=b.length;t<m;t+=6)n=i+b[t],d=a+b[t+1],c=i+b[t+2],u=a+b[t+3],h=i+b[t+4],p=a+b[t+5],this.parsePathCurveto(n,d,c,u,h,p),i=h,a=p}else if(83===m){if(4<=b.length&&0==b.length%4)for(t=0,m=b.length;t<m;t+=4)"c"===e.toLowerCase()||"s"===e.toLowerCase()?(n=this.vertices[this.vertices.length-2][0],h=this.vertices[this.vertices.length-2][1],c=this.vertices[this.vertices.length-1][0],p=this.vertices[this.vertices.length-1][1],n=c+(c-n),d=p+(p-h)):(n=this.vertices[this.vertices.length-1][0],d=this.vertices[this.vertices.length-1][1]),c=b[t],u=b[t+1],h=b[t+2],p=b[t+3],this.parsePathCurveto(n,d,c,u,h,p),i=h,a=p}else if(115===m){if(4<=b.length&&0==b.length%4)for(t=0,m=b.length;t<m;t+=4)"c"===e.toLowerCase()||"s"===e.toLowerCase()?(n=this.vertices[this.vertices.length-2][0],h=this.vertices[this.vertices.length-2][1],c=this.vertices[this.vertices.length-1][0],p=this.vertices[this.vertices.length-1][1],n=c+(c-n),d=p+(p-h)):(n=this.vertices[this.vertices.length-1][0],d=this.vertices[this.vertices.length-1][1]),c=i+b[t],u=a+b[t+1],h=i+b[t+2],p=a+b[t+3],this.parsePathCurveto(n,d,c,u,h,p),i=h,a=p}else if(81===m){if(4<=b.length&&0==b.length%4)for(t=0,m=b.length;t<m;t+=4)n=b[t],c=b[t+1],h=b[t+2],p=b[t+3],this.parsePathQuadto(i,a,n,c,h,p),i=h,a=p}else if(113===m){if(4<=b.length&&0==b.length%4)for(t=0,m=b.length;t<m;t+=4)n=i+b[t],c=a+b[t+1],h=i+b[t+2],p=a+b[t+3],this.parsePathQuadto(i,a,n,c,h,p),i=h,a=p}else if(84===m){if(2<=b.length&&0==b.length%2)for(t=0,m=b.length;t<m;t+=2)"q"===e.toLowerCase()||"t"===e.toLowerCase()?(n=this.vertices[this.vertices.length-2][0],h=this.vertices[this.vertices.length-2][1],c=this.vertices[this.vertices.length-1][0],p=this.vertices[this.vertices.length-1][1],n=c+(c-n),c=p+(p-h)):(n=i,c=a),h=b[t],p=b[t+1],this.parsePathQuadto(i,a,n,c,h,p),i=h,a=p}else if(116===m){if(2<=b.length&&0==b.length%2)for(t=0,m=b.length;t<m;t+=2)"q"===e.toLowerCase()||"t"===e.toLowerCase()?(n=this.vertices[this.vertices.length-2][0],h=this.vertices[this.vertices.length-2][1],c=this.vertices[this.vertices.length-1][0],p=this.vertices[this.vertices.length-1][1],n=c+(c-n),c=p+(p-h)):(n=i,c=a),h=i+b[t],p=a+b[t+1],this.parsePathQuadto(i,a,n,c,h,p),i=h,a=p}else 90!==m&&122!==m||(this.close=!0);e=o.toString()}else f++},i.prototype.parsePathQuadto=function(e,l,o,t,s,i){if(!(0<this.vertices.length))throw"Path must start with M/m";this.parsePathCode(r.BEZIER_VERTEX),this.parsePathVertex(e+2*(o-e)/3,l+2*(t-l)/3),this.parsePathVertex(s+2*(o-s)/3,i+2*(t-i)/3),this.parsePathVertex(s,i)},i.prototype.parsePathCurveto=function(e,l,o,t,s,i){if(!(0<this.vertices.length))throw"Path must start with M/m";this.parsePathCode(r.BEZIER_VERTEX),this.parsePathVertex(e,l),this.parsePathVertex(o,t),this.parsePathVertex(s,i)},i.prototype.parsePathLineto=function(e,l){if(!(0<this.vertices.length))throw"Path must start with M/m";this.parsePathCode(r.VERTEX),this.parsePathVertex(e,l),this.vertices[this.vertices.length-1].moveTo=!1},i.prototype.parsePathMoveto=function(e,l){0<this.vertices.length&&this.parsePathCode(r.BREAK),this.parsePathCode(r.VERTEX),this.parsePathVertex(e,l),this.vertices[this.vertices.length-1].moveTo=!0},i.prototype.parsePathVertex=function(e,l){var r=[];r[0]=e,r[1]=l,this.vertices.push(r)},i.prototype.parsePathCode=function(e){this.vertexCodes.push(e)},i.prototype.parsePoly=function(e){if(this.family=r.PATH,this.close=e,null!==(e=l.trim(this.element.getStringAttribute("points").replace(/[,\s]+/g," ")))){if(0!=(e=e.split(" ")).length%2)throw"Error parsing polygon points: odd number of coordinates provided";for(var o=0,t=e.length;o<t;o++){var s=[];s[0]=e[o],s[1]=e[++o],this.vertices.push(s)}}},i.prototype.parseRect=function(){if(this.kind=r.RECT,this.family=r.PRIMITIVE,this.params=[],this.params[0]=this.element.getFloatAttribute("x"),this.params[1]=this.element.getFloatAttribute("y"),this.params[2]=this.element.getFloatAttribute("width"),this.params[3]=this.element.getFloatAttribute("height"),0>this.params[2]||0>this.params[3])throw"svg error: negative width or height found while parsing <rect>"},i.prototype.parseEllipse=function(e){this.kind=r.ELLIPSE,this.family=r.PRIMITIVE,this.params=[],this.params[0]=0|this.element.getFloatAttribute("cx"),this.params[1]=0|this.element.getFloatAttribute("cy");var l;if(e){if(0>(e=l=this.element.getFloatAttribute("r")))throw"svg error: negative radius found while parsing <circle>"}else if(e=this.element.getFloatAttribute("rx"),l=this.element.getFloatAttribute("ry"),0>e||0>l)throw"svg error: negative x-axis radius or y-axis radius found while parsing <ellipse>";this.params[0]-=e,this.params[1]-=l,this.params[2]=2*e,this.params[3]=2*l},i.prototype.parseLine=function(){this.kind=r.LINE,this.family=r.PRIMITIVE,this.params=[],this.params[0]=this.element.getFloatAttribute("x1"),this.params[1]=this.element.getFloatAttribute("y1"),this.params[2]=this.element.getFloatAttribute("x2"),this.params[3]=this.element.getFloatAttribute("y2")},i.prototype.parseColors=function(e){if(e.hasAttribute("opacity")&&this.setOpacity(e.getAttribute("opacity")),e.hasAttribute("stroke")&&this.setStroke(e.getAttribute("stroke")),e.hasAttribute("stroke-width")&&this.setStrokeWeight(e.getAttribute("stroke-width")),e.hasAttribute("stroke-linejoin")&&this.setStrokeJoin(e.getAttribute("stroke-linejoin")),e.hasAttribute("stroke-linecap")&&this.setStrokeCap(e.getStringAttribute("stroke-linecap")),e.hasAttribute("fill")&&this.setFill(e.getStringAttribute("fill")),e.hasAttribute("style"))for(var r=0,o=(e=e.getStringAttribute("style").toString().split(";")).length;r<o;r++){var t=l.trim(e[r].split(":"));"fill"===t[0]?this.setFill(t[1]):"fill-opacity"===t[0]?this.setFillOpacity(t[1]):"stroke"===t[0]?this.setStroke(t[1]):"stroke-width"===t[0]?this.setStrokeWeight(t[1]):"stroke-linecap"===t[0]?this.setStrokeCap(t[1]):"stroke-linejoin"===t[0]?this.setStrokeJoin(t[1]):"stroke-opacity"===t[0]?this.setStrokeOpacity(t[1]):"opacity"===t[0]&&this.setOpacity(t[1])}},i.prototype.setFillOpacity=function(e){this.fillOpacity=parseFloat(e),this.fillColor=255*this.fillOpacity<<24|16777215&this.fillColor},i.prototype.setFill=function(e){var l=4278190080&this.fillColor;"none"===e?this.fill=!1:0===e.indexOf("#")?(this.fill=!0,4===e.length&&(e=e.replace(/#(.)(.)(.)/,"#$1$1$2$2$3$3")),this.fillColor=l|16777215&parseInt(e.substring(1),16)):0===e.indexOf("rgb")?(this.fill=!0,this.fillColor=l|this.parseRGB(e)):0===e.indexOf("url(#")?this.fillName=e.substring(5,e.length-1):s[e]&&(this.fill=!0,this.fillColor=l|16777215&parseInt(s[e].substring(1),16))},i.prototype.setOpacity=function(e){this.strokeColor=255*parseFloat(e)<<24|16777215&this.strokeColor,this.fillColor=255*parseFloat(e)<<24|16777215&this.fillColor},i.prototype.setStroke=function(e){var l=4278190080&this.strokeColor;"none"===e?this.stroke=!1:"#"===e.charAt(0)?(this.stroke=!0,4===e.length&&(e=e.replace(/#(.)(.)(.)/,"#$1$1$2$2$3$3")),this.strokeColor=l|16777215&parseInt(e.substring(1),16)):0===e.indexOf("rgb")?(this.stroke=!0,this.strokeColor=l|this.parseRGB(e)):0===e.indexOf("url(#")?this.strokeName=e.substring(5,e.length-1):s[e]&&(this.stroke=!0,this.strokeColor=l|16777215&parseInt(s[e].substring(1),16))},i.prototype.setStrokeWeight=function(e){this.strokeWeight=this.parseUnitSize(e)},i.prototype.setStrokeJoin=function(e){"miter"===e?this.strokeJoin=r.MITER:"round"===e?this.strokeJoin=r.ROUND:"bevel"===e&&(this.strokeJoin=r.BEVEL)},i.prototype.setStrokeCap=function(e){"butt"===e?this.strokeCap=r.SQUARE:"round"===e?this.strokeCap=r.ROUND:"square"===e&&(this.strokeCap=r.PROJECT)},i.prototype.setStrokeOpacity=function(e){this.strokeOpacity=parseFloat(e),this.strokeColor=255*this.strokeOpacity<<24|16777215&this.strokeColor},i.prototype.parseRGB=function(e){return(e=e.substring(e.indexOf("(")+1,e.indexOf(")")).split(", "))[0]<<16|e[1]<<8|e[2]},i.prototype.parseUnitSize=function(e){var l=e.length-2;return 0>l?e:e.indexOf("pt")===l?1.25*parseFloat(e.substring(0,l)):e.indexOf("pc")===l?15*parseFloat(e.substring(0,l)):e.indexOf("mm")===l?3.543307*parseFloat(e.substring(0,l)):e.indexOf("cm")===l?35.43307*parseFloat(e.substring(0,l)):e.indexOf("in")===l?90*parseFloat(e.substring(0,l)):e.indexOf("px")===l?parseFloat(e.substring(0,l)):parseFloat(e)},i}},{}],17:[function(e,l,r){l.exports=function(e,l){function r(e,l,r){this.x=e||0,this.y=l||0,this.z=r||0}var o=e.PConstants;r.fromAngle=function(e,o){return o!==l&&null!==o||(o=new r),o.x=Math.cos(e),o.y=Math.sin(e),o},r.random2D=function(e){return r.fromAngle(Math.random()*o.TWO_PI,e)},r.random3D=function(e){var t=Math.random()*o.TWO_PI,s=2*Math.random()-1,i=Math.sqrt(1-s*s),a=i*Math.cos(t),t=i*Math.sin(t);return e===l||null===e?e=new r(a,t,s):e.set(a,t,s),e},r.dist=function(e,l){return e.dist(l)},r.dot=function(e,l){return e.dot(l)},r.cross=function(e,l){return e.cross(l)},r.sub=function(e,l){return new r(e.x-l.x,e.y-l.y,e.z-l.z)},r.angleBetween=function(e,l){return Math.acos(e.dot(l)/(e.mag()*l.mag()))},r.lerp=function(e,l,o){return(e=new r(e.x,e.y,e.z)).lerp(l,o),e},r.prototype={set:function(e,l,r){1===arguments.length?this.set(e.x||e[0]||0,e.y||e[1]||0,e.z||e[2]||0):(this.x=e,this.y=l,this.z=r)},get:function(){return new r(this.x,this.y,this.z)},mag:function(){var e=this.x,l=this.y,r=this.z;return Math.sqrt(e*e+l*l+r*r)},magSq:function(){var e=this.x,l=this.y,r=this.z;return e*e+l*l+r*r},setMag:function(e,r){if(r!==l)return e.normalize(),e.mult(r),e;r=e,this.normalize(),this.mult(r)},add:function(e,l,r){1===arguments.length?(this.x+=e.x,this.y+=e.y,this.z+=e.z):(this.x+=e,this.y+=l,this.z+=r)},sub:function(e,l,r){1===arguments.length?(this.x-=e.x,this.y-=e.y,this.z-=e.z):(this.x-=e,this.y-=l,this.z-=r)},mult:function(e){"number"==typeof e?(this.x*=e,this.y*=e,this.z*=e):(this.x*=e.x,this.y*=e.y,this.z*=e.z)},div:function(e){"number"==typeof e?(this.x/=e,this.y/=e,this.z/=e):(this.x/=e.x,this.y/=e.y,this.z/=e.z)},rotate:function(e){var l=this.x,r=Math.cos(e);e=Math.sin(e),this.x=r*this.x-e*this.y,this.y=e*l+r*this.y},dist:function(e){var l=this.x-e.x,r=this.y-e.y;return e=this.z-e.z,Math.sqrt(l*l+r*r+e*e)},dot:function(e,l,r){return 1===arguments.length?this.x*e.x+this.y*e.y+this.z*e.z:this.x*e+this.y*l+this.z*r},cross:function(e){var l=this.x,o=this.y,t=this.z;return new r(o*e.z-e.y*t,t*e.x-e.z*l,l*e.y-e.x*o)},lerp:function(e,l,r,o){var t,s;2===arguments.length?(o=l,t=e.x,s=e.y,r=e.z):(t=e,s=l),this.x+=(t-this.x)*o,this.y+=(s-this.y)*o,this.z+=(r-this.z)*o},normalize:function(){var e=this.mag();0<e&&this.div(e)},limit:function(e){this.mag()>e&&(this.normalize(),this.mult(e))},heading:function(){return-Math.atan2(-this.y,this.x)},heading2D:function(){return this.heading()},toString:function(){return"["+this.x+", "+this.y+", "+this.z+"]"},array:function(){return[this.x,this.y,this.z]}};for(var t in r.prototype)r.prototype.hasOwnProperty(t)&&!r.hasOwnProperty(t)&&(r[t]=function(e){return function(l,r){var o=l.get();return o[e](r),o}}(t));return r}},{}],18:[function(e,l,r){l.exports=function(){var e=function(e,l,r,o,t){this.fullName=e||"",this.name=l||"",this.namespace=r||"",this.value=o,this.type=t};return e.prototype={getName:function(){return this.name},getFullName:function(){return this.fullName},getNamespace:function(){return this.namespace},getValue:function(){return this.value},getType:function(){return this.type},setValue:function(e){this.value=e}},e}},{}],19:[function(e,l,r){l.exports=function(e,l){var r=e.Browser,o=r.ajax,t=r.window.DOMParser,s=e.XMLAttribute,i=function(e,r,o,t){this.attributes=[],this.children=[],this.name=this.fullName=null,this.namespace="",this.parent=this.content=null,this.systemID=this.lineNr="",this.type="ELEMENT",e&&("string"==typeof e?r===l&&-1<e.indexOf("<")?this.parse(e):(this.fullName=e,this.namespace=r,this.systemId=o,this.lineNr=t):this.parse(r))};return i.prototype={parse:function(e){var l;try{var r=e.substring(e.length-4);".xml"!==r&&".svg"!==r||(e=o(e));var s=(l=(new t).parseFromString(e,"text/xml")).documentElement;if(!s)throw"Error loading document";return this.parseChildrenRecursive(null,s),this}catch(e){throw e}},parseChildrenRecursive:function(e,l){var r,o,t,a;if(e?(r=new i(l.nodeName),r.parent=e):(this.fullName=l.localName,this.name=l.nodeName,r=this),3===l.nodeType&&""!==l.textContent)return this.createPCDataElement(l.textContent);if(4===l.nodeType)return this.createCDataElement(l.textContent);if(l.attributes)for(t=0,a=l.attributes.length;t<a;t++)o=l.attributes[t],o=new s(o.getname,o.nodeName,o.namespaceURI,o.nodeValue,o.nodeType),r.attributes.push(o);if(l.childNodes)for(t=0,a=l.childNodes.length;t<a;t++)null!==(o=r.parseChildrenRecursive(r,l.childNodes[t]))&&r.children.push(o);return r},createElement:function(e,r,o,t){return o===l?new i(e,r):new i(e,r,o,t)},createPCDataElement:function(e,l){if(""===e.replace(/^\s+$/g,""))return null;var r=new i;return r.type="TEXT",r.content=e,r},createCDataElement:function(e){var l=this.createPCDataElement(e);if(null===l)return null;l.type="CDATA";var r,o={"<":"&lt;",">":"&gt;","'":"&apos;",'"':"&quot;"};for(r in o)Object.hasOwnProperty(o,r)||(e=e.replace(RegExp(r,"g"),o[r]));return l.cdata=e,l},hasAttribute:function(){return 1===arguments.length?null!==this.getAttribute(arguments[0]):2===arguments.length?null!==this.getAttribute(arguments[0],arguments[1]):void 0},equals:function(e){if(!(e instanceof i))return!1;var l,r;if(this.fullName!==e.fullName||this.attributes.length!==e.getAttributeCount()||this.attributes.length!==e.attributes.length)return!1;var o,t;for(l=0,r=this.attributes.length;l<r;l++)if(o=this.attributes[l].getName(),t=this.attributes[l].getNamespace(),null===(o=e.findAttribute(o,t))||this.attributes[l].getValue()!==o.getValue()||this.attributes[l].getType()!==o.getType())return!1;if(this.children.length!==e.getChildCount())return!1;if(0<this.children.length){for(l=0,r=this.children.length;l<r;l++)if(o=this.getChild(l),t=e.getChild(l),!o.equals(t))return!1;return!0}return this.content===e.content},getContent:function(){if("TEXT"===this.type||"CDATA"===this.type)return this.content;var e=this.children;return 1!==e.length||"TEXT"!==e[0].type&&"CDATA"!==e[0].type?null:e[0].content},getAttribute:function(){var e;return 2===arguments.length?(e=this.findAttribute(arguments[0]))?e.getValue():arguments[1]:1===arguments.length?(e=this.findAttribute(arguments[0]))?e.getValue():null:3===arguments.length?(e=this.findAttribute(arguments[0],arguments[1]))?e.getValue():arguments[2]:void 0},getStringAttribute:function(){return 1===arguments.length?this.getAttribute(arguments[0]):2===arguments.length?this.getAttribute(arguments[0],arguments[1]):this.getAttribute(arguments[0],arguments[1],arguments[2])},getString:function(e){return this.getStringAttribute(e)},getFloatAttribute:function(){return 1===arguments.length?parseFloat(this.getAttribute(arguments[0],0)):2===arguments.length?this.getAttribute(arguments[0],arguments[1]):this.getAttribute(arguments[0],arguments[1],arguments[2])},getFloat:function(e){return this.getFloatAttribute(e)},getIntAttribute:function(){return 1===arguments.length?this.getAttribute(arguments[0],0):2===arguments.length?this.getAttribute(arguments[0],arguments[1]):this.getAttribute(arguments[0],arguments[1],arguments[2])},getInt:function(e){return this.getIntAttribute(e)},hasChildren:function(){return 0<this.children.length},addChild:function(e){null!==e&&(e.parent=this,this.children.push(e))},insertChild:function(e,l){if(e){if(null===e.getLocalName()&&!this.hasChildren()){var r=this.children[this.children.length-1];if(null===r.getLocalName())return void r.setContent(r.getContent()+e.getContent())}e.parent=this,this.children.splice(l,0,e)}},getChild:function(e){if("number"==typeof e)return this.children[e];if(-1!==e.indexOf("/"))return this.getChildRecursive(e.split("/"),0);for(var l,r,o=0,t=this.getChildCount();o<t;o++)if(l=this.getChild(o),null!==(r=l.getName())&&r===e)return l;return null},getChildren:function(){if(1===arguments.length){if("number"==typeof arguments[0])return this.getChild(arguments[0]);if(-1!==arguments[0].indexOf("/"))return this.getChildrenRecursive(arguments[0].split("/"),0);for(var e,l,r=[],o=0,t=this.getChildCount();o<t;o++)e=this.getChild(o),null!==(l=e.getName())&&l===arguments[0]&&r.push(e);return r}return this.children},getChildCount:function(){return this.children.length},getChildRecursive:function(e,l){if(l===e.length)return this;for(var r,o,t=e[l],s=0,i=this.getChildCount();s<i;s++)if(r=this.getChild(s),null!==(o=r.getName())&&o===t)return r.getChildRecursive(e,l+1);return null},getChildrenRecursive:function(e,l){if(l===e.length-1)return this.getChildren(e[l]);for(var r=this.getChildren(e[l]),o=[],t=0;t<r.length;t++)o=o.concat(r[t].getChildrenRecursive(e,l+1));return o},isLeaf:function(){return!this.hasChildren()},listChildren:function(){for(var e=[],l=0,r=this.children.length;l<r;l++)e.push(this.getChild(l).getName());return e},removeAttribute:function(e,l){this.namespace=l||"";for(var r=0,o=this.attributes.length;r<o;r++)if(this.attributes[r].getName()===e&&this.attributes[r].getNamespace()===this.namespace){this.attributes.splice(r,1);break}},removeChild:function(e){if(e)for(var l=0,r=this.children.length;l<r;l++)if(this.children[l].equals(e)){this.children.splice(l,1);break}},removeChildAtIndex:function(e){this.children.length>e&&this.children.splice(e,1)},findAttribute:function(e,l){this.namespace=l||"";for(var r=0,o=this.attributes.length;r<o;r++)if(this.attributes[r].getName()===e&&this.attributes[r].getNamespace()===this.namespace)return this.attributes[r];return null},setAttribute:function(){var e;if(3===arguments.length){e=arguments[0].indexOf(":");var l=arguments[0].substring(e+1);(e=this.findAttribute(l,arguments[1]))?e.setValue(arguments[2]):(e=new s(arguments[0],l,arguments[1],arguments[2],"CDATA"),this.attributes.push(e))}else(e=this.findAttribute(arguments[0]))?e.setValue(arguments[1]):(e=new s(arguments[0],arguments[0],null,arguments[1],"CDATA"),this.attributes.push(e))},setString:function(e,l){this.setAttribute(e,l)},setInt:function(e,l){this.setAttribute(e,l)},setFloat:function(e,l){this.setAttribute(e,l)},setContent:function(e){0<this.children.length&&Processing.debug("Tried to set content for XMLElement with children"),this.content=e},setName:function(){if(1===arguments.length)this.name=arguments[0],this.fullName=arguments[0],this.namespace=null;else{var e=arguments[0].indexOf(":");this.name=null===arguments[1]||0>e?arguments[0]:arguments[0].substring(e+1),this.fullName=arguments[0],this.namespace=arguments[1]}},getName:function(){return this.fullName},getLocalName:function(){return this.name},getAttributeCount:function(){return this.attributes.length},toString:function(){if("TEXT"===this.type)return this.content;if("CDATA"===this.type)return this.cdata;var e,l=this.fullName,r="<"+l;for(e=0;e<this.attributes.length;e++)var o=this.attributes[e],r=r+" "+o.getName()+'="'+o.getValue()+'"';if(0===this.children.length)r=""===this.content?r+"/>":r+">"+this.content+"</"+l+">";else{for(r+=">",e=0;e<this.children.length;e++)r+=this.children[e].toString();r+="</"+l+">"}return r}},i.parse=function(e){var l=new i;return l.parse(e),l},i}},{}],20:[function(e,l,r){l.exports={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"}},{}],21:[function(e,l,r){l.exports=function(e,l,r){return function(o,t){o.__contains=function(e,l){return"string"!=typeof e?e.contains.apply(e,t(arguments)):null!==e&&null!==l&&"string"==typeof l&&-1<e.indexOf(l)},o.__replaceAll=function(e,l,r){return"string"!=typeof e?e.replaceAll.apply(e,t(arguments)):e.replace(RegExp(l,"g"),r)},o.__replaceFirst=function(e,l,r){return"string"!=typeof e?e.replaceFirst.apply(e,t(arguments)):e.replace(RegExp(l,""),r)},o.__replace=function(e,l,r){if("string"!=typeof e)return e.replace.apply(e,t(arguments));if(l instanceof RegExp)return e.replace(l,r);if("string"!=typeof l&&(l=l.toString()),""===l)return e;var o=e.indexOf(l);if(0>o)return e;var s=0,i="";do{i+=e.substring(s,o)+r,s=o+l.length}while(0<=(o=e.indexOf(l,s)));return i+e.substring(s)},o.__equals=function(e,r){return e.equals instanceof Function?e.equals.apply(e,t(arguments)):l(e,r)},o.__equalsIgnoreCase=function(e,l){return"string"!=typeof e?e.equalsIgnoreCase.apply(e,t(arguments)):e.toLowerCase()===l.toLowerCase()},o.__toCharArray=function(e){if("string"!=typeof e)return e.toCharArray.apply(e,t(arguments));for(var l=[],r=0,o=e.length;r<o;++r)l[r]=new Char(e.charAt(r));return l},o.__split=function(e,l,o){if("string"!=typeof e)return e.split.apply(e,t(arguments));var s=RegExp(l);if(o===r||1>o)return e.split(s);for(var i,a=[],n=e;-1!==(i=n.search(s))&&a.length<o-1;){var c=s.exec(n).toString();a.push(n.substring(0,i)),n=n.substring(i+c.length)}return-1===i&&""===n||a.push(n),a},o.__codePointAt=function(e,l){var r,o=e.charCodeAt(l);return 55296<=o&&56319>=o?(r=e.charCodeAt(l+1),1024*(o-55296)+(r-56320)+65536):o},o.__matches=function(e,l){return RegExp(l).test(e)},o.__startsWith=function(e,l,r){return"string"!=typeof e?e.startsWith.apply(e,t(arguments)):!(0>(r=r||0)||r>e.length||""!==l&&l!==e&&e.indexOf(l)!==r)},o.__endsWith=function(e,l){if("string"!=typeof e)return e.endsWith.apply(e,t(arguments));var r=l?l.length:0;return""===l||l===e||e.indexOf(l)===e.length-r},o.__hashCode=function(l){return l.hashCode instanceof Function?l.hashCode.apply(l,t(arguments)):e(l)},o.__printStackTrace=function(e){o.println("Exception: "+e.toString())}}}},{}],22:[function(e,l,r){l.exports=function(e,l){function r(e,l){var r=e||362436069,o=l||521288629,t=function(){return r=36969*(65535&r)+(r>>>16)&4294967295,o=18e3*(65535&o)+(o>>>16)&4294967295,4294967295&((65535&r)<<16|65535&o)};this.doubleGenerator=function(){var e=t()/4294967296;return 0>e?1+e:e},this.intGenerator=t}function o(e){function o(e,l,r,o){var t=8>(e&=15)?l:r;return l=4>e?r:12===e||14===e?l:o,(0==(1&e)?t:-t)+(0==(2&e)?l:-l)}function t(e,l,r){return l=0==(1&e)?l:r,0==(2&e)?-l:l}function s(e,l,r){return l+e*(r-l)}e=e!==l?new r(e):r.createRandomized();var i,a,n=new Uint8Array(512);for(i=0;256>i;++i)n[i]=i;for(i=0;256>i;++i){var c=n[a=255&e.intGenerator()];n[a]=n[i],n[i]=c}for(i=0;256>i;++i)n[i+256]=n[i];this.noise3d=function(e,l,r){var t=255&Math.floor(e),i=255&Math.floor(l),a=255&Math.floor(r);e-=Math.floor(e),l-=Math.floor(l),r-=Math.floor(r);var c=(3-2*e)*e*e,d=(3-2*l)*l*l,u=n[t]+i,h=n[u]+a,u=n[u+1]+a,i=n[t+1]+i,t=n[i]+a,a=n[i+1]+a;return s((3-2*r)*r*r,s(d,s(c,o(n[h],e,l,r),o(n[t],e-1,l,r)),s(c,o(n[u],e,l-1,r),o(n[a],e-1,l-1,r))),s(d,s(c,o(n[h+1],e,l,r-1),o(n[t+1],e-1,l,r-1)),s(c,o(n[u+1],e,l-1,r-1),o(n[a+1],e-1,l-1,r-1))))},this.noise2d=function(e,l){var r=255&Math.floor(e),o=255&Math.floor(l);e-=Math.floor(e),l-=Math.floor(l);var i=(3-2*e)*e*e,a=n[r]+o,r=n[r+1]+o;return s((3-2*l)*l*l,s(i,t(n[a],e,l),t(n[r],e-1,l)),s(i,t(n[a+1],e,l-1),t(n[r+1],e-1,l-1)))},this.noise1d=function(e){var l=255&Math.floor(e);return e-=Math.floor(e),s((3-2*e)*e*e,0==(1&n[l])?-e:e,0==(1&n[l+1])?-(e-1):e-1)}}var t=function(){return Math.random()};e.abs=Math.abs,e.ceil=Math.ceil,e.exp=Math.exp,e.floor=Math.floor,e.log=Math.log,e.pow=Math.pow,e.round=Math.round,e.sqrt=Math.sqrt,e.acos=Math.acos,e.asin=Math.asin,e.atan=Math.atan,e.atan2=Math.atan2,e.cos=Math.cos,e.sin=Math.sin,e.tan=Math.tan,e.constrain=function(e,l,r){return e>r?r:e<l?l:e},e.dist=function(){var e,l,r;return 4===arguments.length?(e=arguments[0]-arguments[2],l=arguments[1]-arguments[3],Math.sqrt(e*e+l*l)):6===arguments.length?(e=arguments[0]-arguments[3],l=arguments[1]-arguments[4],r=arguments[2]-arguments[5],Math.sqrt(e*e+l*l+r*r)):void 0},e.lerp=function(e,l,r){return(l-e)*r+e},e.mag=function(e,l,r){return r?Math.sqrt(e*e+l*l+r*r):Math.sqrt(e*e+l*l)},e.map=function(e,l,r,o,t){return o+(e-l)/(r-l)*(t-o)},e.max=function(){if(2===arguments.length)return arguments[0]<arguments[1]?arguments[1]:arguments[0];var e=1===arguments.length?arguments[0]:arguments;if(!("length"in e&&0<e.length))throw"Non-empty array is expected";for(var l=e[0],r=e.length,o=1;o<r;++o)l<e[o]&&(l=e[o]);return l},e.min=function(){if(2===arguments.length)return arguments[0]<arguments[1]?arguments[0]:arguments[1];var e=1===arguments.length?arguments[0]:arguments;if(!("length"in e&&0<e.length))throw"Non-empty array is expected";for(var l=e[0],r=e.length,o=1;o<r;++o)l>e[o]&&(l=e[o]);return l},e.norm=function(e,l,r){return(e-l)/(r-l)},e.sq=function(e){return e*e},e.degrees=function(e){return 180*e/Math.PI},e.random=function(){if(0===arguments.length)return t();if(1===arguments.length)return t()*arguments[0];var e=arguments[0],l=arguments[1];return t()*(l-e)+e},r.createRandomized=function(){var e=new Date;return new r(e/6e4&4294967295,4294967295&e)},e.randomSeed=function(e){t=new r(e).doubleGenerator,this.haveNextNextGaussian=!1},e.randomGaussian=function(){if(this.haveNextNextGaussian)return this.haveNextNextGaussian=!1,this.nextNextGaussian;var e,l,r;do{r=(e=2*t()-1)*e+(l=2*t()-1)*l}while(1<=r||0===r);return r=Math.sqrt(-2*Math.log(r)/r),this.nextNextGaussian=l*r,this.haveNextNextGaussian=!0,e*r};var s=l,i=4,a=.5,n=l;e.noise=function(e,r,t){s===l&&(s=new o(n));for(var c=s,d=1,u=1,h=0,p=0;p<i;++p){switch(d*=a,arguments.length){case 1:h+=d*(1+c.noise1d(u*e))/2;break;case 2:h+=d*(1+c.noise2d(u*e,u*r))/2;break;case 3:h+=d*(1+c.noise3d(u*e,u*r,u*t))/2}u*=2}return h},e.noiseDetail=function(e,r){i=e,r!==l&&(a=r)},e.noiseSeed=function(e){n=e,s=l}}},{}],23:[function(e,l,r){l.exports=function(e){var l={trim:function(e){if(e instanceof Array){for(var l=[],r=0;r<e.length;r++)l.push(e[r].replace(/^\s*/,"").replace(/\s*$/,"").replace(/\r*$/,""));return l}return e.replace(/^\s*/,"").replace(/\s*$/,"").replace(/\r*$/,"")},radians:function(e){return e/180*Math.PI},nfCoreScalar:function(l,r,o,t,s,i){if(r=0>l?o:r,o=0===s,s=s===e||0>s?0:s,l=Math.abs(l),o)for(s=1,l*=10;1e-6<Math.abs(Math.round(l)-l)&&7>s;)++s,l*=10;else 0!==s&&(l*=Math.pow(10,s));for(o=2*l,Math.floor(l)===l?o=l:Math.floor(o)===o?(l=Math.floor(l),o=l+l%2):o=Math.round(l),l="",t+=s;0<t||0<o;)t--,l=""+o%10+l,o=Math.floor(o/10);if(i!==e)for(t=l.length-3-s;0<t;)l=l.substring(0,t)+i+l.substring(t),t-=3;return 0<s?r+l.substring(0,l.length-s)+"."+l.substring(l.length-s,l.length):r+l},nfCore:function(e,r,o,t,s,i){if(e instanceof Array){for(var a=[],n=0,c=e.length;n<c;n++)a.push(l.nfCoreScalar(e[n],r,o,t,s,i));return a}return l.nfCoreScalar(e,r,o,t,s,i)},nf:function(e,r,o){return l.nfCore(e,"","-",r,o)},nfs:function(e,r,o){return l.nfCore(e," ","-",r,o)},nfp:function(e,r,o){return l.nfCore(e,"+","-",r,o)},nfc:function(e,r){return l.nfCore(e,"","-",0,r,",")},withCommonFunctions:function(e){"trim radians nf nfs nfp nfc".split(" ").forEach(function(r){e[r]=l[r]})}};return l}()},{}],24:[function(e,l,r){l.exports=function(e,l,r,o,t,s){function i(l,r){var t=l,s=0,i=0;if(e.pmouseX=e.mouseX,e.pmouseY=e.mouseY,t.offsetParent)do{s+=t.offsetLeft,i+=t.offsetTop}while(t=t.offsetParent);t=l;do{s-=t.scrollLeft||0,i-=t.scrollTop||0}while(t=t.parentNode);var a,n,c,d;return o.defaultView&&o.defaultView.getComputedStyle&&(a=parseInt(o.defaultView.getComputedStyle(l,null).paddingLeft,10)||0,n=parseInt(o.defaultView.getComputedStyle(l,null).paddingTop,10)||0,c=parseInt(o.defaultView.getComputedStyle(l,null).borderLeftWidth,10)||0,d=parseInt(o.defaultView.getComputedStyle(l,null).borderTopWidth,10)||0),s=s+a+c,i=i+n+d,s+=window.pageXOffset,i+=window.pageYOffset,{X:s,Y:i}}function a(l,r){var o=i(l,r);e.mouseX=r.pageX-o.X,e.mouseY=r.pageY-o.Y}function n(e){var l,r=i(e.changedTouches[0].target,e.changedTouches[0]);for(l=0;l<e.touches.length;l++){var o=e.touches[l];o.offsetX=o.pageX-r.X,o.offsetY=o.pageY-r.Y}for(l=0;l<e.targetTouches.length;l++)o=e.targetTouches[l],o.offsetX=o.pageX-r.X,o.offsetY=o.pageY-r.Y;for(l=0;l<e.changedTouches.length;l++)o=e.changedTouches[l],o.offsetX=o.pageX-r.X,o.offsetY=o.pageY-r.Y;return e}r(l,"touchstart",function(o){l.setAttribute("style","-webkit-user-select: none"),l.setAttribute("onclick","void(0)"),l.setAttribute("style","-webkit-tap-highlight-color:rgba(0,0,0,0)");for(var i=0,c=eventHandlers.length;i<c;i++){var d=eventHandlers[i].type;"mouseout"!==d&&"mousemove"!==d&&"mousedown"!==d&&"mouseup"!==d&&"DOMMouseScroll"!==d&&"mousewheel"!==d&&"touchstart"!==d||detachEventHandler(eventHandlers[i])}e.touchStart!==s||e.touchMove!==s||e.touchEnd!==s||e.touchCancel!==s?(r(l,"touchstart",function(l){e.touchStart!==s&&(l=n(l),e.touchStart(l))}),r(l,"touchmove",function(l){e.touchMove!==s&&(l.preventDefault(),l=n(l),e.touchMove(l))}),r(l,"touchend",function(l){e.touchEnd!==s&&(l=n(l),e.touchEnd(l))}),r(l,"touchcancel",function(l){e.touchCancel!==s&&(l=n(l),e.touchCancel(l))})):(r(l,"touchstart",function(r){a(l,r.touches[0]),e.__mousePressed=!0,e.mouseDragging=!1,e.mouseButton=t.LEFT,"function"==typeof e.mousePressed&&e.mousePressed()}),r(l,"touchmove",function(r){r.preventDefault(),a(l,r.touches[0]),"function"!=typeof e.mouseMoved||e.__mousePressed||e.mouseMoved(),"function"==typeof e.mouseDragged&&e.__mousePressed&&(e.mouseDragged(),e.mouseDragging=!0)}),r(l,"touchend",function(l){e.__mousePressed=!1,"function"!=typeof e.mouseClicked||e.mouseDragging||e.mouseClicked(),"function"==typeof e.mouseReleased&&e.mouseReleased()})),l.dispatchEvent(o)}),function(){var o=!0,t=function(e){e.preventDefault(),e.stopPropagation()};e.disableContextMenu=function(){o&&(r(l,"contextmenu",t),o=!1)},e.enableContextMenu=function(){o||(detachEventHandler({elem:l,type:"contextmenu",fn:t}),o=!0)}}(),r(l,"mousemove",function(r){a(l,r),"function"!=typeof e.mouseMoved||e.__mousePressed||e.mouseMoved(),"function"==typeof e.mouseDragged&&e.__mousePressed&&(e.mouseDragged(),e.mouseDragging=!0)}),r(l,"mouseout",function(l){"function"==typeof e.mouseOut&&e.mouseOut()}),r(l,"mouseover",function(r){a(l,r),"function"==typeof e.mouseOver&&e.mouseOver()}),l.onmousedown=function(){return l.focus(),!1},r(l,"mousedown",function(l){switch(e.__mousePressed=!0,e.mouseDragging=!1,l.which){case 1:e.mouseButton=t.LEFT;break;case 2:e.mouseButton=t.CENTER;break;case 3:e.mouseButton=t.RIGHT}"function"==typeof e.mousePressed&&e.mousePressed()}),r(l,"mouseup",function(l){e.__mousePressed=!1,"function"!=typeof e.mouseClicked||e.mouseDragging||e.mouseClicked(),"function"==typeof e.mouseReleased&&e.mouseReleased()});var c=function(l){var r=0;l.wheelDelta?(r=l.wheelDelta/120,window.opera&&(r=-r)):l.detail&&(r=-l.detail/3),(e.mouseScroll=r)&&"function"==typeof e.mouseScrolled&&e.mouseScrolled()};r(o,"DOMMouseScroll",c),r(o,"mousewheel",c)}},{}],25:[function(e,l,r){l.exports=function(e,l){function r(){var l="abs acos alpha ambient ambientLight append applyMatrix arc arrayCopy asin atan atan2 background beginCamera beginDraw beginShape bezier bezierDetail bezierPoint bezierTangent bezierVertex binary blend blendColor blit_resize blue box breakShape brightness camera ceil Character color colorMode concat constrain copy cos createFont createGraphics createImage cursor curve curveDetail curvePoint curveTangent curveTightness curveVertex day degrees directionalLight disableContextMenu dist draw ellipse ellipseMode emissive enableContextMenu endCamera endDraw endShape exit exp expand externals fill filter floor focused frameCount frameRate frustum get glyphLook glyphTable green height hex hint hour hue image imageMode intersect join key keyCode keyPressed keyReleased keyTyped lerp lerpColor lightFalloff lights lightSpecular line link loadBytes loadFont loadGlyphs loadImage loadPixels loadShape loadXML loadStrings log loop mag map match matchAll max millis min minute mix modelX modelY modelZ modes month mouseButton mouseClicked mouseDragged mouseMoved mouseOut mouseOver mousePressed mouseReleased mouseScroll mouseScrolled mouseX mouseY name nf nfc nfp nfs noCursor noFill noise noiseDetail noiseSeed noLights noLoop norm normal noSmooth noStroke noTint ortho param parseBoolean parseByte parseChar parseFloat parseInt peg perspective PImage pixels PMatrix2D PMatrix3D PMatrixStack pmouseX pmouseY point pointLight popMatrix popStyle pow print printCamera println printMatrix printProjection PShape PShapeSVG pushMatrix pushStyle quad radians random randomGaussian randomSeed rect rectMode red redraw requestImage resetMatrix reverse rotate rotateX rotateY rotateZ round saturation save saveFrame saveStrings scale screenX screenY screenZ second set setup shape shapeMode shared shearX shearY shininess shorten sin size smooth sort specular sphere sphereDetail splice split splitTokens spotLight sq sqrt status str stroke strokeCap strokeJoin strokeWeight subset tan text textAlign textAscent textDescent textFont textLeading textMode textSize texture textureMode textWidth tint toImageData touchCancel touchEnd touchMove touchStart translate transform triangle trim unbinary unhex updatePixels use3DContext vertex width XMLElement XML year __contains __equals __equalsIgnoreCase __frameRate __hashCode __int_cast __instanceof __keyPressed __mousePressed __printStackTrace __replace __replaceAll __replaceFirst __toCharArray __split __codePointAt __startsWith __endsWith __matches".split(" ");n&&Object.keys(n).forEach(function(e){l.push(e)});var r,o,t={};for(r=0,o=l.length;r<o;++r)t[l[r]]=null;for(var s in e.lib)if(e.lib.hasOwnProperty(s)&&e.lib[s].exports){var i=e.lib[s].exports;for(r=0,o=i.length;r<o;++r)t[i[r]]=null}return t}function o(e){function l(e){var l=/^\s*/.exec(e);if(l[0].length===e.length)e={left:l[0],middle:"",right:""};else{var r=/\s*$/.exec(e);e={left:l[0],middle:e.substring(l[0].length,r.index),right:r[0]}}return e.untrim=function(e){return this.left+e+this.right},e}function o(e){return e.replace(/^\s+/,"").replace(/\s+$/,"")}function t(e,l){for(var r=0,o=l.length;r<o;++r)e[l[r]]=null;return e}function n(e){for(var l in e)if(e.hasOwnProperty(l))return!1;return!0}function c(e){return e.substring(2,e.length-1)}function d(e,l){var r=ke.length;return ke.push(e),'"'+l+r+'"'}function u(e){return e=e.replace(Ye,function(e){return d(e,"E")}),e=e.replace(ve,function(e){return d(e,"D")}),e=e.replace(xe,function(e){return d(e,"H")})}function h(e,l){return e.replace(Se,function(e,r,o,t,s,i){return o!==l?e:d(e,"G")})}function p(e){this.name=e}function f(e,l){this.params=e,this.methodArgsParam=l}function m(e){r=o(e.substring(1,e.length-1));e=[];var l=null;if(""!==r)for(var r=r.split(","),t=0;t<r.length;++t){var s=/\b([A-Za-z_$][\w$]*\b)(\s*"[ABC][\d]*")*\s*$/.exec(r[t]);if(t===r.length-1&&0<=r[t].indexOf("...")){l=new p(s[1]);break}e.push(new p(s[1]))}return new f(e,l)}function g(e){function r(e,r,o,s){return e=ke[s],t=!0,e=l(e.substring(1,e.length-1)),"__"+o+(""===e.middle?d("("+r.replace(/\.\s*$/,"")+")","B"):d("("+r.replace(/\.\s*$/,"")+","+e.middle+")","B"))}function o(e,l,r){return t=!0,"__instanceof"+d("("+l+", "+r+")","B")}e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace(/\bnew\s+([A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)(?:\s*"C\d+")+\s*("A\d+")/g,function(e,l,r){return r})).replace(/\bnew\s+([A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)(?:\s*"B\d+")\s*("A\d+")/g,function(e,l,r){return d(e,"F")})).replace(xe,function(e){return d(e,"H")})).replace(/\bnew\s+([A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)\s*("C\d+"(?:\s*"C\d+")*)/g,function(e,l,r){return e=r.replace(/"C(\d+)"/g,function(e,l){return ke[l]}).replace(/\[\s*\]/g,"[null]").replace(/\s*\]\s*\[\s*/g,", "),e="{"+e.substring(1,e.length-1)+"}",l="('"+l+"', "+d(e,"A")+")","$p.createJavaArray"+d(l,"B")})).replace(/(\.\s*length)\s*"B\d+"/g,"$1")).replace(/#([0-9A-Fa-f]{6})\b/g,function(e,l){return"0xFF"+l})).replace(/"B(\d+)"(\s*(?:[\w$']|"B))/g,function(e,l,r){return l=ke[l],/^\(\s*[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*\s*(?:"C\d+"\s*)*\)$/.test(l)?/^\(\s*int\s*\)$/.test(l)?"(int)"+r:(l=l.split(/"C(\d+)"/g),1<l.length&&!/^\[\s*\]$/.test(ke[l[1]])?e:""+r):e})).replace(/\(int\)([^,\]\)\}\?\:\*\+\-\/\^\|\%\&\~<\>\=]+)/g,function(e,r){var o=l(r);return o.untrim("__int_cast("+o.middle+")")})).replace(/\bsuper(\s*"B\d+")/g,"$$superCstr$1").replace(/\bsuper(\s*\.)/g,"$$super$1")).replace(/\b0+((\d*)(?:\.[\d*])?(?:[eE][\-\+]?\d+)?[fF]?)\b/,function(e,l,r){return l===r?e:""===r?"0"+l:l})).replace(/\b(\.?\d+\.?)[fF]\b/g,"$1")).replace(/([^\s])%([^=\s])/g,"$1 % $2")).replace(/\b(frameRate|keyPressed|mousePressed)\b(?!\s*"B)/g,"__$1")).replace(/\b(boolean|byte|char|float|int)\s*"B/g,function(e,l){return"parse"+l.substring(0,1).toUpperCase()+l.substring(1)+'"B'})).replace(/\bpixels\b\s*(("C(\d+)")|\.length)?(\s*=(?!=)([^,\]\)\}]+))?/g,function(e,l,r,o,t,s){return r?(e=ke[o],t?"pixels.setPixel"+d("("+e.substring(1,e.length-1)+","+s+")","B"):"pixels.getPixel"+d("("+e.substring(1,e.length-1)+")","B")):l?"pixels.getLength"+d("()","B"):t?"pixels.set"+d("("+s+")","B"):"pixels.toArray"+d("()","B")});var t;do{t=!1,e=e.replace(/((?:'\d+'|\b[A-Za-z_$][\w$]*\s*(?:"[BC]\d+")*)\s*\.\s*(?:[A-Za-z_$][\w$]*\s*(?:"[BC]\d+"\s*)*\.\s*)*)(replace|replaceAll|replaceFirst|contains|equals|equalsIgnoreCase|hashCode|toCharArray|printStackTrace|split|startsWith|endsWith|codePointAt|matches)\s*"B(\d+)"/g,r)}while(t);do{t=!1,e=e.replace(/((?:'\d+'|\b[A-Za-z_$][\w$]*\s*(?:"[BC]\d+")*)\s*(?:\.\s*[A-Za-z_$][\w$]*\s*(?:"[BC]\d+"\s*)*)*)instanceof\s+([A-Za-z_$][\w$]*\s*(?:\.\s*[A-Za-z_$][\w$]*)*)/g,o)}while(t);return e=e.replace(/\bthis(\s*"B\d+")/g,"$$constr$1")}function b(e,l){this.baseInterfaceName=e,this.body=l,l.owner=this}function k(e){var l=RegExp(/\bnew\s*([A-Za-z_$][\w$]*\s*(?:\.\s*[A-Za-z_$][\w$]*)*)\s*"B\d+"\s*"A(\d+)"/).exec(e);e=he;var r="class"+ ++Xe;he=r;var o=l[1]+"$"+r;return(l=new b(o,pe(ke[l[2]],o,"","implements "+l[1]))).classId=r,l.scopeId=e,we[r]=l,he=e,l}function w(e,l,r){this.name=e,this.params=l,this.body=r}function X(e){return e=RegExp(/\b([A-Za-z_$][\w$]*)\s*"B(\d+)"\s*"A(\d+)"/).exec(e),new w("function"!==e[1]?e[1]:null,m(ke[e[2]]),me(ke[e[3]]))}function Y(e){this.members=e}function v(e){e=e.split(",");for(var l=0;l<e.length;++l){var r=e[l].indexOf(":");e[l]=0>r?{value:be(e[l])}:{label:o(e[l].substring(0,r)),value:be(o(e[l].substring(r+1)))}}return new Y(e)}function y(e){if("("===e.charAt(0)||"["===e.charAt(0))return e.charAt(0)+y(e.substring(1,e.length-1))+e.charAt(e.length-1);if("{"===e.charAt(0))return/^\{\s*(?:[A-Za-z_$][\w$]*|'\d+')\s*:/.test(e)?"{"+d(e.substring(1,e.length-1),"I")+"}":"["+y(e.substring(1,e.length-1))+"]";var r=(r=g((e=l(e)).middle)).replace(/"[ABC](\d+)"/g,function(e,l){return y(ke[l])});return e.untrim(r)}function S(e){return e.replace(/(\.\s*)?((?:\b[A-Za-z_]|\$)[\w$]*)(\s*\.\s*([A-Za-z_$][\w$]*)(\s*\()?)?/g,function(e,l,r,o,t,i){return l?e:ue({name:r,member:t,callSign:!!i})+(o===s?"":o)})}function A(e,l){this.expr=e,this.transforms=l}function x(e,l,r){this.name=e,this.value=l,this.isDefault=r}function B(e,l){var r,t,s=e.indexOf("=");return 0>s?(r=e,s=l,t=!0):(r=e.substring(0,s),s=be(e.substring(s+1)),t=!1),new x(o(r.replace(/(\s*"C\d+")+/g,"")),s,t)}function q(e){return"int"===e||"float"===e?"0":"boolean"===e?"false":"color"===e?"0x00000000":"null"}function T(e,l){this.definitions=e,this.varType=l}function E(e){this.expression=e}function P(e){if(ye.test(e)){var l=Ae.exec(e);e=e.substring(l[0].length).split(",");for(var r=q(l[2]),o=0;o<e.length;++o)e[o]=B(e[o],r);return new T(e,l[2])}return new E(be(e))}function C(e,l,r){this.initStatement=e,this.condition=l,this.step=r}function M(e,l){this.initStatement=e,this.container=l}function I(e,l){this.initStatement=e,this.container=l}function R(e){return/\bin\b/.test(e)?(e=e.substring(1,e.length-1).split(/\bin\b/g),new M(P(o(e[0])),be(e[1]))):0<=e.indexOf(":")&&0>e.indexOf(";")?(e=e.substring(1,e.length-1).split(":"),new I(P(o(e[0])),be(e[1]))):(e=e.substring(1,e.length-1).split(";"),new C(P(o(e[0])),be(e[1]),be(e[2])))}function D(e){e.sort(function(e,l){return l.weight-e.weight})}function L(e,l,r){this.name=e,this.body=l,this.isStatic=r,l.owner=this}function _(e,l,r){this.name=e,this.body=l,this.isStatic=r,l.owner=this}function F(e){var l=Ye.exec(e);Ye.lastIndex=0;var r=0<=l[1].indexOf("static"),o=ke[c(l[6])];e=he;var t="class"+ ++Xe;return he=t,l="interface"===l[2]?new L(l[3],fe(o,l[3],l[4]),r):new _(l[3],pe(o,l[3],l[4],l[5]),r),l.classId=t,l.scopeId=e,we[t]=l,he=e,l}function O(e,l,r,o){this.name=e,this.params=l,this.body=r,this.isStatic=o}function N(e){e=ve.exec(e),ve.lastIndex=0;var l=0<=e[1].indexOf("static"),r=";"!==e[6]?ke[c(e[6])]:"{}";return new O(e[3],m(ke[c(e[4])]),me(r),l)}function G(e,l,r){this.definitions=e,this.fieldType=l,this.isStatic=r}function H(e){var l=Ae.exec(e),r=0<=l[1].indexOf("static");e=e.substring(l[0].length).split(/,\s*/g);for(var o=q(l[2]),t=0;t<e.length;++t)e[t]=B(e[t],o);return new G(e,l[2],r)}function j(e,l){this.params=e,this.body=l}function z(e){return e=RegExp(/"B(\d+)"\s*"A(\d+)"/).exec(e),new j(m(ke[e[1]]),me(ke[e[2]]))}function V(e,l,r,o,t,s){for(this.name=e,this.interfacesNames=l,this.methodsNames=r,this.fields=o,this.innerClasses=t,this.misc=s,e=0,l=o.length;e<l;++e)o[e].owner=this}function W(e,l,r,o,t,s,i,a,n){for(this.name=e,this.baseClassName=l,this.interfacesNames=r,this.functions=o,this.methods=t,this.fields=s,this.cstrs=i,this.innerClasses=a,this.misc=n,e=0,l=s.length;e<l;++e)s[e].owner=this}function U(e,l){this.name=e,this.body=l,l.owner=this}function $(e,l){this.name=e,this.body=l,l.owner=this}function K(e){var l=Ye.exec(e);Ye.lastIndex=0;var r=ke[c(l[6])];e=he;var o="class"+ ++Xe;return he=o,l="interface"===l[2]?new U(l[3],fe(r,l[3],l[4])):new $(l[3],pe(r,l[3],l[4],l[5])),l.classId=o,l.scopeId=e,we[o]=l,he=e,l}function Z(e,l,r){this.name=e,this.params=l,this.body=r}function Q(e){return e=ve.exec(e),ve.lastIndex=0,new Z(e[3],m(ke[c(e[4])]),me(ke[c(e[6])]))}function J(e,l){this.argument=e,this.misc=l}function ee(e,l){this.argument=e,this.misc=l}function le(e,l,r){this.name=e,this.argument=l,this.misc=r}function re(e){this.expr=e}function oe(e){this.label=e}function te(e){for(var l=[],r=0,o=e.length;r<o;++r){var s=e[r];s instanceof T?l=l.concat(s.getNames()):s instanceof J&&s.argument.initStatement instanceof T?l=l.concat(s.argument.initStatement.getNames()):(s instanceof L||s instanceof _||s instanceof U||s instanceof $||s instanceof Z||s instanceof w)&&l.push(s.name)}return t({},l)}function se(e){this.statements=e}function ie(e){this.statements=e}var ae=r(),ne=[];e=(e=(e=(e=e.replace(/\r\n?|\n\r/g,"\n").replace(/("(?:[^"\\\n]|\\.)*")|('(?:[^'\\\n]|\\.)*')|(([\[\(=|&!\^:?]\s*)(\/(?![*\/])(?:[^\/\\\n]|\\.)*\/[gim]*)\b)|(\/\/[^\n]*\n)|(\/\*(?:(?!\*\/)(?:.|\n))*\*\/)/g,function(e,l,r,o,t,s,i,a){return l||r?(l=ne.length,ne.push(e),"'"+l+"'"):o?(l=ne.length,ne.push(s),t+"'"+l+"'"):""!==a?" ":"\n"})).replace(/__x([0-9A-F]{4})/g,function(e,l){return"__x005F_x"+l})).replace(/\$/g,"__x0024")).replace(/return\s*[\n\r]+/g,"return ");var ce,de=function(e,l,r,o){return l||o?e:(ce=!0,"")};do{ce=!1,e=e.replace(/([<]?)<\s*((?:\?|[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)(?:\[\])*(?:\s+(?:extends|super)\s+[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)?(?:\s*,\s*(?:\?|[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)(?:\[\])*(?:\s+(?:extends|super)\s+[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)?)*)\s*>([=]?)/g,de)}while(ce);var ue,he,pe,fe,me,ge,be,ke=function(e){for(var l=[],r=(e=e.split(/([\{\[\(\)\]\}])/))[0],o=[],t=1;t<e.length;t+=2){var s=e[t];if("["===s||"{"===s||"("===s)o.push(r),r=s;else if("]"===s||"}"===s||")"===s){var i="}"===s?"A":")"===s?"B":"C",a=l.length;l.push(r+s),r=o.pop()+'"'+i+(a+1)+'"'}r+=e[t+1]}return l.unshift(r),l}(e),we={},Xe=0,Ye=/\b((?:(?:public|private|final|protected|static|abstract)\s+)*)(class|interface)\s+([A-Za-z_$][\w$]*\b)(\s+extends\s+[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*,\s*[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*\b)*)?(\s+implements\s+[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*,\s*[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*\b)*)?\s*("A\d+")/g,ve=/\b((?:(?:public|private|final|protected|static|abstract|synchronized)\s+)*)((?!(?:else|new|return|throw|function|public|private|protected)\b)[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*"C\d+")*)\s*([A-Za-z_$][\w$]*\b)\s*("B\d+")(\s*throws\s+[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*,\s*[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)*)?\s*("A\d+"|;)/g,ye=/^((?:(?:public|private|final|protected|static)\s+)*)((?!(?:else|new|return|throw)\b)[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*"C\d+")*)\s*([A-Za-z_$][\w$]*\b)\s*(?:"C\d+"\s*)*([=,]|$)/,Se=/\b((?:(?:public|private|final|protected|static|abstract)\s+)*)((?!(?:new|return|throw)\b)[A-Za-z_$][\w$]*\b)\s*("B\d+")(\s*throws\s+[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*,\s*[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)*)?\s*("A\d+")/g,Ae=/^((?:(?:public|private|final|protected|static)\s+)*)((?!(?:new|return|throw)\b)[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*"C\d+")*)\s*/,xe=/\bfunction(?:\s+([A-Za-z_$][\w$]*))?\s*("B\d+")\s*("A\d+")/g;return p.prototype.toString=function(){return this.name},f.prototype.getNames=function(){for(var e=[],l=0,r=this.params.length;l<r;++l)e.push(this.params[l].name);return e},f.prototype.prependMethodArgs=function(e){return this.methodArgsParam?"{\nvar "+this.methodArgsParam.name+" = Array.prototype.slice.call(arguments, "+this.params.length+");\n"+e.substring(1):e},f.prototype.toString=function(){if(0===this.params.length)return"()";for(var e="(",l=0,r=this.params.length;l<r;++l)e+=this.params[l]+", ";return e.substring(0,e.length-2)+")"},b.prototype.toString=function(){return"new ("+this.body+")"},w.prototype.toString=function(){var e=ue,l=t({this:null},this.params.getNames());ue=function(r){return l.hasOwnProperty(r.name)?r.name:e(r)};o="function";this.name&&(o+=" "+this.name);var r=this.params.prependMethodArgs(this.body.toString()),o=o+(this.params+" ")+r;return ue=e,o},Y.prototype.toString=function(){var e=ue;ue=function(l){return"this"===l.name?"this":e(l)};for(var l="",r=0,o=this.members.length;r<o;++r)this.members[r].label&&(l+=this.members[r].label+": "),l+=this.members[r].value.toString()+", ";return ue=e,l.substring(0,l.length-2)},A.prototype.toString=function(){var e=this.transforms;return S(this.expr).replace(/"!(\d+)"/g,function(l,r){return e[r].toString()})},be=function(e){var l=[];return e=y(e),e=e.replace(/"H(\d+)"/g,function(e,r){return l.push(X(ke[r])),'"!'+(l.length-1)+'"'}),e=e.replace(/"F(\d+)"/g,function(e,r){return l.push(k(ke[r])),'"!'+(l.length-1)+'"'}),e=e.replace(/"I(\d+)"/g,function(e,r){return l.push(v(ke[r])),'"!'+(l.length-1)+'"'}),new A(e,l)},x.prototype.toString=function(){return this.name+" = "+this.value},T.prototype.getNames=function(){for(var e=[],l=0,r=this.definitions.length;l<r;++l)e.push(this.definitions[l].name);return e},T.prototype.toString=function(){return"var "+this.definitions.join(",")},E.prototype.toString=function(){return this.expression.toString()},C.prototype.toString=function(){return"("+this.initStatement+"; "+this.condition+"; "+this.step+")"},M.prototype.toString=function(){var e=this.initStatement.toString();return 0<=e.indexOf("=")&&(e=e.substring(0,e.indexOf("="))),"("+e+" in "+this.container+")"},I.iteratorId=0,I.prototype.toString=function(){var e=this.initStatement.toString(),l="$it"+I.iteratorId++,e=e.replace(/^\s*var\s*/,"").split("=")[0];return"(var "+l+" = new $p.ObjectIterator("+this.container+"), "+e+" = void(0); "+l+".hasNext() && (("+e+" = "+l+".next()) || true);)"},L.prototype.toString=function(){return""+this.body},_.prototype.toString=function(){return""+this.body},O.prototype.toString=function(){var e=t({},this.params.getNames()),l=ue;ue=function(r){return e.hasOwnProperty(r.name)?r.name:l(r)};var r=this.params.prependMethodArgs(this.body.toString()),r="function "+this.methodId+this.params+" "+r+"\n";return ue=l,r},G.prototype.getNames=function(){for(var e=[],l=0,r=this.definitions.length;l<r;++l)e.push(this.definitions[l].name);return e},G.prototype.toString=function(){var e=ue({name:"[this]"});if(this.isStatic){for(var l=this.owner.name,r=[],o=0,t=this.definitions.length;o<t;++o){var s=this.definitions[o],i=s.name,a=l+"."+i;r.push("if("+a+" === void(0)) {\n "+a+" = "+s.value+"; }\n$p.defineProperty("+e+", '"+i+"', { get: function(){return "+a+";}, set: function(val){"+a+" = val;} });\n")}return r.join("")}return e+"."+this.definitions.join("; "+e+".")},j.prototype.toString=function(){var e=t({},this.params.getNames()),l=ue;ue=function(r){return e.hasOwnProperty(r.name)?r.name:l(r)};var r="function $constr_"+this.params.params.length+this.params.toString(),o=this.params.prependMethodArgs(this.body.toString());return/\$(superCstr|constr)\b/.test(o)||(o="{\n$superCstr();\n"+o.substring(1)),ue=l,r+o+"\n"},V.prototype.getMembers=function(e,l,r){this.owner.base&&this.owner.base.body.getMembers(e,l,r);var o,t,s,i;for(o=0,s=this.fields.length;o<s;++o){var a=this.fields[o].getNames();for(t=0,i=a.length;t<i;++t)e[a[t]]=this.fields[o]}for(o=0,s=this.methodsNames.length;o<s;++o)l[this.methodsNames[o]]=!0;for(o=0,s=this.innerClasses.length;o<s;++o)e=this.innerClasses[o],r[e.name]=e},V.prototype.toString=function(){for(var e=this.owner,l=0;e;)++l,e=e.scope;var e=this.name,r=l="";this.getMembers({},{},{});var o,t;if(this.owner.interfaces){var s,i=[];for(o=0,t=this.interfacesNames.length;o<t;++o)this.owner.interfaces[o]&&(s=ue({name:this.interfacesNames[o]}),i.push(s),l+="$p.extendInterfaceMembers("+e+", "+s+");\n");r+=e+".$interfaces = ["+i.join(", ")+"];\n"}for(r=r+(e+".$isInterface = true;\n")+e+".$methods = ['"+this.methodsNames.join("', '")+"'];\n",D(this.innerClasses),o=0,t=this.innerClasses.length;o<t;++o)(i=this.innerClasses[o]).isStatic&&(l+=e+"."+i.name+" = "+i+";\n");for(o=0,t=this.fields.length;o<t;++o)(i=this.fields[o]).isStatic&&(l+=e+"."+i.definitions.join(";\n"+e+".")+";\n");return"(function() {\nfunction "+e+"() { throw 'Unable to create the interface'; }\n"+l+r+"return "+e+";\n})()"},fe=function(e,r,o){var t=[],i=[];e=(e=(e=h(e=u(e=e.substring(1,e.length-1)),r)).replace(/"([DE])(\d+)"/g,function(e,l,r){return"D"===l?t.push(r):"E"===l&&i.push(r),""})).split(/;(?:\s*;)*/g);var a,n;for(o!==s&&(a=o.replace(/^\s*extends\s+(.+?)\s*$/g,"$1").split(/\s*,\s*/g)),o=0,n=t.length;o<n;++o){var c=N(ke[t[o]]);t[o]=c.name}for(o=0,n=e.length-1;o<n;++o)c=l(e[o]),e[o]=H(c.middle);for(c=e.pop(),o=0,n=i.length;o<n;++o)i[o]=F(ke[i[o]]);return new V(r,a,t,e,i,{tail:c})},W.prototype.getMembers=function(e,l,r){this.owner.base&&this.owner.base.body.getMembers(e,l,r);var o,t,s,i;for(o=0,s=this.fields.length;o<s;++o){var a=this.fields[o].getNames();for(t=0,i=a.length;t<i;++t)e[a[t]]=this.fields[o]}for(o=0,s=this.methods.length;o<s;++o)e=this.methods[o],l[e.name]=e;for(o=0,s=this.innerClasses.length;o<s;++o)l=this.innerClasses[o],r[l.name]=l},W.prototype.toString=function(){var e="$this_"+function(e){for(var l=0;e;)++l,e=e.scope;return l}(this.owner),l=this.name,r="var "+e+" = this;\n",t="",s="",i={},a={},n={};this.getMembers(i,a,n);var c=ue;ue=function(r){var o=r.name;return"this"===o?r.callSign||!r.member?e+".$self":e:i.hasOwnProperty(o)?i[o].isStatic?l+"."+o:e+"."+o:n.hasOwnProperty(o)?e+"."+o:a.hasOwnProperty(o)?a[o].isStatic?l+"."+o:e+".$self."+o:c(r)};var d;this.baseClassName?(d=c({name:this.baseClassName}),r=r+"var $super = { $upcast: "+e+" };\nfunction $superCstr(){"+d+".apply($super,arguments);if(!('$self' in $super)) $p.extendClassChain($super)}\n",s+=l+".$base = "+d+";\n"):r+="function $superCstr(){$p.extendClassChain("+e+")}\n",this.owner.base&&(t+="$p.extendStaticMembers("+l+", "+d+");\n");var u,h,p;if(this.owner.interfaces){for(h=[],d=0,u=this.interfacesNames.length;d<u;++d)this.owner.interfaces[d]&&(p=c({name:this.interfacesNames[d]}),h.push(p),t+="$p.extendInterfaceMembers("+l+", "+p+");\n");s+=l+".$interfaces = ["+h.join(", ")+"];\n"}for(0<this.functions.length&&(r+=this.functions.join("\n")+"\n"),D(this.innerClasses),d=0,u=this.innerClasses.length;d<u;++d)h=this.innerClasses[d],h.isStatic?(t+=l+"."+h.name+" = "+h+";\n",r+=e+"."+h.name+" = "+l+"."+h.name+";\n"):r+=e+"."+h.name+" = "+h+";\n";for(d=0,u=this.fields.length;d<u;++d){var f=this.fields[d];if(f.isStatic)for(t+=l+"."+f.definitions.join(";\n"+l+".")+";\n",h=0,p=f.definitions.length;h<p;++h)var m=f.definitions[h].name,g=l+"."+m,r=r+"$p.defineProperty("+e+", '"+m+"', {get: function(){return "+g+"}, set: function(val){"+g+" = val}});\n";else r+=e+"."+f.definitions.join(";\n"+e+".")+";\n"}for(h={},d=0,u=this.methods.length;d<u;++d)p=this.methods[d],f=h[p.name],m=p.name+"$"+p.params.params.length,g=!!p.params.methodArgsParam,f?(++f,m+="_"+f):f=1,p.methodId=m,h[p.name]=f,p.isStatic?(t+=p,t+="$p.addMethod("+l+", '"+p.name+"', "+m+", "+g+");\n"):r+=p,r+="$p.addMethod("+e+", '"+p.name+"', "+m+", "+g+");\n";for(r+=o(this.misc.tail),0<this.cstrs.length&&(r+=this.cstrs.join("\n")+"\n"),r+="function $constr() {\n",h=[],d=0,u=this.cstrs.length;d<u;++d)p=this.cstrs[d].params.params.length,h.push("if(arguments.length "+(this.cstrs[d].params.methodArgsParam?">=":"===")+" "+p+") { $constr_"+p+".apply("+e+", arguments); }");return 0<h.length&&(r+=h.join(" else ")+" else "),r+="$superCstr();\n}\n",r+="$constr.apply(null, arguments);\n",ue=c,"(function() {\nfunction "+l+"() {\n"+r+"}\n"+t+s+"return "+l+";\n})()"},pe=function(e,r,o,t){var i=[],a=[],n=[],c=[];e=(e=(e=h(e=u(e=e.substring(1,e.length-1)),r)).replace(/"([DEGH])(\d+)"/g,function(e,l,r){return"D"===l?i.push(r):"E"===l?a.push(r):"H"===l?c.push(r):n.push(r),""})).replace(/^(?:\s*;)+/,"").split(/;(?:\s*;)*/g);var d,p;for(o!==s&&(d=o.replace(/^\s*extends\s+([A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)\s*$/g,"$1")),t!==s&&(p=t.replace(/^\s*implements\s+(.+?)\s*$/g,"$1").split(/\s*,\s*/g)),o=0;o<c.length;++o)c[o]=X(ke[c[o]]);for(o=0;o<i.length;++o)i[o]=N(ke[i[o]]);for(o=0;o<e.length-1;++o)t=l(e[o]),e[o]=H(t.middle);for(t=e.pop(),o=0;o<n.length;++o)n[o]=z(ke[n[o]]);for(o=0;o<a.length;++o)a[o]=F(ke[a[o]]);return new W(r,d,p,c,i,e,n,a,{tail:t})},U.prototype.toString=function(){return"var "+this.name+" = "+this.body+";\n$p."+this.name+" = "+this.name+";\n"},$.prototype.toString=function(){return"var "+this.name+" = "+this.body+";\n$p."+this.name+" = "+this.name+";\n"},Z.prototype.toString=function(){var e=t({},this.params.getNames()),l=ue;ue=function(r){return e.hasOwnProperty(r.name)?r.name:l(r)};var r=this.params.prependMethodArgs(this.body.toString()),r="function "+this.name+this.params+" "+r+"\n$p."+this.name+" = "+this.name+";\n"+this.name+" = "+this.name+".bind($p);";return ue=l,r},J.prototype.toString=function(){return this.misc.prefix+this.argument.toString()},ee.prototype.toString=function(){return this.misc.prefix+this.argument.toString()},le.prototype.toString=function(){var e=this.misc.prefix;return this.argument!==s&&(e+=this.argument.toString()),e},re.prototype.toString=function(){return"case "+this.expr+":"},oe.prototype.toString=function(){return this.label},ge=function(e,r,t){var i=RegExp(/\b(catch|for|if|switch|while|with)\s*"B(\d+)"|\b(do|else|finally|return|throw|try|break|continue)\b|("[ADEH](\d+)")|\b(case)\s+([^:]+):|\b([A-Za-z_$][\w$]*\s*:)|(;)/g),a=[];e=e.replace(/\b(catch\s*"B\d+"\s*"A\d+")(\s*catch\s*"B\d+"\s*"A\d+")+/g,"$1");for(var n,c,d=0;null!==(n=i.exec(e));){if(n[1]!==s)c=e.lastIndexOf('"B',i.lastIndex),d=e.substring(d,c),"for"===n[1]?a.push(new J(R(ke[n[2]]),{prefix:d})):"catch"===n[1]?a.push(new ee(m(ke[n[2]]),{prefix:d})):a.push(new le(n[1],be(ke[n[2]]),{prefix:d}));else if(n[3]!==s)a.push(new le(n[3],s,{prefix:e.substring(d,i.lastIndex)}));else if(n[4]!==s){if(c=e.substring(d,i.lastIndex-n[4].length),0!==o(c).length)continue;a.push(c),d=n[4].charAt(1),n=n[5],"D"===d?a.push(r(ke[n])):"E"===d?a.push(t(ke[n])):"H"===d?a.push(X(ke[n])):a.push(me(ke[n]))}else if(n[6]!==s)a.push(new re(be(o(n[7]))));else if(n[8]!==s){if(c=e.substring(d,i.lastIndex-n[8].length),0!==o(c).length)continue;a.push(new oe(e.substring(d,i.lastIndex)))}else n=l(e.substring(d,i.lastIndex-1)),a.push(n.left),a.push(P(n.middle)),a.push(n.right+";");d=i.lastIndex}return r=l(e.substring(d)),a.push(r.left),""!==r.middle&&(a.push(P(r.middle)),a.push(";"+r.right)),a},se.prototype.toString=function(){var e=te(this.statements),l=ue;n(e)||(ue=function(r){return e.hasOwnProperty(r.name)?r.name:l(r)});var r="{\n"+this.statements.join("")+"\n}";return ue=l,r},me=function(e){return e=l(e.substring(1,e.length-1)),new se(ge(e.middle))},ie.prototype.toString=function(){for(var e,l=[],r=[],o=0,t=this.statements.length;o<t;++o)e=this.statements[o],e instanceof $||e instanceof U?l.push(e):r.push(e);D(l);var s=te(this.statements);return ue=function(e){return e=e.name,s.hasOwnProperty(e)?e:ae.hasOwnProperty(e)||a.hasOwnProperty(e)||i.hasOwnProperty(e)?"$p."+e:e},l="// this code was autogenerated from PJS\n(function($p) {\n"+l.join("")+"\n"+r.join("")+"\n})",ue=null,l},e=function(){var e=(e=u(ke[0])).replace(/\bimport\s+[^;]+;/g,"");return new ie(ge(e,Q,K))}(),function(e){function l(e,l){for(var r,t=l.split("."),i=e.scope;i;){if(i.hasOwnProperty(t[0])){r=i[t[0]];break}i=i.scope}r===s&&(r=o[t[0]]);for(var i=1,a=t.length;i<a&&r;++i)r=r.inScope[t[i]];return r}var r,o={};for(r in we)if(we.hasOwnProperty(r)){var t=(e=we[r]).scopeId,i=e.name;t?(t=we[t],e.scope=t,t.inScope===s&&(t.inScope={}),t.inScope[i]=e):o[i]=e}for(r in we)if(we.hasOwnProperty(r)){(i=(e=we[r]).body.baseClassName)&&(i=l(e,i))&&(e.base=i,i.derived||(i.derived=[]),i.derived.push(e));var a,n,t=[];if((i=e.body.interfacesNames)&&0<i.length){for(a=0,n=i.length;a<n;++a){var c=l(e,i[a]);t.push(c),c&&(c.derived||(c.derived=[]),c.derived.push(e))}0<t.length&&(e.interfaces=t)}}}(e),function(e){function l(e,l){var r=s[e];if(!r)return!1;var o=r.indexOf(l);return!(0>o||(r.splice(o,1),0<r.length||(delete s[e],0)))}e=[];var r,o,t,s={};for(r in we)if(we.hasOwnProperty(r))if((t=we[r]).inScope||t.derived){var i=[];if(t.inScope)for(o in t.inScope)t.inScope.hasOwnProperty(o)&&i.push(t.inScope[o]);t.derived&&(i=i.concat(t.derived)),s[r]=i}else e.push(r),t.weight=0;for(;0<e.length;)if(r=e.shift(),(t=we[r]).scopeId&&l(t.scopeId,t)&&(e.push(t.scopeId),we[t.scopeId].weight=t.weight+1),t.base&&l(t.base.classId,t)&&(e.push(t.base.classId),t.base.weight=t.weight+1),t.interfaces)for(r=0,o=t.interfaces.length;r<o;++r)t.interfaces[r]&&l(t.interfaces[r].classId,t)&&(e.push(t.interfaces[r].classId),t.interfaces[r].weight=t.weight+1)}(e),e=e.toString(),e=e.replace(/\s*\n(?:[\t ]*\n)+/g,"\n\n"),e=e.replace(/__x([0-9A-F]{4})/g,function(e,l){return String.fromCharCode(parseInt(l,16))}),function(e,l){return e.replace(/'(\d+)'/g,function(e,r){var o=l[r];return"/"===o.charAt(0)?o:/^'((?:[^'\\\n])|(?:\\.[0-9A-Fa-f]*))'$/.test(o)?"(new $p.Character("+o+"))":o})}(e,ne)}function t(e,l){if((o=RegExp(/\/\*\s*@pjs\s+((?:[^\*]|\*+[^\*\/])*)\*\//g).exec(e))&&2===o.length)for(var r=[],o=o.splice(1,2)[0].replace(/\{([\s\S]*?)\}/g,function(){return function(e,l){return r.push(l),"{"+(r.length-1)+"}"}}()).replace("\n","").replace("\r","").split(";"),t=function(e){return e.replace(/^\s*["']?/,"").replace(/["']?\s*$/,"")},s=0,i=o.length;s<i;s++)if((c=o[s].split("="))&&2===c.length){var a=t(c[0]),n=t(c[1]),c=[];if("preload"===a)for(c=n.split(","),a=0,n=c.length;a<n;a++){d=t(c[a]);l.imageCache.add(d)}else if("font"===a)for(c=n.split(","),a=0,n=c.length;a<n;a++){var d=t(c[a]),u=/^\{(\d*?)\}$/.exec(d);PFont.preloading.add(u?JSON.parse("{"+r[u[1]]+"}"):d)}else"pauseOnBlur"===a?l.options.pauseOnBlur="true"===n:"globalKeyEvents"===a?l.options.globalKeyEvents="true"===n:"param-"===a.substring(0,6)?l.params[a.substring(6)]=n:l.options[a]=n}return e}var s,i=l.defaultScope,a=i.PConstants,n=l.aFunctions,c=l.Browser.document;return e.compile=function(l){var r=new e.Sketch;return l=t(l,r),l=o(l),r.sourceCode=l,r},e.logger=new function(e){var l={BufferMax:200};return l.wrapper=e.createElement("div"),l.wrapper.setAttribute("style","opacity:.75;display:block;position:fixed;bottom:0px;left:0px;right:0px;height:50px;background-color:#aaa"),l.dragger=e.createElement("div"),l.dragger.setAttribute("style","display:block;border:3px black raised;cursor:n-resize;position:absolute;top:0px;left:0px;right:0px;height:5px;background-color:#333"),l.closer=e.createElement("div"),l.closer.onmouseover=function(){l.closer.style.setProperty("background-color","#ccc")},l.closer.onmouseout=function(){l.closer.style.setProperty("background-color","#ddd")},l.closer.innerHTML="&#10006;",l.closer.setAttribute("style","opacity:.5;display:block;border:3px black raised;position:absolute;top:10px;right:30px;height:20px;width:20px;background-color:#ddd;color:#000;line-height:20px;text-align:center;cursor:pointer;"),l.javaconsole=e.createElement("div"),l.javaconsole.setAttribute("style","overflow-x: auto;display:block;position:absolute;left:10px;right:0px;bottom:5px;top:10px;overflow-y:scroll;height:40px;"),l.wrapper.appendChild(l.dragger),l.wrapper.appendChild(l.javaconsole),l.wrapper.appendChild(l.closer),l.dragger.onmousedown=function(r){l.divheight=l.wrapper.style.height,e.selection?e.selection.empty():window.getSelection().removeAllRanges();var o=r.screenY;window.onmousemove=function(e){l.wrapper.style.height=parseFloat(l.divheight)+(o-e.screenY)+"px",l.javaconsole.style.height=parseFloat(l.divheight)+(o-e.screenY)-10+"px"},window.onmouseup=function(r){e.selection?e.selection.empty():window.getSelection().removeAllRanges(),l.wrapper.style.height=parseFloat(l.divheight)+(o-r.screenY)+"px",l.javaconsole.style.height=parseFloat(l.divheight)+(o-r.screenY)-10+"px",window.onmousemove=null,window.onmouseup=null}},l.BufferArray=[],l.print=l.log=function(e){l.BufferArray[l.BufferArray.length-1]?l.BufferArray[l.BufferArray.length-1]+=e+"":l.BufferArray.push(e),l.javaconsole.innerHTML=l.BufferArray.join(""),"hidden"===l.wrapper.style.visibility&&(l.wrapper.style.visibility="visible"),"hidden"===l.wrapper.style.visibility&&(l.wrapper.style.visibility="visible")},l.println=function(r){e.body.appendChild(l.wrapper),l.print(r),l.BufferArray.push("<br/>"),l.javaconsole.innerHTML=l.BufferArray.join(""),"hidden"===l.wrapper.style.visibility&&(l.wrapper.style.visibility="visible"),l.BufferArray.length>l.BufferMax?l.BufferArray.splice(0,1):l.javaconsole.scrollTop=l.javaconsole.scrollHeight,"hidden"===l.wrapper.style.visibility&&(l.wrapper.style.visibility="visible")},l.showconsole=function(){l.wrapper.style.visibility="visible"},l.hideconsole=function(){l.wrapper.style.visibility="hidden"},l.closer.onclick=function(){l.hideconsole()},l.hideconsole(),l}(c),e}},{}],26:[function(e,l,r){l.exports=function(e,l){function r(e,l){return e in n?n[e]:"function"==typeof n[l]?n[l]:function(e){if(e instanceof Array)return e;if("number"==typeof e){var l=[];return l.length=e,l}}}var o=e.defaultScope,t=e.extend,s=e.Browser,i=s.ajax,a=s.navigator,n=s.window,c=s.document,d=e.noop,u=o.PConstants;PFont=o.PFont,PShapeSVG=o.PShapeSVG,PVector=o.PVector,Char=Character=o.Char,ObjectIterator=o.ObjectIterator,XMLElement=o.XMLElement,XML=o.XML;var h=n.HTMLCanvasElement,p=n.HTMLImageElement,f=n.localStorage;c.head||(c.head=c.getElementsByTagName("head")[0]);var m=r("Float32Array","WebGLFloatArray"),g=r("Int32Array","WebGLIntArray"),b=r("Uint16Array","WebGLUnsignedShortArray"),k=r("Uint8Array","WebGLUnsignedByteArray");if(9<=c.documentMode&&!c.doctype)throw"The doctype directive is missing. The recommended doctype in Internet Explorer is the HTML5 doctype: <!DOCTYPE html>";var w=[],X={},Y=this.Processing=function(e,r,s){function v(e,l,r){e.addEventListener?e.addEventListener(l,r,!1):e.attachEvent("on"+l,r),ie.push({elem:e,type:l,fn:r})}function y(e,r,o,t){var s=Rl.locations[e];s===l&&(s=ne.getUniformLocation(r,o),Rl.locations[e]=s),null!==s&&(4===t.length?ne.uniform4fv(s,t):3===t.length?ne.uniform3fv(s,t):2===t.length?ne.uniform2fv(s,t):ne.uniform1f(s,t))}function S(e,r,o,t){var s=Rl.locations[e];s===l&&(s=ne.getUniformLocation(r,o),Rl.locations[e]=s),null!==s&&(4===t.length?ne.uniform4iv(s,t):3===t.length?ne.uniform3iv(s,t):2===t.length?ne.uniform2iv(s,t):ne.uniform1i(s,t))}function A(e,r,o,t,s){var i=Rl.locations[e];i===l&&(i=ne.getUniformLocation(r,o),Rl.locations[e]=i),-1!==i&&(16===s.length?ne.uniformMatrix4fv(i,t,s):9===s.length?ne.uniformMatrix3fv(i,t,s):ne.uniformMatrix2fv(i,t,s))}function x(e,r,o,t,s){var i=Rl.attributes[e];i===l&&(i=ne.getAttribLocation(r,o),Rl.attributes[e]=i),-1!==i&&(ne.bindBuffer(ne.ARRAY_BUFFER,s),ne.vertexAttribPointer(i,t,ne.FLOAT,!1,0,0),ne.enableVertexAttribArray(i))}function B(e,r,o){var t=Rl.attributes[e];t===l&&(t=ne.getAttribLocation(r,o),Rl.attributes[e]=t),-1!==t&&ne.disableVertexAttribArray(t)}function q(e,l,r,o){return Tl===u.HSB?(r=ae.color.toRGB(e,l,r),e=r[0],l=r[1],r=r[2]):(e=Math.round(e/Sl*255),l=Math.round(l/Al*255),r=Math.round(r/xl*255)),o=Math.round(o/yl*255),e=0>e?0:e,l=0>l?0:l,r=0>r?0:r,o=0>o?0:o,(255<o?255:o)<<24&u.ALPHA_MASK|(255<e?255:e)<<16&u.RED_MASK|(255<l?255:l)<<8&u.GREEN_MASK|(255<r?255:r)&u.BLUE_MASK}function T(e){if(e<=Sl&&0<=e){if(Tl===u.RGB)return q(e,e,e,yl);if(Tl===u.HSB)return q(0,0,e/Sl*xl,yl)}if(e)return 2147483647<e&&(e-=4294967296),e}function E(e){var l,r,o;l=((e&u.RED_MASK)>>>16)/255,r=((e&u.GREEN_MASK)>>>8)/255,o=(e&u.BLUE_MASK)/255,e=ae.max(ae.max(l,r),o);var t=ae.min(ae.min(l,r),o);return t===e?[0,0,e*xl]:(l=(l===e?(r-o)/(e-t):r===e?2+(o-l)/(e-t):4+(l-r)/(e-t))/6,0>l?l+=1:1<l&&(l-=1),[l*Sl,(e-t)/e*Al,e*xl])}function P(){ne.restore(),Qe=rl=!0}function C(){var e=(Date.now()-Ml)/1e3,l=++Il/e;.5<e&&(Ml=Date.now(),Il=0,ae.__frameRate=l),ae.frameCount++}function M(e){return 2147483647<(e=parseInt("0x"+e,16))&&(e-=4294967296),e}function I(e){return"number"==typeof e?0!==e:"boolean"==typeof e?e:"string"==typeof e?"true"===e.toLowerCase():e instanceof Char?49===e.code||84===e.code||116===e.code:void 0}function R(e){return"number"==typeof e?e:"boolean"==typeof e?e?1:0:"string"==typeof e?parseFloat(e):e instanceof Char?e.code:void 0}function D(e,l){return"number"==typeof e?4294967295&e:"boolean"==typeof e?e?1:0:"string"==typeof e?4294967295&parseInt(e,l||10):e instanceof Char?e.code:void 0}function L(){$e&&(Qe&&(ne.fillStyle=ae.color.toString(Ze),Qe=!1),ne.fill())}function _(){Je&&(rl&&(ne.strokeStyle=ae.color.toString(ll),rl=!1),ne.stroke())}function F(){L(),_(),ne.closePath()}function O(e,r,o){var t=Zr.shift();t===l&&(t={},t.canvas=c.createElement("canvas"),t.context=t.canvas.getContext("2d")),Zr.push(t);var s=t.canvas,i=t.context;return r=r||e.width,o=o||e.height,s.width=r,s.height=o,e?"data"in e?i.putImageData(e,0,0):(i.clearRect(0,0,r,o),i.drawImage(e,0,0,r,o)):i.clearRect(0,0,r,o),t}function N(e){return{getLength:function(e){return function(){if(e.isRemote)throw"Image is loaded remotely. Cannot get length.";return e.imageData.data.length?e.imageData.data.length/4:0}}(e),getPixel:function(e){return function(l){l*=4;var r=e.imageData.data;if(e.isRemote)throw"Image is loaded remotely. Cannot get pixels.";return r[l+3]<<24&u.ALPHA_MASK|r[l]<<16&u.RED_MASK|r[l+1]<<8&u.GREEN_MASK|r[l+2]&u.BLUE_MASK}}(e),setPixel:function(e){return function(l,r){var o=4*l,t=e.imageData.data;if(e.isRemote)throw"Image is loaded remotely. Cannot set pixel.";t[o+0]=(r&u.RED_MASK)>>>16,t[o+1]=(r&u.GREEN_MASK)>>>8,t[o+2]=r&u.BLUE_MASK,t[o+3]=(r&u.ALPHA_MASK)>>>24,e.__isDirty=!0}}(e),toArray:function(e){return function(){var l=[],r=e.imageData.data,o=e.width*e.height;if(e.isRemote)throw"Image is loaded remotely. Cannot get pixels.";for(var t=0,s=0;t<o;t++,s+=4)l.push(r[s+3]<<24&u.ALPHA_MASK|r[s]<<16&u.RED_MASK|r[s+1]<<8&u.GREEN_MASK|r[s+2]&u.BLUE_MASK);return l}}(e),set:function(e){return function(l){var r,o,t;if(this.isRemote)throw"Image is loaded remotely. Cannot set pixels.";o=e.imageData.data;for(var s=0,i=l.length;s<i;s++)t=l[s],r=4*s,o[r+0]=(t&u.RED_MASK)>>>16,o[r+1]=(t&u.GREEN_MASK)>>>8,o[r+2]=t&u.BLUE_MASK,o[r+3]=(t&u.ALPHA_MASK)>>>24;e.__isDirty=!0}}(e)}}function G(e,l,r,o){var t=new Qr(r,o,u.ARGB);return t.fromImageData(ae.toImageData(e,l,r,o)),t}function H(e,l,r,o,t){if(t.isRemote)throw"Image is loaded remotely. Cannot get x,y,w,h.";var s=new Qr(r,o,u.ARGB),i=s.imageData.data,a=t.width,n=t.height;t=t.imageData.data;var c=Math.max(0,-l),d=Math.max(0,-e);for(o=Math.min(o,n-l),n=Math.min(r,a-e);c<o;++c)for(var h=4*((l+c)*a+(e+d)),p=4*(c*r+d),f=d;f<n;++f)i[p++]=t[h++],i[p++]=t[h++],i[p++]=t[h++],i[p++]=t[h++];return s.__isDirty=!0,s}function j(){Kl&&(ne=_e,Kl=!1,ae.updatePixels())}function z(){for(var e in ne)"function"==typeof ne[e]?function(e,l){e[l]=function(){j(),ne[l].apply(ne,arguments)}}(this,e):function(e,l){ae.defineProperty(e,l,{get:function(){return j(),ne[l]},set:function(e){j(),ne[l]=e}})}(this,e)}function V(e){return e instanceof String?e:"number"==typeof e?e===(0|e)?e.toString():ae.nf(e,0,3):null===e||e===l?"":e.toString()}function W(e,l,r,o){var t;0>e.indexOf("\n")?(e=[e],t=1):(e=e.split(/\r?\n/g),t=e.length);var s=0;Nl===u.TOP?s=zl+Vl:Nl===u.CENTER?s=zl/2-(t-1)*Wl/2:Nl===u.BOTTOM&&(s=-(Vl+(t-1)*Wl));for(var i=0;i<t;++i)de.text$line(e[i],l,r+s,o,Ol),s+=Wl}function U(e,l,r,o,t,s){if(0!==e.length&&0!==o&&0!==t&&!(jl>t)){for(var i=-1,a=0,n=0,c=[],d=0,h=e.length;d<h;d++){var p=e[d],f=" "===p,m=Ul.measureTextWidth(p);if("\n"!==p&&n+m<=o)f&&(i=d),n+=m;else{if(i+1===a){if(!(0<d))return;i=d}"\n"===p?(c.push({text:e.substring(a,d),width:n}),a=d+1):(c.push({text:e.substring(a,i+1),width:n}),a=i+1),n=0,d=a-1}}for(a<h&&c.push({text:e.substring(a),width:n}),e=1,i=zl,Ol===u.CENTER?e=o/2:Ol===u.RIGHT&&(e=o),o=c.length,a=Math.min(o,Math.floor(t/Wl)),Nl===u.TOP?i=zl+Vl:Nl===u.CENTER?i=t/2-Wl*(a/2-1):Nl===u.BOTTOM&&(i=Vl+Wl),a=0;a<o&&(d=a*Wl,!(i+d>t-Vl));a++)n=c[a],de.text$line(n.text,l+e,r+i+d,s,Ol)}}function $(e){de="3D"===e?new _r:"2D"===e?new Lr:new Fr;for(var l in Fr.prototype)Fr.prototype.hasOwnProperty(l)&&0>l.indexOf("$")&&(ae[l]=de[l]);de.$init()}function K(e){return function(){return $("2D"),de[e].apply(this,arguments)}}function Z(e){switch(e=e.which||e.keyCode){case 13:return 10;case 91:case 93:case 224:return 157;case 57392:return 17;case 46:return 127;case 45:return 155}return e}function Q(e){return"function"==typeof e.preventDefault?e.preventDefault():"function"==typeof e.stopPropagation&&e.stopPropagation(),!1}function J(){for(var e in Ql)if(Ql.hasOwnProperty(e))return void(ae.__keyPressed=!0);ae.__keyPressed=!1}function ee(e,l){Ql[e]=l,Jl=null,ae.key=l,ae.keyCode=e,ae.keyPressed(),ae.keyCode=0,ae.keyTyped(),J()}function le(e){var l=Z(e);if(l===u.DELETE)ee(l,new Char(127));else{if(!(0>er.indexOf(l))){var r=new Char(u.CODED);return ae.key=r,ae.keyCode=l,Ql[l]=r,ae.keyPressed(),Jl=null,J(),Q(e)}Jl=l}}function re(e){if(null!==Jl){var l,r=Jl;l=e.which||e.keyCode;var o=e.shiftKey||e.ctrlKey||e.altKey||e.metaKey;switch(l){case 13:l=o?13:10;break;case 8:l=o?127:8}return l=new Char(l),ee(r,l),Q(e)}}function oe(e){e=Z(e);var r=Ql[e];r!==l&&(ae.key=r,ae.keyCode=e,ae.keyReleased(),delete Ql[e],J())}if(!(this instanceof Y))throw"called Processing constructor as if it were a function: missing 'new'.";var te={},se=e===l&&r===l;if(!("getContext"in(te=se?c.createElement("canvas"):"string"==typeof e?c.getElementById(e):e)))throw"called Processing constructor without passing canvas element reference or id.";var ie=[],ae=this;ae.Char=ae.Character=Char,t.withCommonFunctions(ae),t.withMath(ae),t.withProxyFunctions(ae,function(e){return Array.prototype.slice.call(e,1)}),t.withTouch(ae,te,v,c,u),s&&Object.keys(s).forEach(function(e){ae[e]=s[e]}),ae.externals={canvas:te,context:l,sketch:l,window:n},ae.name="Processing.js Instance",ae.use3DContext=!1,ae.focused=!1,ae.breakShape=!1,ae.glyphTable={},ae.pmouseX=0,ae.pmouseY=0,ae.mouseX=0,ae.mouseY=0,ae.mouseButton=0,ae.mouseScroll=0,ae.mouseClicked=l,ae.mouseDragged=l,ae.mouseMoved=l,ae.mousePressed=l,ae.mouseReleased=l,ae.mouseScrolled=l,ae.mouseOver=l,ae.mouseOut=l,ae.touchStart=l,ae.touchEnd=l,ae.touchMove=l,ae.touchCancel=l,ae.key=l,ae.keyCode=l,ae.keyPressed=d,ae.keyReleased=d,ae.keyTyped=d,ae.draw=l,ae.setup=l,ae.__mousePressed=!1,ae.__keyPressed=!1,ae.__frameRate=60,ae.frameCount=0,ae.width=100,ae.height=100;var ne,ce,de,ue,he,pe,fe,me,ge,be,ke,we,Xe,Ye,ve,ye,Se,Ae,xe,Be,qe,Te,Ee,Pe,Ce,Me,Ie,Re,De,Le,_e,Fe,Oe,Ne,Ge,He,je,ze,Ve,We,Ue,$e=!0,Ke=[1,1,1,1],Ze=4294967295,Qe=!0,Je=!0,el=[0,0,0,1],ll=4278190080,rl=!0,ol=1,tl=!1,sl=!1,il=!0,al=0,nl=u.CORNER,cl=u.CENTER,dl=0,ul=0,hl=0,pl=u.NORMAL_MODE_AUTO,fl=60,ml=1e3/fl,gl=te.style.cursor,bl=u.POLYGON,kl=0,wl=20,Xl=!1,Yl=-3355444,vl=20,yl=255,Sl=255,Al=255,xl=255,Bl=0,ql=0,Tl=u.RGB,El=null,Pl=null,Cl=Date.now(),Ml=Cl,Il=0,Rl={attributes:{},locations:{}},Dl=0,Ll=0,_l=u.IMAGE,Fl=!1,Ol=u.LEFT,Nl=u.BASELINE,Gl=u.MODEL,Hl="Arial",jl=12,zl=9,Vl=2,Wl=14,Ul=PFont.get(Hl,jl),$l=null,Kl=!1,Zl=1e3,Ql=[],Jl=null,er=[u.SHIFT,u.CONTROL,u.ALT,u.CAPSLK,u.PGUP,u.PGDN,u.END,u.HOME,u.LEFT,u.UP,u.RIGHT,u.DOWN,u.NUMLK,u.INSERT,u.F1,u.F2,u.F3,u.F4,u.F5,u.F6,u.F7,u.F8,u.F9,u.F10,u.F11,u.F12,u.META],lr=0,rr=0,or=0,tr=[],sr=[],ir=[],ar=new m(u.SINCOS_LENGTH),nr=new m(u.SINCOS_LENGTH),cr=!1,dr=Math.PI/180*60,ur=ae.width/2,hr=ae.height/2,pr=hr/Math.tan(dr/2),fr=pr/10,mr=10*pr,gr=ae.width/ae.height,br=[],kr=[],wr=0,Xr=!1,Yr=!1,vr=!0,yr=u.CORNER,Sr=[],Ar=new m([.5,.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,.5,.5,-.5,.5,.5,.5,-.5,.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,-.5,.5,.5,.5,.5,.5,.5,-.5,.5,.5,.5,.5,-.5,.5,.5,-.5,.5,.5,-.5,-.5,.5,.5,-.5,.5,-.5,-.5,.5,-.5,.5,-.5,-.5,.5,-.5,-.5,.5,-.5,-.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,.5,.5,-.5,.5,.5,-.5,.5,-.5,-.5,-.5,-.5,.5,.5,.5,.5,.5,-.5,-.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,.5,.5,.5]),xr=new m([.5,.5,.5,.5,-.5,.5,.5,.5,-.5,.5,-.5,-.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,.5,.5,-.5,-.5,.5,.5,.5,.5,.5,.5,-.5,.5,.5,-.5,-.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,-.5,.5,.5,.5,.5,.5,.5,-.5,.5,.5,-.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,-.5,.5,.5,-.5,.5]),Br=new m([0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0]),qr=new m([0,0,0,0,1,0,1,1,0,1,0,0]),Tr=new m([0,0,1,0,0,1,0,0,1,0,0,1]),Er="varying vec4 vFrontColor;attribute vec3 aVertex;attribute vec3 aNormal;attribute vec4 aColor;attribute vec2 aTexture;varying   vec2 vTexture;uniform vec4 uColor;uniform bool uUsingMat;uniform vec3 uSpecular;uniform vec3 uMaterialEmissive;uniform vec3 uMaterialAmbient;uniform vec3 uMaterialSpecular;uniform float uShininess;uniform mat4 uModel;uniform mat4 uView;uniform mat4 uProjection;uniform mat4 uNormalTransform;uniform int uLightCount;uniform vec3 uFalloff;struct Light {  int type;  vec3 color;  vec3 position;  vec3 direction;  float angle;  vec3 halfVector;  float concentration;};uniform Light uLights0;uniform Light uLights1;uniform Light uLights2;uniform Light uLights3;uniform Light uLights4;uniform Light uLights5;uniform Light uLights6;uniform Light uLights7;Light getLight(int index){  if(index == 0) return uLights0;  if(index == 1) return uLights1;  if(index == 2) return uLights2;  if(index == 3) return uLights3;  if(index == 4) return uLights4;  if(index == 5) return uLights5;  if(index == 6) return uLights6;  return uLights7;}void AmbientLight( inout vec3 totalAmbient, in vec3 ecPos, in Light light ) {  float d = length( light.position - ecPos );  float attenuation = 1.0 / ( uFalloff[0] + ( uFalloff[1] * d ) + ( uFalloff[2] * d * d ));  totalAmbient += light.color * attenuation;}void DirectionalLight( inout vec3 col, inout vec3 spec, in vec3 vertNormal, in vec3 ecPos, in Light light ) {  float powerFactor = 0.0;  float nDotVP = max(0.0, dot( vertNormal, normalize(-light.position) ));  float nDotVH = max(0.0, dot( vertNormal, normalize(-light.position-normalize(ecPos) )));  if( nDotVP != 0.0 ){    powerFactor = pow( nDotVH, uShininess );  }  col += light.color * nDotVP;  spec += uSpecular * powerFactor;}void PointLight( inout vec3 col, inout vec3 spec, in vec3 vertNormal, in vec3 ecPos, in Light light ) {  float powerFactor;   vec3 VP = light.position - ecPos;  float d = length( VP );   VP = normalize( VP );  float attenuation = 1.0 / ( uFalloff[0] + ( uFalloff[1] * d ) + ( uFalloff[2] * d * d ));  float nDotVP = max( 0.0, dot( vertNormal, VP ));  vec3 halfVector = normalize( VP - normalize(ecPos) );  float nDotHV = max( 0.0, dot( vertNormal, halfVector ));  if( nDotVP == 0.0 ) {    powerFactor = 0.0;  }  else {    powerFactor = pow( nDotHV, uShininess );  }  spec += uSpecular * powerFactor * attenuation;  col += light.color * nDotVP * attenuation;}void SpotLight( inout vec3 col, inout vec3 spec, in vec3 vertNormal, in vec3 ecPos, in Light light ) {  float spotAttenuation;  float powerFactor = 0.0;  vec3 VP = light.position - ecPos;  vec3 ldir = normalize( -light.direction );  float d = length( VP );  VP = normalize( VP );  float attenuation = 1.0 / ( uFalloff[0] + ( uFalloff[1] * d ) + ( uFalloff[2] * d * d ) );  float spotDot = dot( VP, ldir );"+(/Windows/.test(a.userAgent)?"  spotAttenuation = 1.0; ":"  if( spotDot > cos( light.angle ) ) {    spotAttenuation = pow( spotDot, light.concentration );  }  else{    spotAttenuation = 0.0;  }  attenuation *= spotAttenuation;")+"  float nDotVP = max( 0.0, dot( vertNormal, VP ) );  vec3 halfVector = normalize( VP - normalize(ecPos) );  float nDotHV = max( 0.0, dot( vertNormal, halfVector ) );  if( nDotVP != 0.0 ) {    powerFactor = pow( nDotHV, uShininess );  }  spec += uSpecular * powerFactor * attenuation;  col += light.color * nDotVP * attenuation;}void main(void) {  vec3 finalAmbient = vec3( 0.0 );  vec3 finalDiffuse = vec3( 0.0 );  vec3 finalSpecular = vec3( 0.0 );  vec4 col = uColor;  if ( uColor[0] == -1.0 ){    col = aColor;  }  vec3 norm = normalize(vec3( uNormalTransform * vec4( aNormal, 0.0 ) ));  vec4 ecPos4 = uView * uModel * vec4(aVertex, 1.0);  vec3 ecPos = (vec3(ecPos4))/ecPos4.w;  if( uLightCount == 0 ) {    vFrontColor = col + vec4(uMaterialSpecular, 1.0);  }  else {    for( int i = 0; i < 8; i++ ) {      Light l = getLight(i);      if( i >= uLightCount ){        break;      }      if( l.type == 0 ) {        AmbientLight( finalAmbient, ecPos, l );      }      else if( l.type == 1 ) {        DirectionalLight( finalDiffuse, finalSpecular, norm, ecPos, l );      }      else if( l.type == 2 ) {        PointLight( finalDiffuse, finalSpecular, norm, ecPos, l );      }      else {        SpotLight( finalDiffuse, finalSpecular, norm, ecPos, l );      }    }   if( uUsingMat == false ) {     vFrontColor = vec4(       vec3( col ) * finalAmbient +       vec3( col ) * finalDiffuse +       vec3( col ) * finalSpecular,       col[3] );   }   else{     vFrontColor = vec4(        uMaterialEmissive +        (vec3(col) * uMaterialAmbient * finalAmbient ) +        (vec3(col) * finalDiffuse) +        (uMaterialSpecular * finalSpecular),        col[3] );    }  }  vTexture.xy = aTexture.xy;  gl_Position = uProjection * uView * uModel * vec4( aVertex, 1.0 );}",Pr=function(e,l,r){var o=e.createShader(e.VERTEX_SHADER);if(e.shaderSource(o,l),e.compileShader(o),!e.getShaderParameter(o,e.COMPILE_STATUS))throw e.getShaderInfoLog(o);if(l=e.createShader(e.FRAGMENT_SHADER),e.shaderSource(l,r),e.compileShader(l),!e.getShaderParameter(l,e.COMPILE_STATUS))throw e.getShaderInfoLog(l);if(r=e.createProgram(),e.attachShader(r,o),e.attachShader(r,l),e.linkProgram(r),!e.getProgramParameter(r,e.LINK_STATUS))throw"Error linking shaders.";return r},Cr=function(e,l,r,o,t){return{x:e,y:l,w:r,h:o}},Mr=Cr,Ir=function(e,l,r,o,t){return{x:e,y:l,w:t?r:r-e,h:t?o:o-l}},Rr=function(e,l,r,o,t){return{x:e-r/2,y:l-o/2,w:r,h:o}},Dr=function(){},Lr=function(){},_r=function(){},Fr=function(){};Lr.prototype=new Dr,Lr.prototype.constructor=Lr,_r.prototype=new Dr,_r.prototype.constructor=_r,Fr.prototype=new Dr,Fr.prototype.constructor=Fr,Dr.prototype.a3DOnlyFunction=d,ae.shape=function(e,l,r,o,t){1<=arguments.length&&null!==arguments[0]&&e.isVisible()&&(ae.pushMatrix(),yr===u.CENTER?5===arguments.length?(ae.translate(l-o/2,r-t/2),ae.scale(o/e.getWidth(),t/e.getHeight())):3===arguments.length?ae.translate(l-e.getWidth()/2,-e.getHeight()/2):ae.translate(-e.getWidth()/2,-e.getHeight()/2):yr===u.CORNER?5===arguments.length?(ae.translate(l,r),ae.scale(o/e.getWidth(),t/e.getHeight())):3===arguments.length&&ae.translate(l,r):yr===u.CORNERS&&(5===arguments.length?(o-=l,t-=r,ae.translate(l,r),ae.scale(o/e.getWidth(),t/e.getHeight())):3===arguments.length&&ae.translate(l,r)),e.draw(ae),(1===arguments.length&&yr===u.CENTER||1<arguments.length)&&ae.popMatrix())},ae.shapeMode=function(e){yr=e},ae.loadShape=function(e){return 1===arguments.length&&-1<e.indexOf(".svg")?new PShapeSVG(null,e):null},ae.loadXML=function(e){return new XML(ae,e)};var Or=function(e){for(var l=0,r=0;r<e.length;r++)l=0!==r?Math.max(l,Math.abs(e[r])):Math.abs(e[r]);return e=(l+"").indexOf("."),0===e?e=1:-1===e&&(e=(l+"").length),e},Nr=ae.PMatrix2D=function(){0===arguments.length?this.reset():1===arguments.length&&arguments[0]instanceof Nr?this.set(arguments[0].array()):6===arguments.length&&this.set(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])};Nr.prototype={set:function(){if(6===arguments.length){var e=arguments;this.set([e[0],e[1],e[2],e[3],e[4],e[5]])}else 1===arguments.length&&arguments[0]instanceof Nr?this.elements=arguments[0].array():1===arguments.length&&arguments[0]instanceof Array&&(this.elements=arguments[0].slice())},get:function(){var e=new Nr;return e.set(this.elements),e},reset:function(){this.set([1,0,0,0,1,0])},array:function(){return this.elements.slice()},translate:function(e,l){this.elements[2]=e*this.elements[0]+l*this.elements[1]+this.elements[2],this.elements[5]=e*this.elements[3]+l*this.elements[4]+this.elements[5]},invTranslate:function(e,l){this.translate(-e,-l)},transpose:function(){},mult:function(e,l){var r,o;return e instanceof PVector?(r=e.x,o=e.y,l||(l=new PVector)):e instanceof Array&&(r=e[0],o=e[1],l||(l=[])),l instanceof Array?(l[0]=this.elements[0]*r+this.elements[1]*o+this.elements[2],l[1]=this.elements[3]*r+this.elements[4]*o+this.elements[5]):l instanceof PVector&&(l.x=this.elements[0]*r+this.elements[1]*o+this.elements[2],l.y=this.elements[3]*r+this.elements[4]*o+this.elements[5],l.z=0),l},multX:function(e,l){return e*this.elements[0]+l*this.elements[1]+this.elements[2]},multY:function(e,l){return e*this.elements[3]+l*this.elements[4]+this.elements[5]},skewX:function(e){this.apply(1,0,1,e,0,0)},skewY:function(e){this.apply(1,0,1,0,e,0)},shearX:function(e){this.apply(1,0,1,Math.tan(e),0,0)},shearY:function(e){this.apply(1,0,1,0,Math.tan(e),0)},determinant:function(){return this.elements[0]*this.elements[4]-this.elements[1]*this.elements[3]},invert:function(){var e=this.determinant();if(Math.abs(e)>u.MIN_INT){var l=this.elements[0],r=this.elements[1],o=this.elements[2],t=this.elements[3],s=this.elements[4],i=this.elements[5];return this.elements[0]=s/e,this.elements[3]=-t/e,this.elements[1]=-r/e,this.elements[4]=l/e,this.elements[2]=(r*i-s*o)/e,this.elements[5]=(t*o-l*i)/e,!0}return!1},scale:function(e,l){e&&!l&&(l=e),e&&l&&(this.elements[0]*=e,this.elements[1]*=l,this.elements[3]*=e,this.elements[4]*=l)},invScale:function(e,l){e&&!l&&(l=e),this.scale(1/e,1/l)},apply:function(){var e;1===arguments.length&&arguments[0]instanceof Nr?e=arguments[0].array():6===arguments.length?e=Array.prototype.slice.call(arguments):1===arguments.length&&arguments[0]instanceof Array&&(e=arguments[0]);for(var l=[0,0,this.elements[2],0,0,this.elements[5]],r=0,o=0;2>o;o++)for(var t=0;3>t;t++,r++)l[r]+=this.elements[3*o+0]*e[t+0]+this.elements[3*o+1]*e[t+3];this.elements=l.slice()},preApply:function(){var e;1===arguments.length&&arguments[0]instanceof Nr?e=arguments[0].array():6===arguments.length?e=Array.prototype.slice.call(arguments):1===arguments.length&&arguments[0]instanceof Array&&(e=arguments[0]);var l=[0,0,e[2],0,0,e[5]];l[2]=e[2]+this.elements[2]*e[0]+this.elements[5]*e[1],l[5]=e[5]+this.elements[2]*e[3]+this.elements[5]*e[4],l[0]=this.elements[0]*e[0]+this.elements[3]*e[1],l[3]=this.elements[0]*e[3]+this.elements[3]*e[4],l[1]=this.elements[1]*e[0]+this.elements[4]*e[1],l[4]=this.elements[1]*e[3]+this.elements[4]*e[4],this.elements=l.slice()},rotate:function(e){var l=Math.cos(e);e=Math.sin(e);var r=this.elements[0],o=this.elements[1];this.elements[0]=l*r+e*o,this.elements[1]=-e*r+l*o,r=this.elements[3],o=this.elements[4],this.elements[3]=l*r+e*o,this.elements[4]=-e*r+l*o},rotateZ:function(e){this.rotate(e)},invRotateZ:function(e){this.rotateZ(e-Math.PI)},print:function(){var e=Or(this.elements),e=ae.nfs(this.elements[0],e,4)+" "+ae.nfs(this.elements[1],e,4)+" "+ae.nfs(this.elements[2],e,4)+"\n"+ae.nfs(this.elements[3],e,4)+" "+ae.nfs(this.elements[4],e,4)+" "+ae.nfs(this.elements[5],e,4)+"\n\n";ae.println(e)}};var Gr=ae.PMatrix3D=function(){this.reset()};Gr.prototype={set:function(){16===arguments.length?this.elements=Array.prototype.slice.call(arguments):1===arguments.length&&arguments[0]instanceof Gr?this.elements=arguments[0].array():1===arguments.length&&arguments[0]instanceof Array&&(this.elements=arguments[0].slice())},get:function(){var e=new Gr;return e.set(this.elements),e},reset:function(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},array:function(){return this.elements.slice()},translate:function(e,r,o){o===l&&(o=0),this.elements[3]+=e*this.elements[0]+r*this.elements[1]+o*this.elements[2],this.elements[7]+=e*this.elements[4]+r*this.elements[5]+o*this.elements[6],this.elements[11]+=e*this.elements[8]+r*this.elements[9]+o*this.elements[10],this.elements[15]+=e*this.elements[12]+r*this.elements[13]+o*this.elements[14]},transpose:function(){var e=this.elements[4];this.elements[4]=this.elements[1],this.elements[1]=e,e=this.elements[8],this.elements[8]=this.elements[2],this.elements[2]=e,e=this.elements[6],this.elements[6]=this.elements[9],this.elements[9]=e,e=this.elements[3],this.elements[3]=this.elements[12],this.elements[12]=e,e=this.elements[7],this.elements[7]=this.elements[13],this.elements[13]=e,e=this.elements[11],this.elements[11]=this.elements[14],this.elements[14]=e},mult:function(e,l){var r,o,t,s;return e instanceof PVector?(r=e.x,o=e.y,t=e.z,s=1,l||(l=new PVector)):e instanceof Array&&(r=e[0],o=e[1],t=e[2],s=e[3]||1,!l||3!==l.length&&4!==l.length)&&(l=[0,0,0]),l instanceof Array&&(3===l.length?(l[0]=this.elements[0]*r+this.elements[1]*o+this.elements[2]*t+this.elements[3],l[1]=this.elements[4]*r+this.elements[5]*o+this.elements[6]*t+this.elements[7],l[2]=this.elements[8]*r+this.elements[9]*o+this.elements[10]*t+this.elements[11]):4===l.length&&(l[0]=this.elements[0]*r+this.elements[1]*o+this.elements[2]*t+this.elements[3]*s,l[1]=this.elements[4]*r+this.elements[5]*o+this.elements[6]*t+this.elements[7]*s,l[2]=this.elements[8]*r+this.elements[9]*o+this.elements[10]*t+this.elements[11]*s,l[3]=this.elements[12]*r+this.elements[13]*o+this.elements[14]*t+this.elements[15]*s)),l instanceof PVector&&(l.x=this.elements[0]*r+this.elements[1]*o+this.elements[2]*t+this.elements[3],l.y=this.elements[4]*r+this.elements[5]*o+this.elements[6]*t+this.elements[7],l.z=this.elements[8]*r+this.elements[9]*o+this.elements[10]*t+this.elements[11]),l},preApply:function(){var e;1===arguments.length&&arguments[0]instanceof Gr?e=arguments[0].array():16===arguments.length?e=Array.prototype.slice.call(arguments):1===arguments.length&&arguments[0]instanceof Array&&(e=arguments[0]);for(var l=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],r=0,o=0;4>o;o++)for(var t=0;4>t;t++,r++)l[r]+=this.elements[t+0]*e[4*o+0]+this.elements[t+4]*e[4*o+1]+this.elements[t+8]*e[4*o+2]+this.elements[t+12]*e[4*o+3];this.elements=l.slice()},apply:function(){var e;1===arguments.length&&arguments[0]instanceof Gr?e=arguments[0].array():16===arguments.length?e=Array.prototype.slice.call(arguments):1===arguments.length&&arguments[0]instanceof Array&&(e=arguments[0]);for(var l=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],r=0,o=0;4>o;o++)for(var t=0;4>t;t++,r++)l[r]+=this.elements[4*o+0]*e[t+0]+this.elements[4*o+1]*e[t+4]+this.elements[4*o+2]*e[t+8]+this.elements[4*o+3]*e[t+12];this.elements=l.slice()},rotate:function(e,l,r,o){if(4>arguments.length)this.rotateZ(e);else if(0!==(s=(t=new PVector(l,r,o)).mag())){1!=s&&(t.normalize(),l=t.x,r=t.y,o=t.z);var t=ae.cos(e),s=ae.sin(e),i=1-t;this.apply(i*l*l+t,i*l*r-s*o,i*l*o+s*r,0,i*l*r+s*o,i*r*r+t,i*r*o-s*l,0,i*l*o-s*r,i*r*o+s*l,i*o*o+t,0,0,0,0,1)}},invApply:function(){We===l&&(We=new Gr);var e=arguments;return We.set(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]),!!We.invert()&&(this.preApply(We),!0)},rotateX:function(e){var l=ae.cos(e);e=ae.sin(e),this.apply([1,0,0,0,0,l,-e,0,0,e,l,0,0,0,0,1])},rotateY:function(e){var l=ae.cos(e);e=ae.sin(e),this.apply([l,0,e,0,0,1,0,0,-e,0,l,0,0,0,0,1])},rotateZ:function(e){var l=Math.cos(e);e=Math.sin(e),this.apply([l,-e,0,0,e,l,0,0,0,0,1,0,0,0,0,1])},scale:function(e,l,r){!e||l||r?e&&l&&!r&&(r=1):l=r=e,e&&l&&r&&(this.elements[0]*=e,this.elements[1]*=l,this.elements[2]*=r,this.elements[4]*=e,this.elements[5]*=l,this.elements[6]*=r,this.elements[8]*=e,this.elements[9]*=l,this.elements[10]*=r,this.elements[12]*=e,this.elements[13]*=l,this.elements[14]*=r)},skewX:function(e){e=Math.tan(e),this.apply(1,e,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},skewY:function(e){e=Math.tan(e),this.apply(1,0,0,0,e,1,0,0,0,0,1,0,0,0,0,1)},shearX:function(e){e=Math.tan(e),this.apply(1,e,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},shearY:function(e){e=Math.tan(e),this.apply(1,0,0,0,e,1,0,0,0,0,1,0,0,0,0,1)},multX:function(e,l,r,o){return r?o?this.elements[0]*e+this.elements[1]*l+this.elements[2]*r+this.elements[3]*o:this.elements[0]*e+this.elements[1]*l+this.elements[2]*r+this.elements[3]:this.elements[0]*e+this.elements[1]*l+this.elements[3]},multY:function(e,l,r,o){return r?o?this.elements[4]*e+this.elements[5]*l+this.elements[6]*r+this.elements[7]*o:this.elements[4]*e+this.elements[5]*l+this.elements[6]*r+this.elements[7]:this.elements[4]*e+this.elements[5]*l+this.elements[7]},multZ:function(e,l,r,o){return o?this.elements[8]*e+this.elements[9]*l+this.elements[10]*r+this.elements[11]*o:this.elements[8]*e+this.elements[9]*l+this.elements[10]*r+this.elements[11]},multW:function(e,l,r,o){return o?this.elements[12]*e+this.elements[13]*l+this.elements[14]*r+this.elements[15]*o:this.elements[12]*e+this.elements[13]*l+this.elements[14]*r+this.elements[15]},invert:function(){var e=this.elements[0]*this.elements[5]-this.elements[1]*this.elements[4],l=this.elements[0]*this.elements[6]-this.elements[2]*this.elements[4],r=this.elements[0]*this.elements[7]-this.elements[3]*this.elements[4],o=this.elements[1]*this.elements[6]-this.elements[2]*this.elements[5],t=this.elements[1]*this.elements[7]-this.elements[3]*this.elements[5],s=this.elements[2]*this.elements[7]-this.elements[3]*this.elements[6],i=this.elements[8]*this.elements[13]-this.elements[9]*this.elements[12],a=this.elements[8]*this.elements[14]-this.elements[10]*this.elements[12],n=this.elements[8]*this.elements[15]-this.elements[11]*this.elements[12],c=this.elements[9]*this.elements[14]-this.elements[10]*this.elements[13],d=this.elements[9]*this.elements[15]-this.elements[11]*this.elements[13],u=this.elements[10]*this.elements[15]-this.elements[11]*this.elements[14],h=e*u-l*d+r*c+o*n-t*a+s*i;if(1e-9>=Math.abs(h))return!1;var p=[];return p[0]=+this.elements[5]*u-this.elements[6]*d+this.elements[7]*c,p[4]=-this.elements[4]*u+this.elements[6]*n-this.elements[7]*a,p[8]=+this.elements[4]*d-this.elements[5]*n+this.elements[7]*i,p[12]=-this.elements[4]*c+this.elements[5]*a-this.elements[6]*i,p[1]=-this.elements[1]*u+this.elements[2]*d-this.elements[3]*c,p[5]=+this.elements[0]*u-this.elements[2]*n+this.elements[3]*a,p[9]=-this.elements[0]*d+this.elements[1]*n-this.elements[3]*i,p[13]=+this.elements[0]*c-this.elements[1]*a+this.elements[2]*i,p[2]=+this.elements[13]*s-this.elements[14]*t+this.elements[15]*o,p[6]=-this.elements[12]*s+this.elements[14]*r-this.elements[15]*l,p[10]=+this.elements[12]*t-this.elements[13]*r+this.elements[15]*e,p[14]=-this.elements[12]*o+this.elements[13]*l-this.elements[14]*e,p[3]=-this.elements[9]*s+this.elements[10]*t-this.elements[11]*o,p[7]=+this.elements[8]*s-this.elements[10]*r+this.elements[11]*l,p[11]=-this.elements[8]*t+this.elements[9]*r-this.elements[11]*e,p[15]=+this.elements[8]*o-this.elements[9]*l+this.elements[10]*e,e=1/h,p[0]*=e,p[1]*=e,p[2]*=e,p[3]*=e,p[4]*=e,p[5]*=e,p[6]*=e,p[7]*=e,p[8]*=e,p[9]*=e,p[10]*=e,p[11]*=e,p[12]*=e,p[13]*=e,p[14]*=e,p[15]*=e,this.elements=p.slice(),!0},toString:function(){for(var e="",l=0;15>l;l++)e+=this.elements[l]+", ";return e+=this.elements[15]},print:function(){var e=Or(this.elements),e=ae.nfs(this.elements[0],e,4)+" "+ae.nfs(this.elements[1],e,4)+" "+ae.nfs(this.elements[2],e,4)+" "+ae.nfs(this.elements[3],e,4)+"\n"+ae.nfs(this.elements[4],e,4)+" "+ae.nfs(this.elements[5],e,4)+" "+ae.nfs(this.elements[6],e,4)+" "+ae.nfs(this.elements[7],e,4)+"\n"+ae.nfs(this.elements[8],e,4)+" "+ae.nfs(this.elements[9],e,4)+" "+ae.nfs(this.elements[10],e,4)+" "+ae.nfs(this.elements[11],e,4)+"\n"+ae.nfs(this.elements[12],e,4)+" "+ae.nfs(this.elements[13],e,4)+" "+ae.nfs(this.elements[14],e,4)+" "+ae.nfs(this.elements[15],e,4)+"\n\n";ae.println(e)},invTranslate:function(e,l,r){this.preApply(1,0,0,-e,0,1,0,-l,0,0,1,-r,0,0,0,1)},invRotateX:function(e){var l=Math.cos(-e);e=Math.sin(-e),this.preApply([1,0,0,0,0,l,-e,0,0,e,l,0,0,0,0,1])},invRotateY:function(e){var l=Math.cos(-e);e=Math.sin(-e),this.preApply([l,0,e,0,0,1,0,0,-e,0,l,0,0,0,0,1])},invRotateZ:function(e){var l=Math.cos(-e);e=Math.sin(-e),this.preApply([l,-e,0,0,e,l,0,0,0,0,1,0,0,0,0,1])},invScale:function(e,l,r){this.preApply([1/e,0,0,0,0,1/l,0,0,0,0,1/r,0,0,0,0,1])}};var Hr=ae.PMatrixStack=function(){this.matrixStack=[]};Hr.prototype.load=function(){var e=de.$newPMatrix();1===arguments.length?e.set(arguments[0]):e.set(arguments),this.matrixStack.push(e)},Lr.prototype.$newPMatrix=function(){return new Nr},_r.prototype.$newPMatrix=function(){return new Gr},Hr.prototype.push=function(){this.matrixStack.push(this.peek())},Hr.prototype.pop=function(){return this.matrixStack.pop()},Hr.prototype.peek=function(){var e=de.$newPMatrix();return e.set(this.matrixStack[this.matrixStack.length-1]),e},Hr.prototype.mult=function(e){this.matrixStack[this.matrixStack.length-1].apply(e)},ae.split=function(e,l){return e.split(l)},ae.splitTokens=function(e,r){if(r===l)return e.split(/\s+/g);var o,t,s=r.split(/()/g),i="",a=e.length,n=[];for(o=0;o<a;o++)t=e[o],-1<s.indexOf(t)?(""!==i&&n.push(i),i=""):i+=t;return""!==i&&n.push(i),n},ae.append=function(e,l){return e[e.length]=l,e},ae.concat=function(e,l){return e.concat(l)},ae.sort=function(e,l){var r=[];if(0<e.length){for(var o=0<l?l:e.length,t=0;t<o;t++)r.push(e[t]);if("string"==typeof e[0]?r.sort():r.sort(function(e,l){return e-l}),0<l)for(o=r.length;o<e.length;o++)r.push(e[o])}return r},ae.splice=function(e,l,r){if(0===l.length)return e;if(l instanceof Array)for(var o=0;o<l.length;r++,o++)e.splice(r,0,l[o]);else e.splice(r,0,l);return e},ae.subset=function(e,r,o){return e.slice(r,o!==l?r+o:e.length)},ae.join=function(e,l){return e.join(l)},ae.shorten=function(e){for(var l=[],r=e.length,o=0;o<r;o++)l[o]=e[o];return l.pop(),l},ae.expand=function(e,l){var r=e.slice(0);return r.length=l||2*e.length,r},ae.arrayCopy=function(){var e,r,o,t=0,s=0;2===arguments.length?(e=arguments[0],r=arguments[1],o=e.length):3===arguments.length?(e=arguments[0],r=arguments[1],o=arguments[2]):5===arguments.length&&(e=arguments[0],t=arguments[1],r=arguments[2],s=arguments[3],o=arguments[4]);for(var i=t;i<o+t;i++,s++){if(r[s]===l)throw"array index out of bounds exception";r[s]=e[i]}},ae.reverse=function(e){return e.reverse()},ae.mix=function(e,l,r){return e+((l-e)*r>>8)},ae.peg=function(e){return 0>e?0:255<e?255:e},ae.modes=function(){function e(e,l,r,o,t,i,a,n,c,d,u){return e=s(((4278190080&e)>>>24)+l,255)<<24,r+=(c-r)*l>>8,o+=(d-o)*l>>8,l=t+((u-t)*l>>8),e|(0>r?0:255<r?255:r)<<16|(0>o?0:255<o?255:o)<<8|(0>l?0:255<l?255:l)}var l=u.ALPHA_MASK,r=u.RED_MASK,o=u.GREEN_MASK,t=u.BLUE_MASK,s=Math.min,i=Math.max;return{replace:function(e,l){return l},blend:function(e,i){var a=(i&l)>>>24,n=e&r,c=e&o,d=e&t,u=i&r,h=i&o,p=i&t;return s(((e&l)>>>24)+a,255)<<24|n+((u-n)*a>>8)&r|c+((h-c)*a>>8)&o|d+((p-d)*a>>8)&t},add:function(e,i){var a=(i&l)>>>24;return s(((e&l)>>>24)+a,255)<<24|s((e&r)+((i&r)>>8)*a,r)&r|s((e&o)+((i&o)>>8)*a,o)&o|s((e&t)+((i&t)*a>>8),t)},subtract:function(e,a){var n=(a&l)>>>24;return s(((e&l)>>>24)+n,255)<<24|i((e&r)-((a&r)>>8)*n,o)&r|i((e&o)-((a&o)>>8)*n,t)&o|i((e&t)-((a&t)*n>>8),0)},lightest:function(e,a){var n=(a&l)>>>24;return s(((e&l)>>>24)+n,255)<<24|i(e&r,((a&r)>>8)*n)&r|i(e&o,((a&o)>>8)*n)&o|i(e&t,(a&t)*n>>8)},darkest:function(e,i){var a=(i&l)>>>24,n=e&r,c=e&o,d=e&t,u=s(e&r,((i&r)>>8)*a),h=s(e&o,((i&o)>>8)*a),p=s(e&t,(i&t)*a>>8);return s(((e&l)>>>24)+a,255)<<24|n+((u-n)*a>>8)&r|c+((h-c)*a>>8)&o|d+((p-d)*a>>8)&t},difference:function(s,i){var a=(s&r)>>16,n=(s&o)>>8,c=s&t,d=(i&r)>>16,u=(i&o)>>8,h=i&t;return e(s,(i&l)>>>24,a,n,c,d,u,h,a>d?a-d:d-a,n>u?n-u:u-n,c>h?c-h:h-c)},exclusion:function(s,i){var a=(s&r)>>16,n=(s&o)>>8,c=s&t,d=(i&r)>>16,u=(i&o)>>8,h=i&t;return e(s,(i&l)>>>24,a,n,c,d,u,h,a+d-(a*d>>7),n+u-(n*u>>7),c+h-(c*h>>7))},multiply:function(s,i){var a=(s&r)>>16,n=(s&o)>>8,c=s&t,d=(i&r)>>16,u=(i&o)>>8,h=i&t;return e(s,(i&l)>>>24,a,n,c,d,u,h,a*d>>8,n*u>>8,c*h>>8)},screen:function(s,i){var a=(s&r)>>16,n=(s&o)>>8,c=s&t,d=(i&r)>>16,u=(i&o)>>8,h=i&t;return e(s,(i&l)>>>24,a,n,c,d,u,h,255-((255-a)*(255-d)>>8),255-((255-n)*(255-u)>>8),255-((255-c)*(255-h)>>8))},hard_light:function(s,i){var a=(s&r)>>16,n=(s&o)>>8,c=s&t,d=(i&r)>>16,u=(i&o)>>8,h=i&t;return e(s,(i&l)>>>24,a,n,c,d,u,h,128>d?a*d>>7:255-((255-a)*(255-d)>>7),128>u?n*u>>7:255-((255-n)*(255-u)>>7),128>h?c*h>>7:255-((255-c)*(255-h)>>7))},soft_light:function(s,i){var a=(s&r)>>16,n=(s&o)>>8,c=s&t,d=(i&r)>>16,u=(i&o)>>8,h=i&t;return e(s,(i&l)>>>24,a,n,c,d,u,h,(a*d>>7)+(a*a>>8)-(a*a*d>>15),(n*u>>7)+(n*n>>8)-(n*n*u>>15),(c*h>>7)+(c*c>>8)-(c*c*h>>15))},overlay:function(s,i){var a=(s&r)>>16,n=(s&o)>>8,c=s&t,d=(i&r)>>16,u=(i&o)>>8,h=i&t;return e(s,(i&l)>>>24,a,n,c,d,u,h,128>a?a*d>>7:255-((255-a)*(255-d)>>7),128>n?n*u>>7:255-((255-n)*(255-u)>>7),128>c?c*h>>7:255-((255-c)*(255-h)>>7))},dodge:function(s,i){var a=(i&l)>>>24,n=(s&r)>>16,c=(s&o)>>8,d=s&t,u=(i&r)>>16,h=(i&o)>>8,p=i&t,f=255;255!==u&&(f=(n<<8)/(255-u),f=0>f?0:255<f?255:f);var m=255;255!==h&&(m=(c<<8)/(255-h),m=0>m?0:255<m?255:m);var g=255;return 255!==p&&(g=(d<<8)/(255-p),g=0>g?0:255<g?255:g),e(s,a,n,c,d,u,h,p,f,m,g)},burn:function(s,i){var a=(i&l)>>>24,n=(s&r)>>16,c=(s&o)>>8,d=s&t,u=(i&r)>>16,h=(i&o)>>8,p=i&t,f=0;0!==u&&(f=(255-n<<8)/u,f=255-(0>f?0:255<f?255:f));var m=0;0!==h&&(m=(255-c<<8)/h,m=255-(0>m?0:255<m?255:m));var g=0;return 0!==p&&(g=(255-d<<8)/p,g=255-(0>g?0:255<g?255:g)),e(s,a,n,c,d,u,h,p,f,m,g)}}}(),ae.color=function(e,r,o,t){return e!==l&&r!==l&&o!==l&&t!==l?q(e,r,o,t):e!==l&&r!==l&&o!==l?q(e,r,o,yl):e!==l&&r!==l?(e&u.ALPHA_MASK?(r=Math.round(r/yl*255),r=255<r?255:r,e=e-(e&u.ALPHA_MASK)+((0>r?0:r)<<24&u.ALPHA_MASK)):e=Tl===u.RGB?q(e,e,e,r):Tl===u.HSB?q(0,0,e/Sl*xl,r):void 0,e):"number"==typeof e?T(e):q(Sl,Al,xl,yl)},ae.color.toString=function(e){return"rgba("+((e&u.RED_MASK)>>>16)+","+((e&u.GREEN_MASK)>>>8)+","+(e&u.BLUE_MASK)+","+((e&u.ALPHA_MASK)>>>24)/255+")"},ae.color.toInt=function(e,l,r,o){return o<<24&u.ALPHA_MASK|e<<16&u.RED_MASK|l<<8&u.GREEN_MASK|r&u.BLUE_MASK},ae.color.toArray=function(e){return[(e&u.RED_MASK)>>>16,(e&u.GREEN_MASK)>>>8,e&u.BLUE_MASK,(e&u.ALPHA_MASK)>>>24]},ae.color.toGLArray=function(e){return[((e&u.RED_MASK)>>>16)/255,((e&u.GREEN_MASK)>>>8)/255,(e&u.BLUE_MASK)/255,((e&u.ALPHA_MASK)>>>24)/255]},ae.color.toRGB=function(e,l,r){e=(e=e>Sl?Sl:e)/Sl*360,l=(l=l>Al?Al:l)/Al*100,r=(r=r>xl?xl:r)/xl*100;var o=Math.round(r/100*255);if(0===l)return[o,o,o];var t=(e%=360)%60,s=Math.round(r*(100-l)/1e4*255),i=Math.round(r*(6e3-l*t)/6e5*255);switch(l=Math.round(r*(6e3-l*(60-t))/6e5*255),Math.floor(e/60)){case 0:return[o,l,s];case 1:return[i,o,s];case 2:return[s,o,l];case 3:return[s,i,o];case 4:return[l,s,o];case 5:return[o,s,i]}},ae.brightness=function(e){return E(e)[2]},ae.saturation=function(e){return E(e)[1]},ae.hue=function(e){return E(e)[0]},ae.red=function(e){return((e&u.RED_MASK)>>>16)/255*Sl},ae.green=function(e){return((e&u.GREEN_MASK)>>>8)/255*Al},ae.blue=function(e){return(e&u.BLUE_MASK)/255*xl},ae.alpha=function(e){return((e&u.ALPHA_MASK)>>>24)/255*yl},ae.lerpColor=function(e,l,r){var o,t,s,i,a,n;return e=ae.color(e),l=ae.color(l),Tl===u.HSB?(s=E(e),e=((e&u.ALPHA_MASK)>>>24)/yl,t=E(l),l=((l&u.ALPHA_MASK)>>>24)/yl,n=ae.lerp(s[0],t[0],r),o=ae.lerp(s[1],t[1],r),s=ae.lerp(s[2],t[2],r),s=ae.color.toRGB(n,o,s),(r=ae.lerp(e,l,r)*yl)<<24&u.ALPHA_MASK|s[0]<<16&u.RED_MASK|s[1]<<8&u.GREEN_MASK|s[2]&u.BLUE_MASK):(o=(e&u.RED_MASK)>>>16,t=(e&u.GREEN_MASK)>>>8,s=e&u.BLUE_MASK,e=((e&u.ALPHA_MASK)>>>24)/yl,i=(l&u.RED_MASK)>>>16,a=(l&u.GREEN_MASK)>>>8,n=l&u.BLUE_MASK,l=((l&u.ALPHA_MASK)>>>24)/yl,o=0|ae.lerp(o,i,r),t=0|ae.lerp(t,a,r),s=0|ae.lerp(s,n,r),(r=ae.lerp(e,l,r)*yl)<<24&u.ALPHA_MASK|o<<16&u.RED_MASK|t<<8&u.GREEN_MASK|s&u.BLUE_MASK)},ae.colorMode=function(){Tl=arguments[0],1<arguments.length&&(Sl=arguments[1],Al=arguments[2]||arguments[1],xl=arguments[3]||arguments[1],yl=arguments[4]||arguments[1])},ae.blendColor=function(e,l,r){return r===u.REPLACE?ae.modes.replace(e,l):r===u.BLEND?ae.modes.blend(e,l):r===u.ADD?ae.modes.add(e,l):r===u.SUBTRACT?ae.modes.subtract(e,l):r===u.LIGHTEST?ae.modes.lightest(e,l):r===u.DARKEST?ae.modes.darkest(e,l):r===u.DIFFERENCE?ae.modes.difference(e,l):r===u.EXCLUSION?ae.modes.exclusion(e,l):r===u.MULTIPLY?ae.modes.multiply(e,l):r===u.SCREEN?ae.modes.screen(e,l):r===u.HARD_LIGHT?ae.modes.hard_light(e,l):r===u.SOFT_LIGHT?ae.modes.soft_light(e,l):r===u.OVERLAY?ae.modes.overlay(e,l):r===u.DODGE?ae.modes.dodge(e,l):r===u.BURN?ae.modes.burn(e,l):void 0},ae.printMatrix=function(){He.print()},Lr.prototype.translate=function(e,l){He.translate(e,l),je.invTranslate(e,l),ne.translate(e,l)},_r.prototype.translate=function(e,l,r){He.translate(e,l,r),je.invTranslate(e,l,r)},Lr.prototype.scale=function(e,l){He.scale(e,l),je.invScale(e,l),ne.scale(e,l||e)},_r.prototype.scale=function(e,l,r){He.scale(e,l,r),je.invScale(e,l,r)},Lr.prototype.transform=function(e){e=e.array(),ne.transform(e[0],e[3],e[1],e[4],e[2],e[5])},_r.prototype.transformm=function(e){throw"p.transform is currently not supported in 3D mode"},Lr.prototype.pushMatrix=function(){ze.load(He),Ve.load(je),ne.save()},_r.prototype.pushMatrix=function(){ze.load(He),Ve.load(je)},Lr.prototype.popMatrix=function(){He.set(ze.pop()),je.set(Ve.pop()),P()},_r.prototype.popMatrix=function(){He.set(ze.pop()),je.set(Ve.pop())},Lr.prototype.resetMatrix=function(){He.reset(),je.reset(),ne.setTransform(1,0,0,1,0,0)},_r.prototype.resetMatrix=function(){He.reset(),je.reset()},Dr.prototype.applyMatrix=function(){var e=arguments;He.apply(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]),je.invApply(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])},Lr.prototype.applyMatrix=function(){for(var e=arguments,l=e.length;16>l;l++)e[l]=0;e[10]=e[15]=1,Dr.prototype.applyMatrix.apply(this,e)},ae.rotateX=function(e){He.rotateX(e),je.invRotateX(e)},Lr.prototype.rotateZ=function(){throw"rotateZ() is not supported in 2D mode. Use rotate(float) instead."},_r.prototype.rotateZ=function(e){He.rotateZ(e),je.invRotateZ(e)},ae.rotateY=function(e){He.rotateY(e),je.invRotateY(e)},Lr.prototype.rotate=function(e){He.rotateZ(e),je.invRotateZ(e),ne.rotate(e)},_r.prototype.rotate=function(e){4>arguments.length?ae.rotateZ(e):(He.rotate(e,arguments[1],arguments[2],arguments[3]),je.rotate(-e,arguments[1],arguments[2],arguments[3]))},Lr.prototype.shearX=function(e){He.shearX(e),ne.transform(1,0,e,1,0,0)},_r.prototype.shearX=function(e){He.shearX(e)},Lr.prototype.shearY=function(e){He.shearY(e),ne.transform(1,e,0,1,0,0)},_r.prototype.shearY=function(e){He.shearY(e)},ae.pushStyle=function(){ne.save(),ae.pushMatrix(),Sr.push({doFill:$e,currentFillColor:Ze,doStroke:Je,currentStrokeColor:ll,curTint:El,curRectMode:nl,curColorMode:Tl,colorModeX:Sl,colorModeZ:xl,colorModeY:Al,colorModeA:yl,curTextFont:Ul,horizontalTextAlignment:Ol,verticalTextAlignment:Nl,textMode:Gl,curFontName:Hl,curTextSize:jl,curTextAscent:zl,curTextDescent:Vl,curTextLeading:Wl})},ae.popStyle=function(){var e=Sr.pop();if(!e)throw"Too many popStyle() without enough pushStyle()";P(),ae.popMatrix(),$e=e.doFill,Ze=e.currentFillColor,Je=e.doStroke,ll=e.currentStrokeColor,El=e.curTint,nl=e.curRectMode,Tl=e.curColorMode,Sl=e.colorModeX,xl=e.colorModeZ,Al=e.colorModeY,yl=e.colorModeA,Ul=e.curTextFont,Hl=e.curFontName,jl=e.curTextSize,Ol=e.horizontalTextAlignment,Nl=e.verticalTextAlignment,Gl=e.textMode,zl=e.curTextAscent,Vl=e.curTextDescent,Wl=e.curTextLeading},ae.year=function(){return(new Date).getFullYear()},ae.month=function(){return(new Date).getMonth()+1},ae.day=function(){return(new Date).getDate()},ae.hour=function(){return(new Date).getHours()},ae.minute=function(){return(new Date).getMinutes()},ae.second=function(){return(new Date).getSeconds()},ae.millis=function(){return Date.now()-Cl},Lr.prototype.redraw=function(){C(),ne.lineWidth=ol;var e=ae.pmouseX,l=ae.pmouseY;ae.pmouseX=Bl,ae.pmouseY=ql,ne.save(),ae.draw(),P(),Bl=ae.mouseX,ql=ae.mouseY,ae.pmouseX=e,ae.pmouseY=l},_r.prototype.redraw=function(){C();var e=ae.pmouseX,l=ae.pmouseY;ae.pmouseX=Bl,ae.pmouseY=ql,ne.clear(ne.DEPTH_BUFFER_BIT),Rl={attributes:{},locations:{}},ae.noLights(),ae.lightFalloff(1,0,0),ae.shininess(1),ae.ambient(255,255,255),ae.specular(0,0,0),ae.emissive(0,0,0),ae.camera(),ae.draw(),Bl=ae.mouseX,ql=ae.mouseY,ae.pmouseX=e,ae.pmouseY=l},ae.noLoop=function(){tl=il=!1,clearInterval(al),ce.onPause()},ae.loop=function(){tl||(Ml=Date.now(),Il=0,al=n.setInterval(function(){try{ce.onFrameStart(),ae.redraw(),ce.onFrameEnd()}catch(e){throw n.clearInterval(al),e}},ml),tl=il=!0,ce.onLoop())},ae.frameRate=function(e){ml=1e3/(fl=e),il&&(ae.noLoop(),ae.loop())},ae.exit=function(){n.clearInterval(al);var e=ae.externals.canvas.id;w.splice(X[e],1),delete X[e],delete te.onmousedown;for(var l in Y.lib)Y.lib.hasOwnProperty(l)&&Y.lib[l].hasOwnProperty("detach")&&Y.lib[l].detach(ae);for(e=ie.length;e--;){l=(o=ie[e]).elem;var r=o.type,o=o.fn;l.removeEventListener?l.removeEventListener(r,o,!1):l.detachEvent&&l.detachEvent("on"+r,o)}ce.onExit()},ae.cursor=function(){if(1<arguments.length||1===arguments.length&&arguments[0]instanceof ae.PImage){var e,l,r=arguments[0];if(3<=arguments.length){if(e=arguments[1],l=arguments[2],0>e||0>l||l>=r.height||e>=r.width)throw"x and y must be non-negative and less than the dimensions of the image"}else e=r.width>>>1,l=r.height>>>1;r='url("'+r.toDataURL()+'") '+e+" "+l+", default",te.style.cursor=r}else te.style.cursor=1===arguments.length?arguments[0]:gl},ae.noCursor=function(){te.style.cursor=u.NOCURSOR},ae.link=function(e,r){r!==l?n.open(e,r):n.location=e},ae.beginDraw=d,ae.endDraw=d,Lr.prototype.toImageData=function(e,r,o,t){return e=e!==l?e:0,r=r!==l?r:0,o=o!==l?o:ae.width,t=t!==l?t:ae.height,ne.getImageData(e,r,o,t)},_r.prototype.toImageData=function(e,r,o,t){e=e!==l?e:0,r=r!==l?r:0,o=o!==l?o:ae.width,t=t!==l?t:ae.height;var s=c.createElement("canvas").getContext("2d").createImageData(o,t),i=new k(4*o*t);ne.readPixels(e,r,o,t,ne.RGBA,ne.UNSIGNED_BYTE,i),e=0,r=i.length;for(var a=s.data;e<r;e++)a[e]=i[4*(t-1-Math.floor(e/4/o))*o+e%(4*o)];return s},ae.status=function(e){n.status=e},ae.binary=function(e,l){var r;if(0<l)r=l;else if(e instanceof Char)r=16,e|=0;else for(r=32;1<r&&!(e>>>r-1&1);)r--;for(var o="";0<r;)o+=e>>>--r&1?"1":"0";return o},ae.unbinary=function(e){for(var l=e.length-1,r=1,o=0;0<=l;){var t=e[l--];if("0"!==t&&"1"!==t)throw"the value passed into unbinary was not an 8 bit binary number";"1"===t&&(o+=r),r<<=1}return o},ae.hex=function(e,r){1===arguments.length&&(r=e instanceof Char?4:8);var o=e,t=(t=r)===l||null===t?t=8:t;for(0>o&&(o=4294967295+o+1),o=Number(o).toString(16).toUpperCase();o.length<t;)o="0"+o;return o.length>=t&&(o=o.substring(o.length-t,o.length)),o},ae.unhex=function(e){if(e instanceof Array){for(var l=[],r=0;r<e.length;r++)l.push(M(e[r]));return l}return M(e)},ae.loadStrings=function(e){return f[e]?f[e].split("\n"):"string"!=typeof(e=i(e))||""===e?[]:(e=e.replace(/(\r\n?)/g,"\n").replace(/\n$/,"")).split("\n")},ae.saveStrings=function(e,l){f[e]=l.join("\n")},ae.loadBytes=function(e){e=i(e);for(var l=[],r=0;r<e.length;r++)l.push(e.charCodeAt(r));return l},ae.matchAll=function(e,l){for(var r,o=[],t=RegExp(l,"g");null!==(r=t.exec(e));)o.push(r),0===r[0].length&&++t.lastIndex;return 0<o.length?o:null},ae.match=function(e,l){return e.match(l)},ae.println=function(e){Y.logger.println(e)},ae.print=function(e){Y.logger.print(e)},ae.str=function(e){if(e instanceof Array){for(var l=[],r=0;r<e.length;r++)l.push(e[r].toString()+"");return l}return e.toString()+""},ae.parseBoolean=function(e){if(e instanceof Array){for(var l=[],r=0;r<e.length;r++)l.push(I(e[r]));return l}return I(e)},ae.parseByte=function(e){if(e instanceof Array){for(var l=[],r=0;r<e.length;r++)l.push(0-(128&e[r])|127&e[r]);return l}return 0-(128&e)|127&e},ae.parseChar=function(e){if("number"==typeof e)return new Char(String.fromCharCode(65535&e));if(e instanceof Array){for(var l=[],r=0;r<e.length;r++)l.push(new Char(String.fromCharCode(65535&e[r])));return l}throw"char() may receive only one argument of type int, byte, int[], or byte[]."},ae.parseFloat=function(e){if(e instanceof Array){for(var l=[],r=0;r<e.length;r++)l.push(R(e[r]));return l}return R(e)},ae.parseInt=function(e,l){if(e instanceof Array){for(var r=[],o=0;o<e.length;o++)"string"!=typeof e[o]||/^\s*[+\-]?\d+\s*$/.test(e[o])?r.push(D(e[o],l)):r.push(0);return r}return D(e,l)},ae.__int_cast=function(e){return 0|e},ae.__instanceof=function(e,l){if("function"!=typeof l)throw"Function is expected as type argument for instanceof operator";if("string"==typeof e)return l===Object||l===String;if(e instanceof l)return!0;if("object"!=typeof e||null===e)return!1;var r=e.constructor;if(l.$isInterface){for(var o=[];r;)r.$interfaces&&(o=o.concat(r.$interfaces)),r=r.$base;for(;0<o.length;){if((r=o.shift())===l)return!0;r.$interfaces&&(o=o.concat(r.$interfaces))}return!1}for(;r.hasOwnProperty("$base");)if((r=r.$base)===l)return!0;return!1},Dr.prototype.size=function(e,l,r){Je&&ae.stroke(0),$e&&ae.fill(255),r={fillStyle:ne.fillStyle,strokeStyle:ne.strokeStyle,lineCap:ne.lineCap,lineJoin:ne.lineJoin},0<te.style.length&&(te.style.removeProperty("width"),te.style.removeProperty("height")),te.width=ae.width=e||100,te.height=ae.height=l||100;for(var o in r)r.hasOwnProperty(o)&&(ne[o]=r[o]);for(ae.textFont(Ul),ae.background(),Zl=Math.max(1e3,.05*e*l),ae.externals.context=ne,e=0;e<u.SINCOS_LENGTH;e++)ar[e]=ae.sin(.5*e*(u.PI/180)),nr[e]=ae.cos(.5*e*(u.PI/180))},Lr.prototype.size=function(e,r,o){ne===l&&(ne=te.getContext("2d"),ze=new Hr,Ve=new Hr,He=new Nr,je=new Nr),Dr.prototype.size.apply(this,arguments)},_r.prototype.size=function(){var e=!1;return function(l,r,o){if(e)throw"Multiple calls to size() for 3D renders are not allowed.";e=!0;try{te.width=ae.width=l||100,te.height=ae.height=r||100;for(var t,s=te,i=["experimental-webgl","webgl","webkit-3d"],a=0,n=i.length;a<n&&!(t=s.getContext(i[a],{antialias:!1,preserveDrawingBuffer:!0}));a++);Me=(ne=t).createTexture(),Ie=ne.createTexture()}catch(e){Y.debug(e)}if(!ne)throw"WebGL context is not supported on this browser.";ne.viewport(0,0,te.width,te.height),ne.enable(ne.DEPTH_TEST),ne.enable(ne.BLEND),ne.blendFunc(ne.SRC_ALPHA,ne.ONE_MINUS_SRC_ALPHA),we=Pr(ne,"varying vec4 vFrontColor;attribute vec3 aVertex;attribute vec2 aTextureCoord;uniform vec4 uColor;uniform mat4 uModel;uniform mat4 uView;uniform mat4 uProjection;uniform float uPointSize;varying vec2 vTextureCoord;void main(void) {  gl_PointSize = uPointSize;  vFrontColor = uColor;  gl_Position = uProjection * uView * uModel * vec4(aVertex, 1.0);  vTextureCoord = aTextureCoord;}","#ifdef GL_ES\nprecision highp float;\n#endif\nvarying vec4 vFrontColor;varying vec2 vTextureCoord;uniform sampler2D uSampler;uniform int uIsDrawingText;uniform bool uSmooth;void main(void){  if(uSmooth == true){    float dist = distance(gl_PointCoord, vec2(0.5));    if(dist > 0.5){      discard;    }  }  if(uIsDrawingText == 1){    float alpha = texture2D(uSampler, vTextureCoord).a;    gl_FragColor = vec4(vFrontColor.rgb * alpha, alpha);  }  else{    gl_FragColor = vFrontColor;  }}"),Xe=Pr(ne,"varying vec4 vFrontColor;attribute vec3 aVertex;attribute vec4 aColor;uniform mat4 uView;uniform mat4 uProjection;uniform float uPointSize;void main(void) {  vFrontColor = aColor;  gl_PointSize = uPointSize;  gl_Position = uProjection * uView * vec4(aVertex, 1.0);}","#ifdef GL_ES\nprecision highp float;\n#endif\nvarying vec4 vFrontColor;uniform bool uSmooth;void main(void){  if(uSmooth == true){    float dist = distance(gl_PointCoord, vec2(0.5));    if(dist > 0.5){      discard;    }  }  gl_FragColor = vFrontColor;}"),ae.strokeWeight(1),ke=Pr(ne,Er,"#ifdef GL_ES\nprecision highp float;\n#endif\nvarying vec4 vFrontColor;uniform sampler2D uSampler;uniform bool uUsingTexture;varying vec2 vTexture;void main(void){  if( uUsingTexture ){    gl_FragColor = vec4(texture2D(uSampler, vTexture.xy)) * vFrontColor;  }  else{    gl_FragColor = vFrontColor;  }}"),ne.useProgram(ke),S("usingTexture3d",ke,"usingTexture",Fl),ae.lightFalloff(1,0,0),ae.shininess(1),ae.ambient(255,255,255),ae.specular(0,0,0),ae.emissive(0,0,0),Ye=ne.createBuffer(),ne.bindBuffer(ne.ARRAY_BUFFER,Ye),ne.bufferData(ne.ARRAY_BUFFER,Ar,ne.STATIC_DRAW),ve=ne.createBuffer(),ne.bindBuffer(ne.ARRAY_BUFFER,ve),ne.bufferData(ne.ARRAY_BUFFER,Br,ne.STATIC_DRAW),ye=ne.createBuffer(),ne.bindBuffer(ne.ARRAY_BUFFER,ye),ne.bufferData(ne.ARRAY_BUFFER,xr,ne.STATIC_DRAW),Se=ne.createBuffer(),ne.bindBuffer(ne.ARRAY_BUFFER,Se),ne.bufferData(ne.ARRAY_BUFFER,qr,ne.STATIC_DRAW),Ae=ne.createBuffer(),ne.bindBuffer(ne.ARRAY_BUFFER,Ae),ne.bufferData(ne.ARRAY_BUFFER,Tr,ne.STATIC_DRAW),xe=ne.createBuffer(),Be=ne.createBuffer(),qe=ne.createBuffer(),Te=ne.createBuffer(),Ee=ne.createBuffer(),Ce=ne.createBuffer(),Pe=ne.createBuffer(),ne.bindBuffer(ne.ARRAY_BUFFER,Pe),ne.bufferData(ne.ARRAY_BUFFER,new m([0,0,0]),ne.STATIC_DRAW),Re=ne.createBuffer(),ne.bindBuffer(ne.ARRAY_BUFFER,Re),ne.bufferData(ne.ARRAY_BUFFER,new m([1,1,0,-1,1,0,-1,-1,0,1,-1,0]),ne.STATIC_DRAW),De=ne.createBuffer(),ne.bindBuffer(ne.ARRAY_BUFFER,De),ne.bufferData(ne.ARRAY_BUFFER,new m([0,0,1,0,1,1,0,1]),ne.STATIC_DRAW),Le=ne.createBuffer(),ne.bindBuffer(ne.ELEMENT_ARRAY_BUFFER,Le),ne.bufferData(ne.ELEMENT_ARRAY_BUFFER,new b([0,1,2,2,3,0]),ne.STATIC_DRAW),Ne=new Gr,Ge=new Gr,He=new Gr,je=new Gr,Ue=new Gr,ae.camera(),ae.perspective(),ze=new Hr,Ve=new Hr,he=new Gr,pe=new Gr,fe=new Gr,me=new Gr,ge=new Gr,(be=new Gr).set(-1,3,-3,1,3,-6,3,0,-3,3,0,0,1,0,0,0),Dr.prototype.size.apply(this,arguments)}}(),Lr.prototype.ambientLight=Dr.prototype.a3DOnlyFunction,_r.prototype.ambientLight=function(e,l,r,o,t,s){if(lr===u.MAX_LIGHTS)throw"can only create "+u.MAX_LIGHTS+" lights";o=new PVector(o,t,s),(t=new Gr).scale(1,-1,1),t.apply(He.array()),t.mult(o,o),e=[(((e=q(e,l,r,0))&u.RED_MASK)>>>16)/255,((e&u.GREEN_MASK)>>>8)/255,(e&u.BLUE_MASK)/255],ne.useProgram(ke),y("uLights.color.3d."+lr,ke,"uLights"+lr+".color",e),y("uLights.position.3d."+lr,ke,"uLights"+lr+".position",o.array()),S("uLights.type.3d."+lr,ke,"uLights"+lr+".type",0),S("uLightCount3d",ke,"uLightCount",++lr)},Lr.prototype.directionalLight=Dr.prototype.a3DOnlyFunction,_r.prototype.directionalLight=function(e,l,r,o,t,s){if(lr===u.MAX_LIGHTS)throw"can only create "+u.MAX_LIGHTS+" lights";ne.useProgram(ke);var i=new Gr;i.scale(1,-1,1),i.apply(He.array()),o=[(i=i.array())[0]*o+i[4]*t+i[8]*s,i[1]*o+i[5]*t+i[9]*s,i[2]*o+i[6]*t+i[10]*s],e=q(e,l,r,0),y("uLights.color.3d."+lr,ke,"uLights"+lr+".color",[((e&u.RED_MASK)>>>16)/255,((e&u.GREEN_MASK)>>>8)/255,(e&u.BLUE_MASK)/255]),y("uLights.position.3d."+lr,ke,"uLights"+lr+".position",o),S("uLights.type.3d."+lr,ke,"uLights"+lr+".type",1),S("uLightCount3d",ke,"uLightCount",++lr)},Lr.prototype.lightFalloff=Dr.prototype.a3DOnlyFunction,_r.prototype.lightFalloff=function(e,l,r){ne.useProgram(ke),y("uFalloff3d",ke,"uFalloff",[e,l,r])},Lr.prototype.lightSpecular=Dr.prototype.a3DOnlyFunction,_r.prototype.lightSpecular=function(e,l,r){e=[(((e=q(e,l,r,0))&u.RED_MASK)>>>16)/255,((e&u.GREEN_MASK)>>>8)/255,(e&u.BLUE_MASK)/255],ne.useProgram(ke),y("uSpecular3d",ke,"uSpecular",e)},ae.lights=function(){ae.ambientLight(128,128,128),ae.directionalLight(128,128,128,0,0,-1),ae.lightFalloff(1,0,0),ae.lightSpecular(0,0,0)},Lr.prototype.pointLight=Dr.prototype.a3DOnlyFunction,_r.prototype.pointLight=function(e,l,r,o,t,s){if(lr===u.MAX_LIGHTS)throw"can only create "+u.MAX_LIGHTS+" lights";o=new PVector(o,t,s),(t=new Gr).scale(1,-1,1),t.apply(He.array()),t.mult(o,o),e=[(((e=q(e,l,r,0))&u.RED_MASK)>>>16)/255,((e&u.GREEN_MASK)>>>8)/255,(e&u.BLUE_MASK)/255],ne.useProgram(ke),y("uLights.color.3d."+lr,ke,"uLights"+lr+".color",e),y("uLights.position.3d."+lr,ke,"uLights"+lr+".position",o.array()),S("uLights.type.3d."+lr,ke,"uLights"+lr+".type",2),S("uLightCount3d",ke,"uLightCount",++lr)},Lr.prototype.noLights=Dr.prototype.a3DOnlyFunction,_r.prototype.noLights=function(){lr=0,ne.useProgram(ke),S("uLightCount3d",ke,"uLightCount",lr)},Lr.prototype.spotLight=Dr.prototype.a3DOnlyFunction,_r.prototype.spotLight=function(e,l,r,o,t,s,i,a,n,c,d){if(lr===u.MAX_LIGHTS)throw"can only create "+u.MAX_LIGHTS+" lights";ne.useProgram(ke),o=new PVector(o,t,s),(t=new Gr).scale(1,-1,1),t.apply(He.array()),t.mult(o,o),i=[(t=t.array())[0]*i+t[4]*a+t[8]*n,t[1]*i+t[5]*a+t[9]*n,t[2]*i+t[6]*a+t[10]*n],e=q(e,l,r,0),y("uLights.color.3d."+lr,ke,"uLights"+lr+".color",[((e&u.RED_MASK)>>>16)/255,((e&u.GREEN_MASK)>>>8)/255,(e&u.BLUE_MASK)/255]),y("uLights.position.3d."+lr,ke,"uLights"+lr+".position",o.array()),y("uLights.direction.3d."+lr,ke,"uLights"+lr+".direction",i),y("uLights.concentration.3d."+lr,ke,"uLights"+lr+".concentration",d),y("uLights.angle.3d."+lr,ke,"uLights"+lr+".angle",c),S("uLights.type.3d."+lr,ke,"uLights"+lr+".type",3),S("uLightCount3d",ke,"uLightCount",++lr)},Lr.prototype.beginCamera=function(){throw"beginCamera() is not available in 2D mode"},_r.prototype.beginCamera=function(){if(cr)throw"You cannot call beginCamera() again before calling endCamera()";cr=!0,He=Ge,je=Ne},Lr.prototype.endCamera=function(){throw"endCamera() is not available in 2D mode"},_r.prototype.endCamera=function(){if(!cr)throw"You cannot call endCamera() before calling beginCamera()";He.set(Ne),je.set(Ge),cr=!1},ae.camera=function(e,r,o,t,s,i,a,n,c){e===l&&(ur=ae.width/2,hr=ae.height/2,pr=hr/Math.tan(dr/2),e=ur,r=hr,o=pr,t=ur,s=hr,a=i=0,n=1,c=0),t=new PVector(e-t,r-s,o-i);d=new PVector(a,n,c);t.normalize(),c=PVector.cross(d,t),d=PVector.cross(t,c),c.normalize(),d.normalize(),a=c.x,n=c.y,c=c.z,s=d.x,i=d.y;var d=d.z,u=t.x,h=t.y;t=t.z,Ne.set(a,n,c,0,s,i,d,0,u,h,t,0,0,0,0,1),Ne.translate(-e,-r,-o),Ge.reset(),Ge.invApply(a,n,c,0,s,i,d,0,u,h,t,0,0,0,0,1),Ge.translate(e,r,o),He.set(Ne),je.set(Ge)},ae.perspective=function(e,l,r,o){0===arguments.length&&(hr=te.height/2,pr=hr/Math.tan(dr/2),fr=pr/10,mr=10*pr,gr=ae.width/ae.height,e=dr,l=gr,r=fr,o=mr);var t,s;s=-(t=r*Math.tan(e/2)),ae.frustum(s*l,t*l,s,t,r,o)},Lr.prototype.frustum=function(){throw"Processing.js: frustum() is not supported in 2D mode"},_r.prototype.frustum=function(e,l,r,o,t,s){(Ue=new Gr).set(2*t/(l-e),0,(l+e)/(l-e),0,0,2*t/(o-r),(o+r)/(o-r),0,0,0,-(s+t)/(s-t),-2*s*t/(s-t),0,0,-1,0),(e=new Gr).set(Ue),e.transpose(),ne.useProgram(we),A("projection2d",we,"uProjection",!1,e.array()),ne.useProgram(ke),A("projection3d",ke,"uProjection",!1,e.array()),ne.useProgram(Xe),A("uProjectionUS",Xe,"uProjection",!1,e.array())},ae.ortho=function(e,l,r,o,t,s){0===arguments.length&&(e=0,l=ae.width,r=0,o=ae.height,t=-10,s=10);var i=2/(l-e),a=2/(o-r),n=-2/(s-t),c=-(l+e)/(l-e),d=-(o+r)/(o-r),u=-(s+t)/(s-t);(Ue=new Gr).set(i,0,0,c,0,a,0,d,0,0,n,u,0,0,0,1),(i=new Gr).set(Ue),i.transpose(),ne.useProgram(we),A("projection2d",we,"uProjection",!1,i.array()),ne.useProgram(ke),A("projection3d",ke,"uProjection",!1,i.array()),ne.useProgram(Xe),A("uProjectionUS",Xe,"uProjection",!1,i.array())},ae.printProjection=function(){Ue.print()},ae.printCamera=function(){Ne.print()},Lr.prototype.box=Dr.prototype.a3DOnlyFunction,_r.prototype.box=function(e,l,r){l&&r||(l=r=e);var o=new Gr;o.scale(e,l,r),(e=new Gr).scale(1,-1,1),e.apply(He.array()),e.transpose(),$e&&(ne.useProgram(ke),A("model3d",ke,"uModel",!1,o.array()),A("view3d",ke,"uView",!1,e.array()),ne.enable(ne.POLYGON_OFFSET_FILL),ne.polygonOffset(1,1),y("color3d",ke,"uColor",Ke),0<lr?((l=new Gr).set(e),(r=new Gr).set(o),l.mult(r),(r=new Gr).set(l),r.invert(),r.transpose(),A("uNormalTransform3d",ke,"uNormalTransform",!1,r.array()),x("aNormal3d",ke,"aNormal",3,ve)):B("aNormal3d",ke,"aNormal"),x("aVertex3d",ke,"aVertex",3,Ye),B("aColor3d",ke,"aColor"),B("aTexture3d",ke,"aTexture"),ne.drawArrays(ne.TRIANGLES,0,Ar.length/3),ne.disable(ne.POLYGON_OFFSET_FILL)),0<ol&&Je&&(ne.useProgram(we),A("uModel2d",we,"uModel",!1,o.array()),A("uView2d",we,"uView",!1,e.array()),y("uColor2d",we,"uColor",el),S("uIsDrawingText2d",we,"uIsDrawingText",!1),x("vertex2d",we,"aVertex",3,ye),B("aTextureCoord2d",we,"aTextureCoord"),ne.drawArrays(ne.LINES,0,xr.length/3))},ae.sphereDetail=function(e,l){var r;if(1===arguments.length&&(e=l=arguments[0]),3>e&&(e=3),2>l&&(l=2),e!==or||l!==rr){var o=u.SINCOS_LENGTH/e,t=new m(e),s=new m(e);for(r=0;r<e;r++)t[r]=nr[r*o%u.SINCOS_LENGTH|0],s[r]=ar[r*o%u.SINCOS_LENGTH|0];o=0,tr=new m(r=e*(l-1)+2),sr=new m(r),ir=new m(r);var i=.5*u.SINCOS_LENGTH/l,a=i;for(r=1;r<l;r++){for(var n=ar[a%u.SINCOS_LENGTH|0],c=-nr[a%u.SINCOS_LENGTH|0],d=0;d<e;d++)tr[o]=t[d]*n,sr[o]=c,ir[o++]=s[d]*n;a+=i}for(or=e,rr=l,Oe=[],t=0;t<or;t++)Oe.push(0),Oe.push(-1),Oe.push(0),Oe.push(tr[t]),Oe.push(sr[t]),Oe.push(ir[t]);for(Oe.push(0),Oe.push(-1),Oe.push(0),Oe.push(tr[0]),Oe.push(sr[0]),Oe.push(ir[0]),i=0,t=2;t<rr;t++){for(s=r=i,o=i+=or,a=0;a<or;a++)Oe.push(tr[s]),Oe.push(sr[s]),Oe.push(ir[s++]),Oe.push(tr[o]),Oe.push(sr[o]),Oe.push(ir[o++]);s=r,o=i,Oe.push(tr[s]),Oe.push(sr[s]),Oe.push(ir[s]),Oe.push(tr[o]),Oe.push(sr[o]),Oe.push(ir[o])}for(t=0;t<or;t++)o=i+t,Oe.push(tr[o]),Oe.push(sr[o]),Oe.push(ir[o]),Oe.push(0),Oe.push(1),Oe.push(0);Oe.push(tr[i]),Oe.push(sr[i]),Oe.push(ir[i]),Oe.push(0),Oe.push(1),Oe.push(0),ne.bindBuffer(ne.ARRAY_BUFFER,xe),ne.bufferData(ne.ARRAY_BUFFER,new m(Oe),ne.STATIC_DRAW)}},Lr.prototype.sphere=Dr.prototype.a3DOnlyFunction,_r.prototype.sphere=function(e){(3>or||2>rr)&&ae.sphereDetail(30);var l=new Gr;if(l.scale(e,e,e),(e=new Gr).scale(1,-1,1),e.apply(He.array()),e.transpose(),$e){if(0<lr){var r=new Gr;r.set(e);var o=new Gr;o.set(l),r.mult(o),(o=new Gr).set(r),o.invert(),o.transpose(),A("uNormalTransform3d",ke,"uNormalTransform",!1,o.array()),x("aNormal3d",ke,"aNormal",3,xe)}else B("aNormal3d",ke,"aNormal");ne.useProgram(ke),B("aTexture3d",ke,"aTexture"),A("uModel3d",ke,"uModel",!1,l.array()),A("uView3d",ke,"uView",!1,e.array()),x("aVertex3d",ke,"aVertex",3,xe),B("aColor3d",ke,"aColor"),ne.enable(ne.POLYGON_OFFSET_FILL),ne.polygonOffset(1,1),y("uColor3d",ke,"uColor",Ke),ne.drawArrays(ne.TRIANGLE_STRIP,0,Oe.length/3),ne.disable(ne.POLYGON_OFFSET_FILL)}0<ol&&Je&&(ne.useProgram(we),A("uModel2d",we,"uModel",!1,l.array()),A("uView2d",we,"uView",!1,e.array()),x("aVertex2d",we,"aVertex",3,xe),B("aTextureCoord2d",we,"aTextureCoord"),y("uColor2d",we,"uColor",el),S("uIsDrawingText",we,"uIsDrawingText",!1),ne.drawArrays(ne.LINE_STRIP,0,Oe.length/3))},ae.modelX=function(e,l,r){var o=He.array(),t=Ge.array(),s=o[0]*e+o[1]*l+o[2]*r+o[3],i=o[4]*e+o[5]*l+o[6]*r+o[7],a=o[8]*e+o[9]*l+o[10]*r+o[11];return l=o[12]*e+o[13]*l+o[14]*r+o[15],e=t[0]*s+t[1]*i+t[2]*a+t[3]*l,t=t[12]*s+t[13]*i+t[14]*a+t[15]*l,0!==t?e/t:e},ae.modelY=function(e,l,r){var o=He.array(),t=Ge.array(),s=o[0]*e+o[1]*l+o[2]*r+o[3],i=o[4]*e+o[5]*l+o[6]*r+o[7],a=o[8]*e+o[9]*l+o[10]*r+o[11];return l=o[12]*e+o[13]*l+o[14]*r+o[15],e=t[4]*s+t[5]*i+t[6]*a+t[7]*l,t=t[12]*s+t[13]*i+t[14]*a+t[15]*l,0!==t?e/t:e},ae.modelZ=function(e,l,r){var o=He.array(),t=Ge.array(),s=o[0]*e+o[1]*l+o[2]*r+o[3],i=o[4]*e+o[5]*l+o[6]*r+o[7],a=o[8]*e+o[9]*l+o[10]*r+o[11];return l=o[12]*e+o[13]*l+o[14]*r+o[15],e=t[8]*s+t[9]*i+t[10]*a+t[11]*l,t=t[12]*s+t[13]*i+t[14]*a+t[15]*l,0!==t?e/t:e},Lr.prototype.ambient=Dr.prototype.a3DOnlyFunction,_r.prototype.ambient=function(e,l,r){ne.useProgram(ke),S("uUsingMat3d",ke,"uUsingMat",!0),e=ae.color(e,l,r),y("uMaterialAmbient3d",ke,"uMaterialAmbient",ae.color.toGLArray(e).slice(0,3))},Lr.prototype.emissive=Dr.prototype.a3DOnlyFunction,_r.prototype.emissive=function(e,l,r){ne.useProgram(ke),S("uUsingMat3d",ke,"uUsingMat",!0),e=ae.color(e,l,r),y("uMaterialEmissive3d",ke,"uMaterialEmissive",ae.color.toGLArray(e).slice(0,3))},Lr.prototype.shininess=Dr.prototype.a3DOnlyFunction,_r.prototype.shininess=function(e){ne.useProgram(ke),S("uUsingMat3d",ke,"uUsingMat",!0),y("uShininess3d",ke,"uShininess",e)},Lr.prototype.specular=Dr.prototype.a3DOnlyFunction,_r.prototype.specular=function(e,l,r){ne.useProgram(ke),S("uUsingMat3d",ke,"uUsingMat",!0),e=ae.color(e,l,r),y("uMaterialSpecular3d",ke,"uMaterialSpecular",ae.color.toGLArray(e).slice(0,3))},ae.screenX=function(e,l,r){var o=He.array();if(16===o.length){var t=o[0]*e+o[1]*l+o[2]*r+o[3],s=o[4]*e+o[5]*l+o[6]*r+o[7],i=o[8]*e+o[9]*l+o[10]*r+o[11];return l=o[12]*e+o[13]*l+o[14]*r+o[15],r=Ue.array(),e=r[0]*t+r[1]*s+r[2]*i+r[3]*l,0!==(t=r[12]*t+r[13]*s+r[14]*i+r[15]*l)&&(e/=t),ae.width*(1+e)/2}return He.multX(e,l)},ae.screenY=function(e,l,r){var o=He.array();if(16===o.length){var t=o[0]*e+o[1]*l+o[2]*r+o[3],s=o[4]*e+o[5]*l+o[6]*r+o[7],i=o[8]*e+o[9]*l+o[10]*r+o[11];return l=o[12]*e+o[13]*l+o[14]*r+o[15],r=Ue.array(),e=r[4]*t+r[5]*s+r[6]*i+r[7]*l,0!==(t=r[12]*t+r[13]*s+r[14]*i+r[15]*l)&&(e/=t),ae.height*(1+e)/2}return He.multY(e,l)},ae.screenZ=function(e,l,r){var o=He.array();if(16!==o.length)return 0;var t=Ue.array(),s=o[0]*e+o[1]*l+o[2]*r+o[3],i=o[4]*e+o[5]*l+o[6]*r+o[7],a=o[8]*e+o[9]*l+o[10]*r+o[11];return l=o[12]*e+o[13]*l+o[14]*r+o[15],e=t[8]*s+t[9]*i+t[10]*a+t[11]*l,0!==(t=t[12]*s+t[13]*i+t[14]*a+t[15]*l)&&(e/=t),(e+1)/2},Dr.prototype.fill=function(){var e=ae.color.apply(this,arguments);e===Ze&&$e||($e=!0,Ze=e)},Lr.prototype.fill=function(){Dr.prototype.fill.apply(this,arguments),Qe=!0},_r.prototype.fill=function(){Dr.prototype.fill.apply(this,arguments),Ke=ae.color.toGLArray(Ze)},ae.noFill=function(){$e=!1},Dr.prototype.stroke=function(){var e=ae.color.apply(this,arguments);e===ll&&Je||(Je=!0,ll=e)},Lr.prototype.stroke=function(){Dr.prototype.stroke.apply(this,arguments),rl=!0},_r.prototype.stroke=function(){Dr.prototype.stroke.apply(this,arguments),el=ae.color.toGLArray(ll)},ae.noStroke=function(){Je=!1},Dr.prototype.strokeWeight=function(e){ol=e},Lr.prototype.strokeWeight=function(e){Dr.prototype.strokeWeight.apply(this,arguments),ne.lineWidth=e},_r.prototype.strokeWeight=function(e){Dr.prototype.strokeWeight.apply(this,arguments),ne.useProgram(we),y("pointSize2d",we,"uPointSize",e),ne.useProgram(Xe),y("pointSizeUnlitShape",Xe,"uPointSize",e),ne.lineWidth(e)},ae.strokeCap=function(e){de.$ensureContext().lineCap=e},ae.strokeJoin=function(e){de.$ensureContext().lineJoin=e},Lr.prototype.smooth=function(){sl=!0;var e=te.style;e.setProperty("image-rendering","optimizeQuality","important"),e.setProperty("-ms-interpolation-mode","bicubic","important"),ne.hasOwnProperty("mozImageSmoothingEnabled")&&(ne.mozImageSmoothingEnabled=!0)},_r.prototype.smooth=function(){sl=!0},Lr.prototype.noSmooth=function(){sl=!1;var e=te.style;e.setProperty("image-rendering","optimizeSpeed","important"),e.setProperty("image-rendering","-moz-crisp-edges","important"),e.setProperty("image-rendering","-webkit-optimize-contrast","important"),e.setProperty("image-rendering","optimize-contrast","important"),e.setProperty("-ms-interpolation-mode","nearest-neighbor","important"),ne.hasOwnProperty("mozImageSmoothingEnabled")&&(ne.mozImageSmoothingEnabled=!1)},_r.prototype.noSmooth=function(){sl=!1},Lr.prototype.point=function(e,l){Je&&(e=Math.round(e),l=Math.round(l),ne.fillStyle=ae.color.toString(ll),Qe=!0,1<ol?(ne.beginPath(),ne.arc(e,l,ol/2,0,u.TWO_PI,!1),ne.fill()):ne.fillRect(e,l,1,1))},_r.prototype.point=function(e,l,r){var o=new Gr;o.translate(e,l,r||0),o.transpose(),(e=new Gr).scale(1,-1,1),e.apply(He.array()),e.transpose(),ne.useProgram(we),A("uModel2d",we,"uModel",!1,o.array()),A("uView2d",we,"uView",!1,e.array()),0<ol&&Je&&(y("uColor2d",we,"uColor",el),S("uIsDrawingText2d",we,"uIsDrawingText",!1),S("uSmooth2d",we,"uSmooth",sl),x("aVertex2d",we,"aVertex",3,Pe),B("aTextureCoord2d",we,"aTextureCoord"),ne.drawArrays(ne.POINTS,0,1))},ae.beginShape=function(e){bl=e,br=[]},Lr.prototype.vertex=function(e,l,r){var o=[];vr&&(vr=!1),o.isVert=!0,o[0]=e,o[1]=l,o[2]=0,o[3]=0,o[4]=0,o[5]=Ze,o[6]=ll,br.push(o),r&&(br[br.length-1].moveTo=r)},_r.prototype.vertex=function(e,r,o,t,s){var i=[];vr&&(vr=!1),i.isVert=!0,s===l&&Fl&&(s=t,t=o,o=0),t!==l&&s!==l&&(_l===u.IMAGE&&(t/=Dl,s/=Ll),t=1<t?1:t,t=0>t?0:t,s=1<s?1:s,s=0>s?0:s),i[0]=e,i[1]=r,i[2]=o||0,i[3]=t||0,i[4]=s||0,i[5]=Ke[0],i[6]=Ke[1],i[7]=Ke[2],i[8]=Ke[3],i[9]=el[0],i[10]=el[1],i[11]=el[2],i[12]=el[3],i[13]=dl,i[14]=ul,i[15]=hl,br.push(i)};var jr=function(e,l){var r=new Gr;r.scale(1,-1,1),r.apply(He.array()),r.transpose(),ne.useProgram(Xe),A("uViewUS",Xe,"uView",!1,r.array()),S("uSmoothUS",Xe,"uSmooth",sl),x("aVertexUS",Xe,"aVertex",3,Pe),ne.bufferData(ne.ARRAY_BUFFER,new m(e),ne.STREAM_DRAW),x("aColorUS",Xe,"aColor",4,Te),ne.bufferData(ne.ARRAY_BUFFER,new m(l),ne.STREAM_DRAW),ne.drawArrays(ne.POINTS,0,e.length/3)},zr=function(e,l,r){l="LINES"===l?ne.LINES:"LINE_LOOP"===l?ne.LINE_LOOP:ne.LINE_STRIP;var o=new Gr;o.scale(1,-1,1),o.apply(He.array()),o.transpose(),ne.useProgram(Xe),A("uViewUS",Xe,"uView",!1,o.array()),x("aVertexUS",Xe,"aVertex",3,Be),ne.bufferData(ne.ARRAY_BUFFER,new m(e),ne.STREAM_DRAW),x("aColorUS",Xe,"aColor",4,Ee),ne.bufferData(ne.ARRAY_BUFFER,new m(r),ne.STREAM_DRAW),ne.drawArrays(l,0,e.length/3)},Vr=function(e,l,r,o){l="TRIANGLES"===l?ne.TRIANGLES:"TRIANGLE_FAN"===l?ne.TRIANGLE_FAN:ne.TRIANGLE_STRIP;var t=new Gr;t.scale(1,-1,1),t.apply(He.array()),t.transpose(),ne.useProgram(ke),A("model3d",ke,"uModel",!1,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),A("view3d",ke,"uView",!1,t.array()),ne.enable(ne.POLYGON_OFFSET_FILL),ne.polygonOffset(1,1),y("color3d",ke,"uColor",[-1,0,0,0]),x("vertex3d",ke,"aVertex",3,qe),ne.bufferData(ne.ARRAY_BUFFER,new m(e),ne.STREAM_DRAW),Fl&&null!==El&&Pl(r),x("aColor3d",ke,"aColor",4,Te),ne.bufferData(ne.ARRAY_BUFFER,new m(r),ne.STREAM_DRAW),B("aNormal3d",ke,"aNormal"),Fl&&(S("uUsingTexture3d",ke,"uUsingTexture",Fl),x("aTexture3d",ke,"aTexture",2,Ce),ne.bufferData(ne.ARRAY_BUFFER,new m(o),ne.STREAM_DRAW)),ne.drawArrays(l,0,e.length/3),ne.disable(ne.POLYGON_OFFSET_FILL)};Lr.prototype.endShape=function(e){if(0!==br.length){(e=e===u.CLOSE)&&br.push(br[0]);var r,o=[],t=[],s=[],i=[];vr=!0;var a,n,c=br.length;for(a=0;a<c;a++)for(r=br[a],n=0;3>n;n++)o.push(r[n]);for(a=0;a<c;a++)for(r=br[a],n=5;9>n;n++)t.push(r[n]);for(a=0;a<c;a++)for(r=br[a],n=9;13>n;n++)s.push(r[n]);for(a=0;a<c;a++)r=br[a],i.push(r[3]),i.push(r[4]);if(!Xr||bl!==u.POLYGON&&bl!==l)if(!Yr||bl!==u.POLYGON&&bl!==l)if(bl===u.POINTS)for(a=0;a<c;a++)r=br[a],Je&&ae.stroke(r[6]),ae.point(r[0],r[1]);else if(bl===u.LINES)for(a=0;a+1<c;a+=2)r=br[a],Je&&ae.stroke(br[a+1][6]),ae.line(r[0],r[1],br[a+1][0],br[a+1][1]);else if(bl===u.TRIANGLES)for(a=0;a+2<c;a+=3)r=br[a],ne.beginPath(),ne.moveTo(r[0],r[1]),ne.lineTo(br[a+1][0],br[a+1][1]),ne.lineTo(br[a+2][0],br[a+2][1]),ne.lineTo(r[0],r[1]),$e&&(ae.fill(br[a+2][5]),L()),Je&&(ae.stroke(br[a+2][6]),_()),ne.closePath();else if(bl===u.TRIANGLE_STRIP)for(a=0;a+1<c;a++)r=br[a],ne.beginPath(),ne.moveTo(br[a+1][0],br[a+1][1]),ne.lineTo(r[0],r[1]),Je&&ae.stroke(br[a+1][6]),$e&&ae.fill(br[a+1][5]),a+2<c&&(ne.lineTo(br[a+2][0],br[a+2][1]),Je&&ae.stroke(br[a+2][6]),$e&&ae.fill(br[a+2][5])),F();else if(bl===u.TRIANGLE_FAN){if(2<c)for(ne.beginPath(),ne.moveTo(br[0][0],br[0][1]),ne.lineTo(br[1][0],br[1][1]),ne.lineTo(br[2][0],br[2][1]),$e&&(ae.fill(br[2][5]),L()),Je&&(ae.stroke(br[2][6]),_()),ne.closePath(),a=3;a<c;a++)r=br[a],ne.beginPath(),ne.moveTo(br[0][0],br[0][1]),ne.lineTo(br[a-1][0],br[a-1][1]),ne.lineTo(r[0],r[1]),$e&&(ae.fill(r[5]),L()),Je&&(ae.stroke(r[6]),_()),ne.closePath()}else if(bl===u.QUADS)for(a=0;a+3<c;a+=4){for(r=br[a],ne.beginPath(),ne.moveTo(r[0],r[1]),n=1;4>n;n++)ne.lineTo(br[a+n][0],br[a+n][1]);ne.lineTo(r[0],r[1]),$e&&(ae.fill(br[a+3][5]),L()),Je&&(ae.stroke(br[a+3][6]),_()),ne.closePath()}else if(bl===u.QUAD_STRIP){if(3<c)for(a=0;a+1<c;a+=2)r=br[a],ne.beginPath(),a+3<c?(ne.moveTo(br[a+2][0],br[a+2][1]),ne.lineTo(r[0],r[1]),ne.lineTo(br[a+1][0],br[a+1][1]),ne.lineTo(br[a+3][0],br[a+3][1]),$e&&ae.fill(br[a+3][5]),Je&&ae.stroke(br[a+3][6])):(ne.moveTo(r[0],r[1]),ne.lineTo(br[a+1][0],br[a+1][1])),F()}else{for(ne.beginPath(),ne.moveTo(br[0][0],br[0][1]),a=1;a<c;a++)(r=br[a]).isVert&&(r.moveTo?ne.moveTo(r[0],r[1]):ne.lineTo(r[0],r[1]));F()}else{for(ne.beginPath(),a=0;a<c;a++)r=br[a],br[a].isVert?br[a].moveTo?ne.moveTo(r[0],r[1]):ne.lineTo(r[0],r[1]):ne.bezierCurveTo(br[a][0],br[a][1],br[a][2],br[a][3],br[a][4],br[a][5]);F()}else if(3<c){for(o=[],t=1-kl,ne.beginPath(),ne.moveTo(br[1][0],br[1][1]),a=1;a+2<c;a++)r=br[a],o[0]=[r[0],r[1]],o[1]=[r[0]+(t*br[a+1][0]-t*br[a-1][0])/6,r[1]+(t*br[a+1][1]-t*br[a-1][1])/6],o[2]=[br[a+1][0]+(t*br[a][0]-t*br[a+2][0])/6,br[a+1][1]+(t*br[a][1]-t*br[a+2][1])/6],o[3]=[br[a+1][0],br[a+1][1]],ne.bezierCurveTo(o[1][0],o[1][1],o[2][0],o[2][1],o[3][0],o[3][1]);F()}Yr=Xr=!1,kr=[],wr=0,e&&br.pop()}},_r.prototype.endShape=function(e){if(0!==br.length){var r=e===u.CLOSE;e=[];var o,t=[],s=[],i=[],a=[];vr=!0;var n,c,d=br.length;for(n=0;n<d;n++)for(o=br[n],c=0;3>c;c++)t.push(o[c]);for(n=0;n<d;n++)for(o=br[n],c=5;9>c;c++)s.push(o[c]);for(n=0;n<d;n++)for(o=br[n],c=9;13>c;c++)i.push(o[c]);for(n=0;n<d;n++)o=br[n],a.push(o[3]),a.push(o[4]);if(r){for(t.push(br[0][0]),t.push(br[0][1]),t.push(br[0][2]),n=5;9>n;n++)s.push(br[0][n]);for(n=9;13>n;n++)i.push(br[0][n]);a.push(br[0][3]),a.push(br[0][4])}if(!Xr||bl!==u.POLYGON&&bl!==l)if(!Yr||bl!==u.POLYGON&&bl!==l){if(bl===u.POINTS){for(n=0;n<d;n++)for(o=br[n],c=0;3>c;c++)e.push(o[c]);jr(e,i)}else if(bl===u.LINES){for(n=0;n<d;n++)for(o=br[n],c=0;3>c;c++)e.push(o[c]);for(n=0;n<d;n++)for(o=br[n],c=5;9>c;c++)s.push(o[c]);zr(e,"LINES",i)}else if(bl===u.TRIANGLES){if(2<d)for(n=0;n+2<d;n+=3){for(t=[],a=[],e=[],s=[],i=[],c=0;3>c;c++)for(r=0;3>r;r++)e.push(br[n+c][r]),t.push(br[n+c][r]);for(c=0;3>c;c++)for(r=3;5>r;r++)a.push(br[n+c][r]);for(c=0;3>c;c++)for(r=5;9>r;r++)s.push(br[n+c][r]),i.push(br[n+c][r+4]);Je&&zr(e,"LINE_LOOP",i),($e||Fl)&&Vr(t,"TRIANGLES",s,a)}}else if(bl===u.TRIANGLE_STRIP){if(2<d)for(n=0;n+2<d;n++){for(e=[],t=[],i=[],s=[],a=[],c=0;3>c;c++)for(r=0;3>r;r++)e.push(br[n+c][r]),t.push(br[n+c][r]);for(c=0;3>c;c++)for(r=3;5>r;r++)a.push(br[n+c][r]);for(c=0;3>c;c++)for(r=5;9>r;r++)i.push(br[n+c][r+4]),s.push(br[n+c][r]);($e||Fl)&&Vr(t,"TRIANGLE_STRIP",s,a),Je&&zr(e,"LINE_LOOP",i)}}else if(bl===u.TRIANGLE_FAN){if(2<d){for(n=0;3>n;n++)for(o=br[n],c=0;3>c;c++)e.push(o[c]);for(n=0;3>n;n++)for(o=br[n],c=9;13>c;c++)i.push(o[c]);for(Je&&zr(e,"LINE_LOOP",i),n=2;n+1<d;n++){for(i=[],(e=[]).push(br[0][0]),e.push(br[0][1]),e.push(br[0][2]),i.push(br[0][9]),i.push(br[0][10]),i.push(br[0][11]),i.push(br[0][12]),c=0;2>c;c++)for(r=0;3>r;r++)e.push(br[n+c][r]);for(c=0;2>c;c++)for(r=9;13>r;r++)i.push(br[n+c][r]);Je&&zr(e,"LINE_STRIP",i)}($e||Fl)&&Vr(t,"TRIANGLE_FAN",s,a)}}else if(bl===u.QUADS)for(n=0;n+3<d;n+=4){for(e=[],c=0;4>c;c++)for(o=br[n+c],r=0;3>r;r++)e.push(o[r]);if(Je&&zr(e,"LINE_LOOP",i),$e){for(t=[],s=[],a=[],c=0;3>c;c++)t.push(br[n][c]);for(c=5;9>c;c++)s.push(br[n][c]);for(c=0;3>c;c++)t.push(br[n+1][c]);for(c=5;9>c;c++)s.push(br[n+1][c]);for(c=0;3>c;c++)t.push(br[n+3][c]);for(c=5;9>c;c++)s.push(br[n+3][c]);for(c=0;3>c;c++)t.push(br[n+2][c]);for(c=5;9>c;c++)s.push(br[n+2][c]);Fl&&(a.push(br[n+0][3]),a.push(br[n+0][4]),a.push(br[n+1][3]),a.push(br[n+1][4]),a.push(br[n+3][3]),a.push(br[n+3][4]),a.push(br[n+2][3]),a.push(br[n+2][4])),Vr(t,"TRIANGLE_STRIP",s,a)}}else if(bl===u.QUAD_STRIP){if(3<d){for(n=0;2>n;n++)for(o=br[n],c=0;3>c;c++)e.push(o[c]);for(n=0;2>n;n++)for(o=br[n],c=9;13>c;c++)i.push(o[c]);for(zr(e,"LINE_STRIP",i),4<d&&0<d%2&&(t.splice(t.length-3),br.pop()),n=0;n+3<d;n+=2){for(e=[],i=[],c=0;3>c;c++)e.push(br[n+1][c]);for(c=0;3>c;c++)e.push(br[n+3][c]);for(c=0;3>c;c++)e.push(br[n+2][c]);for(c=0;3>c;c++)e.push(br[n+0][c]);for(c=9;13>c;c++)i.push(br[n+1][c]);for(c=9;13>c;c++)i.push(br[n+3][c]);for(c=9;13>c;c++)i.push(br[n+2][c]);for(c=9;13>c;c++)i.push(br[n+0][c]);Je&&zr(e,"LINE_STRIP",i)}($e||Fl)&&Vr(t,"TRIANGLE_LIST",s,a)}}else if(1===d){for(c=0;3>c;c++)e.push(br[0][c]);for(c=9;13>c;c++)i.push(br[0][c]);jr(e,i)}else{for(n=0;n<d;n++){for(o=br[n],c=0;3>c;c++)e.push(o[c]);for(c=5;9>c;c++)i.push(o[c])}Je&&r?zr(e,"LINE_LOOP",i):Je&&!r&&zr(e,"LINE_STRIP",i),($e||Fl)&&Vr(t,"TRIANGLE_FAN",s,a)}Fl=!1,ne.useProgram(ke),S("usingTexture3d",ke,"uUsingTexture",Fl)}else(e=t).splice(e.length-3),i.splice(i.length-4),Je&&zr(e,null,i),$e&&Vr(t,"TRIANGLES",s);else Je&&zr(t,null,i),$e&&Vr(t,null,s);Yr=Xr=!1,kr=[],wr=0}};var Wr=function(e,l){var r=1/e,o=r*r,t=o*r;l.set(0,0,0,1,t,o,r,0,6*t,2*o,0,0,6*t,0,0,0)},Ur=function(){fe||(he=new Gr,fe=new Gr,Xl=!0);var e=kl;he.set((e-1)/2,(e+3)/2,(-3-e)/2,(1-e)/2,1-e,(-5-e)/2,e+2,(e-1)/2,(e-1)/2,0,(1-e)/2,0,0,1,0,0),Wr(wl,fe),ge||(pe=new Gr),pe.set(he),pe.preApply(ge),fe.apply(he)};Lr.prototype.bezierVertex=function(){Yr=!0;var e=[];if(vr)throw"vertex() must be used at least once before calling bezierVertex()";for(var l=0;l<arguments.length;l++)e[l]=arguments[l];br.push(e),br[br.length-1].isVert=!1},_r.prototype.bezierVertex=function(){if(Yr=!0,vr)throw"vertex() must be used at least once before calling bezierVertex()";if(9===arguments.length){me===l&&(me=new Gr);t=br.length-1;Wr(vl,me),me.apply(be);for(var e=me.array(),r=br[t][0],o=br[t][1],t=br[t][2],s=e[4]*r+e[5]*arguments[0]+e[6]*arguments[3]+e[7]*arguments[6],i=e[8]*r+e[9]*arguments[0]+e[10]*arguments[3]+e[11]*arguments[6],a=e[12]*r+e[13]*arguments[0]+e[14]*arguments[3]+e[15]*arguments[6],n=e[4]*o+e[5]*arguments[1]+e[6]*arguments[4]+e[7]*arguments[7],c=e[8]*o+e[9]*arguments[1]+e[10]*arguments[4]+e[11]*arguments[7],d=e[12]*o+e[13]*arguments[1]+e[14]*arguments[4]+e[15]*arguments[7],u=e[4]*t+e[5]*arguments[2]+e[6]*arguments[5]+e[7]*arguments[8],h=e[8]*t+e[9]*arguments[2]+e[10]*arguments[5]+e[11]*arguments[8],e=e[12]*t+e[13]*arguments[2]+e[14]*arguments[5]+e[15]*arguments[8],p=0;p<vl;p++)r+=s,s+=i,i+=a,o+=n,n+=c,c+=d,t+=u,u+=h,h+=e,ae.vertex(r,o,t);ae.vertex(arguments[6],arguments[7],arguments[8])}},ae.texture=function(e){var l=de.$ensureContext();if(e.__texture)l.bindTexture(l.TEXTURE_2D,e.__texture);else{if("canvas"===e.localName)l.bindTexture(l.TEXTURE_2D,Me),l.texImage2D(l.TEXTURE_2D,0,l.RGBA,l.RGBA,l.UNSIGNED_BYTE,e),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MAG_FILTER,l.LINEAR),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MIN_FILTER,l.LINEAR),l.generateMipmap(l.TEXTURE_2D);else{var r,o=l.createTexture(),t=c.createElement("canvas"),s=t.getContext("2d");if(e.width&0==e.width-1)t.width=e.width;else{for(r=1;r<e.width;)r*=2;t.width=r}if(e.height&0==e.height-1)t.height=e.height;else{for(r=1;r<e.height;)r*=2;t.height=r}s.drawImage(e.sourceImg,0,0,e.width,e.height,0,0,t.width,t.height),l.bindTexture(l.TEXTURE_2D,o),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MIN_FILTER,l.LINEAR_MIPMAP_LINEAR),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MAG_FILTER,l.LINEAR),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_T,l.CLAMP_TO_EDGE),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_S,l.CLAMP_TO_EDGE),l.texImage2D(l.TEXTURE_2D,0,l.RGBA,l.RGBA,l.UNSIGNED_BYTE,t),l.generateMipmap(l.TEXTURE_2D),e.__texture=o}Dl=e.width,Ll=e.height}Fl=!0,l.useProgram(ke),S("usingTexture3d",ke,"uUsingTexture",Fl)},ae.textureMode=function(e){_l=e},Lr.prototype.curveVertex=function(e,l){Xr=!0,ae.vertex(e,l)},_r.prototype.curveVertex=function(e,l,r){if(Xr=!0,Xl||Ur(),(g=[])[0]=e,g[1]=l,g[2]=r,kr.push(g),3<++wr){var o=kr[wr-4][0],t=kr[wr-4][1],s=kr[wr-4][2],i=kr[wr-3][0],a=kr[wr-3][1],n=kr[wr-3][2],c=kr[wr-2][0],d=kr[wr-2][1],u=kr[wr-2][2],h=kr[wr-1][0],p=kr[wr-1][1],f=kr[wr-1][2];e=i,l=a,r=n;var m=fe.array(),g=m[4]*o+m[5]*i+m[6]*c+m[7]*h,b=m[8]*o+m[9]*i+m[10]*c+m[11]*h,o=m[12]*o+m[13]*i+m[14]*c+m[15]*h,i=m[4]*t+m[5]*a+m[6]*d+m[7]*p,c=m[8]*t+m[9]*a+m[10]*d+m[11]*p,t=m[12]*t+m[13]*a+m[14]*d+m[15]*p,a=m[4]*s+m[5]*n+m[6]*u+m[7]*f,d=m[8]*s+m[9]*n+m[10]*u+m[11]*f,s=m[12]*s+m[13]*n+m[14]*u+m[15]*f;for(ae.vertex(e,l,r),n=0;n<wl;n++)e+=g,g+=b,b+=o,l+=i,i+=c,c+=t,r+=a,a+=d,d+=s,ae.vertex(e,l,r)}},Lr.prototype.curve=function(e,l,r,o,t,s,i,a){ae.beginShape(),ae.curveVertex(e,l),ae.curveVertex(r,o),ae.curveVertex(t,s),ae.curveVertex(i,a),ae.endShape()},_r.prototype.curve=function(e,r,o,t,s,i,a,n,c,d,u,h){h!==l?(ae.beginShape(),ae.curveVertex(e,r,o),ae.curveVertex(t,s,i),ae.curveVertex(a,n,c),ae.curveVertex(d,u,h)):(ae.beginShape(),ae.curveVertex(e,r),ae.curveVertex(o,t),ae.curveVertex(s,i),ae.curveVertex(a,n)),ae.endShape()},ae.curveTightness=function(e){kl=e},ae.curveDetail=function(e){wl=e,Ur()},ae.rectMode=function(e){nl=e},ae.imageMode=function(e){switch(e){case u.CORNER:Mr=Cr;break;case u.CORNERS:Mr=Ir;break;case u.CENTER:Mr=Rr;break;default:throw"Invalid imageMode"}},ae.ellipseMode=function(e){cl=e},ae.arc=function(e,l,r,o,t,s){if(!(0>=r||s<t)){for(cl===u.CORNERS?(r-=e,o-=l):cl===u.RADIUS?(e-=r,l-=o,r*=2,o*=2):cl===u.CENTER&&(e-=r/2,l-=o/2);0>t;)t+=u.TWO_PI,s+=u.TWO_PI;s-t>u.TWO_PI&&(t=0,s=u.TWO_PI),e+=r/=2,l+=o/=2,t=0|.5+2*t*ae.RAD_TO_DEG,s=0|.5+2*s*ae.RAD_TO_DEG;var i,a;if($e){var n=Je;for(Je=!1,ae.beginShape(),ae.vertex(e,l),i=t;i<=s;i++)a=i%u.SINCOS_LENGTH,ae.vertex(e+nr[a]*r,l+ar[a]*o);ae.endShape(u.CLOSE),Je=n}if(Je){for(n=$e,$e=!1,ae.beginShape(),i=t;i<=s;i++)a=i%u.SINCOS_LENGTH,ae.vertex(e+nr[a]*r,l+ar[a]*o);ae.endShape(),$e=n}}},Lr.prototype.line=function(e,r,o,t){if(Je)if(e=Math.round(e),o=Math.round(o),r=Math.round(r),t=Math.round(t),e===o&&r===t)ae.point(e,r);else{for(var s=l,i=l,a=!0,s=He.array(),n=[1,0,0,0,1,0],c=0;6>c&&a;c++)a=s[c]===n[c];a&&(e===o?(r>t&&(s=r,r=t,t=s),t++,1==ol%2&&ne.translate(.5,0)):r===t&&(e>o&&(s=e,e=o,o=s),o++,1==ol%2&&ne.translate(0,.5)),1===ol&&(i=ne.lineCap,ne.lineCap="butt")),ne.beginPath(),ne.moveTo(e||0,r||0),ne.lineTo(o||0,t||0),_(),a&&(e===o&&1==ol%2?ne.translate(-.5,0):r===t&&1==ol%2&&ne.translate(0,-.5),1===ol&&(ne.lineCap=i))}},_r.prototype.line=function(e,r,o,t,s,i){s!==l&&i!==l||(i=0,s=t,t=o,o=0),e===t&&r===s&&o===i?ae.point(e,r,o):(e=[e,r,o,t,s,i],(r=new Gr).scale(1,-1,1),r.apply(He.array()),r.transpose(),0<ol&&Je&&(ne.useProgram(we),A("uModel2d",we,"uModel",!1,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),A("uView2d",we,"uView",!1,r.array()),y("uColor2d",we,"uColor",el),S("uIsDrawingText",we,"uIsDrawingText",!1),x("aVertex2d",we,"aVertex",3,Be),B("aTextureCoord2d",we,"aTextureCoord"),ne.bufferData(ne.ARRAY_BUFFER,new m(e),ne.STREAM_DRAW),ne.drawArrays(ne.LINES,0,2)))},Lr.prototype.bezier=function(){if(8!==arguments.length)throw"You must use 8 parameters for bezier() in 2D mode";ae.beginShape(),ae.vertex(arguments[0],arguments[1]),ae.bezierVertex(arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]),ae.endShape()},_r.prototype.bezier=function(){if(12!==arguments.length)throw"You must use 12 parameters for bezier() in 3D mode";ae.beginShape(),ae.vertex(arguments[0],arguments[1],arguments[2]),ae.bezierVertex(arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]),ae.endShape()},ae.bezierDetail=function(e){vl=e},ae.bezierPoint=function(e,l,r,o,t){return(1-t)*(1-t)*(1-t)*e+3*(1-t)*(1-t)*t*l+3*(1-t)*t*t*r+t*t*t*o},ae.bezierTangent=function(e,l,r,o,t){return 3*t*t*(3*l-e-3*r+o)+6*t*(e-2*l+r)+3*(-e+l)},ae.curvePoint=function(e,l,r,o,t){return.5*(2*l+(-e+r)*t+(2*e-5*l+4*r-o)*t*t+(3*l-e-3*r+o)*t*t*t)},ae.curveTangent=function(e,l,r,o,t){return.5*(-e+r+2*(2*e-5*l+4*r-o)*t+3*(3*l-e-3*r+o)*t*t)},ae.triangle=function(e,l,r,o,t,s){ae.beginShape(u.TRIANGLES),ae.vertex(e,l,0),ae.vertex(r,o,0),ae.vertex(t,s,0),ae.endShape()},ae.quad=function(e,l,r,o,t,s,i,a){ae.beginShape(u.QUADS),ae.vertex(e,l,0),ae.vertex(r,o,0),ae.vertex(t,s,0),ae.vertex(i,a,0),ae.endShape()},Lr.prototype.rect=function(e,r,o,t,s,i,a,n){if(o||t)if(nl===u.CORNERS?(o-=e,t-=r):nl===u.RADIUS?(o*=2,t*=2,e-=o/2,r-=t/2):nl===u.CENTER&&(e-=o/2,r-=t/2),e=Math.round(e),r=Math.round(r),o=Math.round(o),t=Math.round(t),s!==l){n===l&&(n=a=i=s);var c=o/2,d=t/2;(s>c||s>d)&&(s=Math.min(c,d)),(i>c||i>d)&&(i=Math.min(c,d)),(a>c||a>d)&&(a=Math.min(c,d)),(n>c||n>d)&&(n=Math.min(c,d)),$e&&!Je||ne.translate(.5,.5),ne.beginPath(),ne.moveTo(e+s,r),ne.lineTo(e+o-i,r),ne.quadraticCurveTo(e+o,r,e+o,r+i),ne.lineTo(e+o,r+t-a),ne.quadraticCurveTo(e+o,r+t,e+o-a,r+t),ne.lineTo(e+n,r+t),ne.quadraticCurveTo(e,r+t,e,r+t-n),ne.lineTo(e,r+s),ne.quadraticCurveTo(e,r,e+s,r),$e&&!Je||ne.translate(-.5,-.5),L(),_()}else Je&&1==ol%2&&ne.translate(.5,.5),ne.beginPath(),ne.rect(e,r,o,t),L(),_(),Je&&1==ol%2&&ne.translate(-.5,-.5)},_r.prototype.rect=function(e,r,o,t,s,i,a,n){if(s!==l)throw"rect() with rounded corners is not supported in 3D mode";nl===u.CORNERS?(o-=e,t-=r):nl===u.RADIUS?(o*=2,t*=2,e-=o/2,r-=t/2):nl===u.CENTER&&(e-=o/2,r-=t/2),(s=new Gr).translate(e,r,0),s.scale(o,t,1),s.transpose(),(r=new Gr).scale(1,-1,1),r.apply(He.array()),r.transpose(),0<ol&&Je&&(ne.useProgram(we),A("uModel2d",we,"uModel",!1,s.array()),A("uView2d",we,"uView",!1,r.array()),y("uColor2d",we,"uColor",el),S("uIsDrawingText2d",we,"uIsDrawingText",!1),x("aVertex2d",we,"aVertex",3,Se),B("aTextureCoord2d",we,"aTextureCoord"),ne.drawArrays(ne.LINE_LOOP,0,qr.length/3)),$e&&(ne.useProgram(ke),A("uModel3d",ke,"uModel",!1,s.array()),A("uView3d",ke,"uView",!1,r.array()),ne.enable(ne.POLYGON_OFFSET_FILL),ne.polygonOffset(1,1),y("color3d",ke,"uColor",Ke),0<lr?((e=new Gr).set(r),(r=new Gr).set(s),e.mult(r),(r=new Gr).set(e),r.invert(),r.transpose(),A("uNormalTransform3d",ke,"uNormalTransform",!1,r.array()),x("aNormal3d",ke,"aNormal",3,Ae)):B("normal3d",ke,"aNormal"),x("vertex3d",ke,"aVertex",3,Se),ne.drawArrays(ne.TRIANGLE_FAN,0,qr.length/3),ne.disable(ne.POLYGON_OFFSET_FILL))},Lr.prototype.ellipse=function(e,l,r,o){if(e=e||0,l=l||0,!(0>=r&&0>=o))if(cl===u.RADIUS?(r*=2,o*=2):cl===u.CORNERS?(r-=e,o-=l,e+=r/2,l+=o/2):cl===u.CORNER&&(e+=r/2,l+=o/2),r===o)ne.beginPath(),ne.arc(e,l,r/2,0,u.TWO_PI,!1),L(),_();else{var t=.5522847498307933*(r/=2),s=.5522847498307933*(o/=2);ae.beginShape(),ae.vertex(e+r,l),ae.bezierVertex(e+r,l-s,e+t,l-o,e,l-o),ae.bezierVertex(e-t,l-o,e-r,l-s,e-r,l),ae.bezierVertex(e-r,l+s,e-t,l+o,e,l+o),ae.bezierVertex(e+t,l+o,e+r,l+s,e+r,l),ae.endShape()}},_r.prototype.ellipse=function(e,l,r,o){if(e=e||0,l=l||0,!(0>=r&&0>=o)){cl===u.RADIUS?(r*=2,o*=2):cl===u.CORNERS?(r-=e,o-=l,e+=r/2,l+=o/2):cl===u.CORNER&&(e+=r/2,l+=o/2);var t=.5522847498307933*(r/=2),s=.5522847498307933*(o/=2);if(ae.beginShape(),ae.vertex(e+r,l),ae.bezierVertex(e+r,l-s,0,e+t,l-o,0,e,l-o,0),ae.bezierVertex(e-t,l-o,0,e-r,l-s,0,e-r,l,0),ae.bezierVertex(e-r,l+s,0,e-t,l+o,0,e,l+o,0),ae.bezierVertex(e+t,l+o,0,e+r,l+s,0,e+r,l,0),ae.endShape(),$e){for(t=o=r=0;t<br.length;t++)r+=br[t][0],o+=br[t][1];for(r/=br.length,o/=br.length,e=[],l=[],(t=[])[0]=r,t[1]=o,t[2]=0,t[3]=0,t[4]=0,t[5]=Ke[0],t[6]=Ke[1],t[7]=Ke[2],t[8]=Ke[3],t[9]=el[0],t[10]=el[1],t[11]=el[2],t[12]=el[3],t[13]=dl,t[14]=ul,t[15]=hl,br.unshift(t),t=0;t<br.length;t++){for(r=0;3>r;r++)e.push(br[t][r]);for(r=5;9>r;r++)l.push(br[t][r])}Vr(e,"TRIANGLE_FAN",l)}}},ae.normal=function(e,l,r){if(3!==arguments.length||"number"!=typeof e||"number"!=typeof l||"number"!=typeof r)throw"normal() requires three numeric arguments.";dl=e,ul=l,hl=r,0!==bl&&(pl===u.NORMAL_MODE_AUTO?pl=u.NORMAL_MODE_SHAPE:pl===u.NORMAL_MODE_SHAPE&&(pl=u.NORMAL_MODE_VERTEX))},ae.save=function(e,r){return r!==l?n.open(r.toDataURL(),"_blank"):n.open(ae.externals.canvas.toDataURL(),"_blank")};var $r=0;ae.saveFrame=function(e){e===l&&(e="screen-####.png"),e=e.replace(/#+/,function(e){for(var l=""+$r++;l.length<e.length;)l="0"+l;return l}),ae.save(e)};var Kr=c.createElement("canvas").getContext("2d"),Zr=[l,l,l],Qr=function(e,l,r){if(this.__isDirty=!1,e instanceof p)this.fromHTMLImageData(e);else if(l||r){if(this.width=e||1,this.height=l||1,e=this.sourceImg=c.createElement("canvas"),e.width=this.width,e.height=this.height,this.imageData=e.getContext("2d").createImageData(this.width,this.height),this.format=r===u.ARGB||r===u.ALPHA?r:u.RGB,this.format===u.RGB)for(r=3,e=this.imageData.data,l=e.length;r<l;r+=4)e[r]=255;this.__isDirty=!0,this.updatePixels()}else this.height=this.width=0,this.imageData=Kr.createImageData(1,1),this.format=u.ARGB;this.pixels=N(this)};Qr.prototype={__isPImage:!0,updatePixels:function(){var e=this.sourceImg;e&&e instanceof h&&this.__isDirty&&e.getContext("2d").putImageData(this.imageData,0,0),this.__isDirty=!1},fromHTMLImageData:function(e){var l=O(e);try{var r=l.context.getImageData(0,0,e.width,e.height);this.fromImageData(r)}catch(l){e.width&&e.height&&(this.isRemote=!0,this.width=e.width,this.height=e.height)}this.sourceImg=e},get:function(e,l,r,o){return arguments.length?2===arguments.length?ae.get(e,l,this):4===arguments.length?ae.get(e,l,r,o,this):void 0:ae.get(this)},set:function(e,l,r){ae.set(e,l,r,this),this.__isDirty=!0},blend:function(e,l,r,o,t,s,i,a,n,c){9===arguments.length?ae.blend(this,e,l,r,o,t,s,i,a,n,this):10===arguments.length&&ae.blend(e,l,r,o,t,s,i,a,n,c,this),delete this.sourceImg},copy:function(e,l,r,o,t,s,i,a,n){8===arguments.length?ae.blend(this,e,l,r,o,t,s,i,a,u.REPLACE,this):9===arguments.length&&ae.blend(e,l,r,o,t,s,i,a,n,u.REPLACE,this),delete this.sourceImg},filter:function(e,l){2===arguments.length?ae.filter(e,l,this):1===arguments.length&&ae.filter(e,null,this),delete this.sourceImg},save:function(e){ae.save(e,this)},resize:function(e,l){if(this.isRemote)throw"Image is loaded remotely. Cannot resize.";if(0!==this.width||0!==this.height){0===e&&0!==l?e=Math.floor(this.width/this.height*l):0===l&&0!==e&&(l=Math.floor(this.height/this.width*e));var r=O(r=O(this.imageData).canvas,e,l).context.getImageData(0,0,e,l);this.fromImageData(r)}},mask:function(e){var l,r,o=this.toImageData();if(e instanceof Qr||e.__isPImage){if(e.width!==this.width||e.height!==this.height)throw"mask must have the same dimensions as PImage.";for(e=e.toImageData(),l=2,r=4*this.width*this.height;l<r;l+=4)o.data[l+1]=e.data[l]}else if(e instanceof Array){if(this.width*this.height!==e.length)throw"mask array must be the same length as PImage pixels array.";for(l=0,r=e.length;l<r;++l)o.data[4*l+3]=e[l]}this.fromImageData(o)},loadPixels:d,toImageData:function(){return this.isRemote?this.sourceImg:this.__isDirty?O(this.sourceImg).context.getImageData(0,0,this.width,this.height):this.imageData},toDataURL:function(){if(this.isRemote)throw"Image is loaded remotely. Cannot create dataURI.";return O(this.imageData).canvas.toDataURL()},fromImageData:function(e){var l=e.width,r=e.height,o=c.createElement("canvas"),t=o.getContext("2d");this.width=o.width=l,this.height=o.height=r,t.putImageData(e,0,0),this.format=u.ARGB,this.imageData=e,this.sourceImg=o}},ae.PImage=Qr,ae.createImage=function(e,l,r){return new Qr(e,l,r)},ae.loadImage=function(e,l,r){if(ce.imageCache.images[e])return l=new Qr(ce.imageCache.images[e]),l.loaded=!0,l;l=new Qr;var o=c.createElement("img");return l.sourceImg=o,o.onload=function(e,l,r){return function(){l.fromHTMLImageData(e),l.loaded=!0,r&&r()}}(o,l,r),o.src=e,l},ae.requestImage=ae.loadImage,ae.get=function(e,l,r,o,t){if(void 0!==t)return H(e,l,r,o,t);if(void 0!==o)return G(e,l,r,o);if(void 0!==r){if(r.isRemote)throw"Image is loaded remotely. Cannot get x,y.";return e=4*l*r.width+4*e,(r=r.imageData.data)[e+3]<<24&u.ALPHA_MASK|r[e]<<16&u.RED_MASK|r[e+1]<<8&u.GREEN_MASK|r[e+2]&u.BLUE_MASK}return void 0!==l?(e>=ae.width||0>e||0>l||l>=ae.height?r=0:Kl?(e=4*((0|e)+ae.width*(0|l)),r=ae.imageData.data,r=r[e+3]<<24&u.ALPHA_MASK|r[e]<<16&u.RED_MASK|r[e+1]<<8&u.GREEN_MASK|r[e+2]&u.BLUE_MASK):(r=ae.toImageData(0|e,0|l,1,1).data,r=r[3]<<24&u.ALPHA_MASK|r[0]<<16&u.RED_MASK|r[1]<<8&u.GREEN_MASK|r[2]&u.BLUE_MASK),r):void 0!==e?H(0,0,e.width,e.height,e):G(0,0,ae.width,ae.height)},ae.createGraphics=function(e,l,r){var o=new Y;return o.size(e,l,r),o.background(0,0),o},ae.set=function(e,l,r,o){if(3===arguments.length)"number"==typeof r?e<ae.width&&0<=e&&0<=l&&l<ae.height&&(Kl||(ae.loadPixels(),null===$l&&(_e=ne,$l=new z),Kl=!0,ne=$l,Fe=0),ae.pixels.setPixel((0|e)+ae.width*(0|l),r),++Fe>Zl&&j()):(r instanceof Qr||r.__isPImage)&&ae.image(r,e,l);else if(4===arguments.length){if(o.isRemote)throw"Image is loaded remotely. Cannot set x,y.";var t=ae.color.toArray(r),s=4*l*o.width+4*e,i=o.imageData.data;i[s]=t[0],i[s+1]=t[1],i[s+2]=t[2],i[s+3]=t[3]}},ae.imageData={},ae.pixels={getLength:function(){return ae.imageData.data.length?ae.imageData.data.length/4:0},getPixel:function(e){e*=4;var l=ae.imageData.data;return l[e+3]<<24&4278190080|l[e+0]<<16&16711680|l[e+1]<<8&65280|255&l[e+2]},setPixel:function(e,l){var r=4*e,o=ae.imageData.data;o[r+0]=(16711680&l)>>>16,o[r+1]=(65280&l)>>>8,o[r+2]=255&l,o[r+3]=(4278190080&l)>>>24},toArray:function(){for(var e=[],l=ae.imageData.width*ae.imageData.height,r=ae.imageData.data,o=0,t=0;o<l;o++,t+=4)e.push(r[t+3]<<24&4278190080|r[t+0]<<16&16711680|r[t+1]<<8&65280|255&r[t+2]);return e},set:function(e){for(var l=0,r=e.length;l<r;l++)this.setPixel(l,e[l])}},ae.loadPixels=function(){ae.imageData=de.$ensureContext().getImageData(0,0,ae.width,ae.height)},ae.updatePixels=function(){ae.imageData&&de.$ensureContext().putImageData(ae.imageData,0,0)},ae.hint=function(e){var l=de.$ensureContext();e===u.DISABLE_DEPTH_TEST?(l.disable(l.DEPTH_TEST),l.depthMask(!1),l.clear(l.DEPTH_BUFFER_BIT)):e===u.ENABLE_DEPTH_TEST?(l.enable(l.DEPTH_TEST),l.depthMask(!0)):e===u.ENABLE_OPENGL_2X_SMOOTH||e===u.ENABLE_OPENGL_4X_SMOOTH?sl=!0:e===u.DISABLE_OPENGL_2X_SMOOTH&&(sl=!1)};var Jr=function(e,l,r,o){if(e instanceof Qr||e.__isPImage){if(!e.loaded)throw"Error using image in background(): PImage not loaded.";if(e.width!==ae.width||e.height!==ae.height)throw"Background image must be the same dimensions as the canvas."}else e=ae.color(e,l,r,o);Yl=e};Lr.prototype.background=function(e,r,o,t){e!==l&&Jr(e,r,o,t),Yl instanceof Qr||Yl.__isPImage?(ne.save(),ne.setTransform(1,0,0,1,0,0),ae.image(Yl,0,0)):(ne.save(),ne.setTransform(1,0,0,1,0,0),ae.alpha(Yl)!==yl&&ne.clearRect(0,0,ae.width,ae.height),ne.fillStyle=ae.color.toString(Yl),ne.fillRect(0,0,ae.width,ae.height),Qe=!0),P()},_r.prototype.background=function(e,l,r,o){0<arguments.length&&Jr(e,l,r,o);var t=ae.color.toGLArray(Yl);ne.clearColor(t[0],t[1],t[2],t[3]),ne.clear(ne.COLOR_BUFFER_BIT|ne.DEPTH_BUFFER_BIT)},Lr.prototype.image=function(e,l,r,o,t){if(l=Math.round(l),r=Math.round(r),0<e.width){var s=Mr(l||0,r||0,o||e.width,t||e.height,4>arguments.length);if(e.sourceImg&&null===El){var i=e.sourceImg;e.__isDirty&&e.updatePixels(),ne.drawImage(i,0,0,i.width,i.height,s.x,s.y,s.w,s.h)}else i=e.toImageData(),null!==El&&(El(i),e.__isDirty=!0),ne.drawImage(O(i).canvas,0,0,e.width,e.height,s.x,s.y,s.w,s.h)}},_r.prototype.image=function(e,l,r,o,t){0<e.width&&(l=Math.round(l),r=Math.round(r),o=o||e.width,t=t||e.height,ae.beginShape(ae.QUADS),ae.texture(e),ae.vertex(l,r,0,0,0),ae.vertex(l,r+t,0,0,t),ae.vertex(l+o,r+t,0,o,t),ae.vertex(l+o,r,0,o,0),ae.endShape())},ae.tint=function(e,l,r,o){e=ae.color(e,l,r,o);var t=ae.red(e)/Sl,s=ae.green(e)/Al,i=ae.blue(e)/xl,a=ae.alpha(e)/yl;El=function(e){var l=e.data;e=4*e.width*e.height;for(var r=0;r<e;)l[r++]*=t,l[r++]*=s,l[r++]*=i,l[r++]*=a},Pl=function(e){for(var l=0;l<e.length;)e[l++]=t,e[l++]=s,e[l++]=i,e[l++]=a}},ae.noTint=function(){Pl=El=null},ae.copy=function(e,r,o,t,s,i,a,n,c){c===l&&(c=n,n=a,a=i,i=s,s=t,t=o,o=r,r=e,e=ae),ae.blend(e,r,o,t,s,i,a,n,c,u.REPLACE)},ae.blend=function(e,r,o,t,s,i,a,n,c,d,u){if(e.isRemote)throw"Image is loaded remotely. Cannot blend image.";d===l&&(d=c,c=n,n=a,a=i,i=s,s=t,t=o,o=r,r=e,e=ae),t=r+t,s=o+s,n=i+n,c=a+c;var h=u||ae;u!==l&&d!==l||ae.loadPixels(),e.loadPixels(),e===ae&&ae.intersect(r,o,t,s,i,a,n,c)?ae.blit_resize(ae.get(r,o,t-r,s-o),0,0,t-r-1,s-o-1,h.imageData.data,h.width,h.height,i,a,n,c,d):ae.blit_resize(e,r,o,t,s,h.imageData.data,h.width,h.height,i,a,n,c,d),u===l&&ae.updatePixels()};var eo=function(e,l){var r,o,t,s,i,a,n,c,d,u,h,p,f=0,m=l.pixels.getLength(),b=new g(m);if(e)for(;f<m;)for(r=f,o=f+l.width;f<o;)t=s=l.pixels.getPixel(f),a=f-1,i=f+1,n=f-l.width,c=f+l.width,a<r&&(a=f),i>=o&&(i=f),0>n&&(n=0),c>=m&&(c=f),n=l.pixels.getPixel(n),a=l.pixels.getPixel(a),c=l.pixels.getPixel(c),i=l.pixels.getPixel(i),t=77*(t>>16&255)+151*(t>>8&255)+28*(255&t),u=77*(a>>16&255)+151*(a>>8&255)+28*(255&a),d=77*(i>>16&255)+151*(i>>8&255)+28*(255&i),h=77*(n>>16&255)+151*(n>>8&255)+28*(255&n),p=77*(c>>16&255)+151*(c>>8&255)+28*(255&c),u<t&&(s=a,t=u),d<t&&(s=i,t=d),h<t&&(s=n,t=h),p<t&&(s=c),b[f++]=s;else for(;f<m;)for(r=f,o=f+l.width;f<o;)t=s=l.pixels.getPixel(f),a=f-1,i=f+1,n=f-l.width,c=f+l.width,a<r&&(a=f),i>=o&&(i=f),0>n&&(n=0),c>=m&&(c=f),n=l.pixels.getPixel(n),a=l.pixels.getPixel(a),c=l.pixels.getPixel(c),i=l.pixels.getPixel(i),t=77*(t>>16&255)+151*(t>>8&255)+28*(255&t),u=77*(a>>16&255)+151*(a>>8&255)+28*(255&a),d=77*(i>>16&255)+151*(i>>8&255)+28*(255&i),h=77*(n>>16&255)+151*(n>>8&255)+28*(255&n),p=77*(c>>16&255)+151*(c>>8&255)+28*(255&c),u>t&&(s=a,t=u),d>t&&(s=i,t=d),h>t&&(s=n,t=h),p>t&&(s=c),b[f++]=s;l.pixels.set(b)};ae.filter=function(e,r,o){var t,s,i,a;if(3===arguments.length?(o.loadPixels(),t=o):(ae.loadPixels(),t=ae),r===l&&(r=null),t.isRemote)throw"Image is loaded remotely. Cannot filter image.";var n=t.pixels.getLength();switch(e){case u.BLUR:var c,d,h,p,f,g,b,k,w,X=r||1,Y=t;i=Y.pixels.getLength(),a=new m(i),n=new m(i),s=new m(i),i=new m(i);var v,y,S,A,x=0,X=1>(X=ae.floor(3.5*X))?1:248>X?X:248;if(ae.shared.blurRadius!==X){ae.shared.blurRadius=X,ae.shared.blurKernelSize=1+(ae.shared.blurRadius<<1),ae.shared.blurKernel=new m(ae.shared.blurKernelSize);var B=ae.shared.blurKernel,q=ae.shared.blurKernelSize;for(A=0;A<q;A++)B[A]=0;for(q=(X-1)*(X-1),A=1;A<X;A++)B[X+A]=B[void 0]=q;B[X]=X*X}X=Y.height,A=Y.width,B=ae.shared.blurKernelSize,k=ae.shared.blurRadius;var q=ae.shared.blurKernel,T=Y.imageData.data;for(y=0;y<X;y++){for(v=0;v<A;v++){if(h=d=c=p=Y=0,0>(g=v-k))f=-g,g=0;else{if(g>=A)break;f=0}for(S=f;S<B&&!(g>=A);S++)b=4*(g+x),f=q[S],p+=f*T[b+3],c+=f*T[b],d+=f*T[b+1],h+=f*T[b+2],Y+=f,g++;i[b=x+v]=p/Y,a[b]=c/Y,n[b]=d/Y,s[b]=h/Y}x+=A}for(x=0,w=(k=-k)*A,y=0;y<X;y++){for(v=0;v<A;v++){if(h=d=c=p=Y=0,0>k)f=b=-k,g=v;else{if(k>=X)break;f=0,b=k,g=v+w}for(S=f;S<B&&!(b>=X);S++)f=q[S],p+=f*i[g],c+=f*a[g],d+=f*n[g],h+=f*s[g],Y+=f,b++,g+=A;T[b=4*(v+x)]=c/Y,T[b+1]=d/Y,T[b+2]=h/Y,T[b+3]=p/Y}x+=A,w+=A,k++}break;case u.GRAY:if(t.format===u.ALPHA){for(a=0;a<n;a++)s=255-t.pixels.getPixel(a),t.pixels.setPixel(a,4278190080|s<<16|s<<8|s);t.format=u.RGB}else for(a=0;a<n;a++)s=t.pixels.getPixel(a),i=77*(s>>16&255)+151*(s>>8&255)+28*(255&s)>>8,t.pixels.setPixel(a,s&u.ALPHA_MASK|i<<16|i<<8|i);break;case u.INVERT:for(a=0;a<n;a++)t.pixels.setPixel(a,16777215^t.pixels.getPixel(a));break;case u.POSTERIZE:if(null===r)throw"Use filter(POSTERIZE, int levels) instead of filter(POSTERIZE)";if(2>(s=ae.floor(r))||255<s)throw"Levels must be between 2 and 255 for filter(POSTERIZE, levels)";for(i=s-1,a=0;a<n;a++)x=t.pixels.getPixel(a)>>16&255,X=t.pixels.getPixel(a)>>8&255,A=255&t.pixels.getPixel(a),x=255*(x*s>>8)/i,X=255*(X*s>>8)/i,A=255*(A*s>>8)/i,t.pixels.setPixel(a,4278190080&t.pixels.getPixel(a)|x<<16|X<<8|A);break;case u.OPAQUE:for(a=0;a<n;a++)t.pixels.setPixel(a,4278190080|t.pixels.getPixel(a));t.format=u.RGB;break;case u.THRESHOLD:if(null===r&&(r=.5),0>r||1<r)throw"Level must be between 0 and 1 for filter(THRESHOLD, level)";for(s=ae.floor(255*r),a=0;a<n;a++)i=ae.max((t.pixels.getPixel(a)&u.RED_MASK)>>16,ae.max((t.pixels.getPixel(a)&u.GREEN_MASK)>>8,t.pixels.getPixel(a)&u.BLUE_MASK)),t.pixels.setPixel(a,t.pixels.getPixel(a)&u.ALPHA_MASK|(i<s?0:16777215));break;case u.ERODE:eo(!0,t);break;case u.DILATE:eo(!1,t)}t.updatePixels()},ae.shared={fracU:0,ifU:0,fracV:0,ifV:0,u1:0,u2:0,v1:0,v2:0,sX:0,sY:0,iw:0,iw1:0,ih1:0,ul:0,ll:0,ur:0,lr:0,cUL:0,cLL:0,cUR:0,cLR:0,srcXOffset:0,srcYOffset:0,r:0,g:0,b:0,a:0,srcBuffer:null,blurRadius:0,blurKernelSize:0,blurKernel:null},ae.intersect=function(e,l,r,o,t,s,i,a){return r=r-e+1,o=o-l+1,i=i-t+1,a=a-s+1,t<e?(i+=t-e)>r&&(i=r):(e=r+e-t,i>e&&(i=e)),s<l?(a+=s-l)>o&&(a=o):(l=o+l-s,a>l&&(a=l)),!(0>=i||0>=a)};var lo={};if(lo[u.BLEND]=ae.modes.blend,lo[u.ADD]=ae.modes.add,lo[u.SUBTRACT]=ae.modes.subtract,lo[u.LIGHTEST]=ae.modes.lightest,lo[u.DARKEST]=ae.modes.darkest,lo[u.REPLACE]=ae.modes.replace,lo[u.DIFFERENCE]=ae.modes.difference,lo[u.EXCLUSION]=ae.modes.exclusion,lo[u.MULTIPLY]=ae.modes.multiply,lo[u.SCREEN]=ae.modes.screen,lo[u.OVERLAY]=ae.modes.overlay,lo[u.HARD_LIGHT]=ae.modes.hard_light,lo[u.SOFT_LIGHT]=ae.modes.soft_light,lo[u.DODGE]=ae.modes.dodge,lo[u.BURN]=ae.modes.burn,ae.blit_resize=function(e,l,r,o,t,s,i,a,n,c,d,h,p){if(0>l&&(l=0),0>r&&(r=0),o>=e.width&&(o=e.width-1),t>=e.height&&(t=e.height-1),o-=l,t-=r,d-=n,h-=c,!(0>=d||0>=h||0>=o||0>=t||n>=i||c>=a||l>=e.width||r>=e.height)){o=Math.floor(o/d*u.PRECISIONF),t=Math.floor(t/h*u.PRECISIONF);var f=ae.shared;f.srcXOffset=Math.floor(0>n?-n*o:l*u.PRECISIONF),f.srcYOffset=Math.floor(0>c?-c*t:r*u.PRECISIONF),0>n&&(d+=n,n=0),0>c&&(h+=c,c=0),d=Math.min(d,i-n),h=Math.min(h,a-c),l=c*i+n;var m;f.srcBuffer=e.imageData.data,f.iw=e.width,f.iw1=e.width-1,f.ih1=e.height-1,r=lo[p];var g,b,k,w;n=u.ALPHA_MASK,c=u.RED_MASK;var X=u.GREEN_MASK,Y=u.BLUE_MASK,v=u.PREC_MAXVAL,y=u.PRECISIONB,S=u.PREC_RED_SHIFT,A=u.PREC_ALPHA_SHIFT,x=f.srcBuffer,B=Math.min;for(p=0;p<h;p++){for(f.sX=f.srcXOffset,f.fracV=f.srcYOffset&v,f.ifV=v-f.fracV,f.v1=(f.srcYOffset>>y)*f.iw,f.v2=B(1+(f.srcYOffset>>y),f.ih1)*f.iw,e=0;e<d;e++)a=4*(l+e),m=s[a+3]<<24&n|s[a]<<16&c|s[a+1]<<8&X|s[a+2]&Y,f.fracU=f.sX&v,f.ifU=v-f.fracU,f.ul=f.ifU*f.ifV>>y,f.ll=f.ifU*f.fracV>>y,f.ur=f.fracU*f.ifV>>y,f.lr=f.fracU*f.fracV>>y,f.u1=f.sX>>y,f.u2=B(f.u1+1,f.iw1),g=4*(f.v1+f.u1),b=4*(f.v1+f.u2),k=4*(f.v2+f.u1),w=4*(f.v2+f.u2),f.cUL=x[g+3]<<24&n|x[g]<<16&c|x[g+1]<<8&X|x[g+2]&Y,f.cUR=x[b+3]<<24&n|x[b]<<16&c|x[b+1]<<8&X|x[b+2]&Y,f.cLL=x[k+3]<<24&n|x[k]<<16&c|x[k+1]<<8&X|x[k+2]&Y,f.cLR=x[w+3]<<24&n|x[w]<<16&c|x[w+1]<<8&X|x[w+2]&Y,f.r=f.ul*((f.cUL&c)>>16)+f.ll*((f.cLL&c)>>16)+f.ur*((f.cUR&c)>>16)+f.lr*((f.cLR&c)>>16)<<S&c,f.g=f.ul*(f.cUL&X)+f.ll*(f.cLL&X)+f.ur*(f.cUR&X)+f.lr*(f.cLR&X)>>>y&X,f.b=f.ul*(f.cUL&Y)+f.ll*(f.cLL&Y)+f.ur*(f.cUR&Y)+f.lr*(f.cLR&Y)>>>y,f.a=f.ul*((f.cUL&n)>>>24)+f.ll*((f.cLL&n)>>>24)+f.ur*((f.cUR&n)>>>24)+f.lr*((f.cLR&n)>>>24)<<A&n,m=r(m,f.a|f.r|f.g|f.b),s[a]=(m&c)>>>16,s[a+1]=(m&X)>>>8,s[a+2]=m&Y,s[a+3]=(m&n)>>>24,f.sX+=o;l+=i,f.srcYOffset+=t}}},ae.loadFont=function(e,r){if(e===l)throw"font name required in loadFont.";if(-1===e.indexOf(".svg"))return r===l&&(r=Ul.size),PFont.get(e,r);var o=ae.loadGlyphs(e);return{name:e,css:"12px sans-serif",glyph:!0,units_per_em:o.units_per_em,horiz_adv_x:1/o.units_per_em*o.horiz_adv_x,ascent:o.ascent,descent:o.descent,width:function(l){for(var r=0,o=l.length,t=0;t<o;t++)try{r+=parseFloat(ae.glyphLook(ae.glyphTable[e],l[t]).horiz_adv_x)}catch(e){Y.debug(e)}return r/ae.glyphTable[e].units_per_em}}},ae.createFont=function(e,l){return ae.loadFont(e,l)},ae.textFont=function(e,r){r!==l&&(e.glyph||(e=PFont.get(e.name,r)),jl=r),Hl=(Ul=e).name,zl=Ul.ascent,Vl=Ul.descent,Wl=Ul.leading,de.$ensureContext().font=Ul.css},ae.textSize=function(e){Ul=PFont.get(Hl,e),jl=e,zl=Ul.ascent,Vl=Ul.descent,Wl=Ul.leading,de.$ensureContext().font=Ul.css},ae.textAscent=function(){return zl},ae.textDescent=function(){return Vl},ae.textLeading=function(e){Wl=e},ae.textAlign=function(e,l){Ol=e,Nl=l||u.BASELINE},Lr.prototype.textWidth=function(e){var l,r=0,o=(e=V(e).split(/\r?\n/g)).length;for(ne.font=Ul.css,l=0;l<o;++l)r=Math.max(r,Ul.measureTextWidth(e[l]));return 0|r},_r.prototype.textWidth=function(e){var r,o=0,t=(e=V(e).split(/\r?\n/g)).length;ue===l&&(ue=c.createElement("canvas"));var s=ue.getContext("2d");for(s.font=Ul.css,r=0;r<t;++r)o=Math.max(o,s.measureText(e[r]).width);return 0|o},ae.glyphLook=function(e,l){try{switch(l){case"1":return e.one;case"2":return e.two;case"3":return e.three;case"4":return e.four;case"5":return e.five;case"6":return e.six;case"7":return e.seven;case"8":return e.eight;case"9":return e.nine;case"0":return e.zero;case" ":return e.space;case"$":return e.dollar;case"!":return e.exclam;case'"':return e.quotedbl;case"#":return e.numbersign;case"%":return e.percent;case"&":return e.ampersand;case"'":return e.quotesingle;case"(":return e.parenleft;case")":return e.parenright;case"*":return e.asterisk;case"+":return e.plus;case",":return e.comma;case"-":return e.hyphen;case".":return e.period;case"/":return e.slash;case"_":return e.underscore;case":":return e.colon;case";":return e.semicolon;case"<":return e.less;case"=":return e.equal;case">":return e.greater;case"?":return e.question;case"@":return e.at;case"[":return e.bracketleft;case"\\":return e.backslash;case"]":return e.bracketright;case"^":return e.asciicircum;case"`":return e.grave;case"{":return e.braceleft;case"|":return e.bar;case"}":return e.braceright;case"~":return e.asciitilde;default:return e[l]}}catch(e){Y.debug(e)}},Lr.prototype.text$line=function(e,l,r,o,t){if(o=o=0,Ul.glyph){for(o=ae.glyphTable[Hl],ne.save(),ne.translate(l,r+jl),t!==u.RIGHT&&t!==u.CENTER||o.width(e),l=1/o.units_per_em*jl,ne.scale(l,l),l=0,r=e.length;l<r;l++)try{ae.glyphLook(o,e[l]).draw()}catch(e){Y.debug(e)}P()}else e&&"fillText"in ne&&(Qe&&(ne.fillStyle=ae.color.toString(Ze),Qe=!1),t!==u.RIGHT&&t!==u.CENTER||(o=Ul.measureTextWidth(e),o=t===u.RIGHT?-o:-o/2),ne.fillText(e,l+o,r))},_r.prototype.text$line=function(e,r,o,t,s){ue===l&&(ue=c.createElement("canvas"));var i=ne;(ne=ue.getContext("2d")).font=Ul.css;var a=Ul.measureTextWidth(e);ue.width=a,ue.height=jl,(ne=ue.getContext("2d")).font=Ul.css,ne.textBaseline="top",Lr.prototype.text$line(e,0,0,0,u.LEFT),e=ue.width/ue.height,(ne=i).bindTexture(ne.TEXTURE_2D,Ie),ne.texImage2D(ne.TEXTURE_2D,0,ne.RGBA,ne.RGBA,ne.UNSIGNED_BYTE,ue),ne.texParameteri(ne.TEXTURE_2D,ne.TEXTURE_MAG_FILTER,ne.LINEAR),ne.texParameteri(ne.TEXTURE_2D,ne.TEXTURE_MIN_FILTER,ne.LINEAR),ne.texParameteri(ne.TEXTURE_2D,ne.TEXTURE_WRAP_T,ne.CLAMP_TO_EDGE),ne.texParameteri(ne.TEXTURE_2D,ne.TEXTURE_WRAP_S,ne.CLAMP_TO_EDGE),i=0,s===u.RIGHT?i=-a:s===u.CENTER&&(i=-a/2),s=new Gr,a=.5*jl,s.translate(r+i-a/2,o-a,t),s.scale(-e*a,-a,a),s.translate(-1,-1,-1),s.transpose(),(r=new Gr).scale(1,-1,1),r.apply(He.array()),r.transpose(),ne.useProgram(we),x("aVertex2d",we,"aVertex",3,Re),x("aTextureCoord2d",we,"aTextureCoord",2,De),S("uSampler2d",we,"uSampler",[0]),S("uIsDrawingText2d",we,"uIsDrawingText",!0),A("uModel2d",we,"uModel",!1,s.array()),A("uView2d",we,"uView",!1,r.array()),y("uColor2d",we,"uColor",Ke),ne.bindBuffer(ne.ELEMENT_ARRAY_BUFFER,Le),ne.drawElements(ne.TRIANGLES,6,ne.UNSIGNED_SHORT,0)},ae.text=function(){Gl!==u.SHAPE&&(3===arguments.length?W(V(arguments[0]),arguments[1],arguments[2],0):4===arguments.length?W(V(arguments[0]),arguments[1],arguments[2],arguments[3]):5===arguments.length?U(V(arguments[0]),arguments[1],arguments[2],arguments[3],arguments[4],0):6===arguments.length&&U(V(arguments[0]),arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]))},ae.textMode=function(e){Gl=e},ae.loadGlyphs=function(e){var r,o,t,s,i,a,d,u,h,p,f,m,g=function(e,l){var r,o=0,t=[],s=RegExp(e,"g");for(r=t[o]=s.exec(l);r;)o++,r=t[o]=s.exec(l);return t},b=function(e){var l=g("[A-Za-z][0-9\\- ]+|Z",e);m="return {draw:function(){var curContext=beforePathDraw();curContext.beginPath();",u=e=a=i=s=t=o=r=0,h="",p=l.length-1;for(var n=0;n<p;n++){var c=l[n][0];switch(e=g("[0-9\\-]+",c),c[0]){case"M":r=parseFloat(e[0][0]),o=parseFloat(e[1][0]),m+="curContext.moveTo("+r+","+-o+");";break;case"L":r=parseFloat(e[0][0]),o=parseFloat(e[1][0]),m+="curContext.lineTo("+r+","+-o+");";break;case"H":r=parseFloat(e[0][0]),m+="curContext.lineTo("+r+","+-o+");";break;case"V":o=parseFloat(e[0][0]),m+="curContext.lineTo("+r+","+-o+");";break;case"T":i=parseFloat(e[0][0]),a=parseFloat(e[1][0]),"Q"===h||"T"===h?(e=Math.sqrt(Math.pow(r-t,2)+Math.pow(s-o,2)),u=Math.PI+Math.atan2(t-r,s-o),t=r+Math.sin(u)*e,s=o+Math.cos(u)*e):(t=r,s=o),m+="curContext.quadraticCurveTo("+t+","+-s+","+i+","+-a+");",r=i,o=a;break;case"Q":t=parseFloat(e[0][0]),s=parseFloat(e[1][0]),i=parseFloat(e[2][0]),a=parseFloat(e[3][0]),m+="curContext.quadraticCurveTo("+t+","+-s+","+i+","+-a+");",r=i,o=a;break;case"Z":m+="curContext.closePath();"}h=c[0]}return m+="afterPathDraw();",m+="curContext.translate("+f+",0);",m+="}}",new Function("beforePathDraw","afterPathDraw",m)(function(){return ne.save(),de.$ensureContext()},function(){L(),_(),P()})},k=function(r){o=r.getElementsByTagName("font");ae.glyphTable[e].horiz_adv_x=o[0].getAttribute("horiz-adv-x"),o=r.getElementsByTagName("font-face")[0],ae.glyphTable[e].units_per_em=parseFloat(o.getAttribute("units-per-em")),ae.glyphTable[e].ascent=parseFloat(o.getAttribute("ascent")),ae.glyphTable[e].descent=parseFloat(o.getAttribute("descent"));for(var o=(r=r.getElementsByTagName("glyph")).length,t=0;t<o;t++){var s=r[t].getAttribute("unicode"),i=r[t].getAttribute("glyph-name");null===(f=r[t].getAttribute("horiz-adv-x"))&&(f=ae.glyphTable[e].horiz_adv_x),(d=r[t].getAttribute("d"))!==l&&(m=b(d),ae.glyphTable[e][i]={name:i,unicode:s,horiz_adv_x:f,draw:m.draw})}};return ae.glyphTable[e]={},function(){var l;try{l=c.implementation.createDocument("","",null)}catch(e){return void Y.debug(e.message)}try{l.async=!1,l.load(e),k(l.getElementsByTagName("svg")[0])}catch(l){Y.debug(l);try{var r=new n.XMLHttpRequest;r.open("GET",e,!1),r.send(null),k(r.responseXML.documentElement)}catch(e){Y.debug(l)}}}(),ae.glyphTable[e]},ae.param=function(e){l="data-processing-"+e;if(te.hasAttribute(l))return te.getAttribute(l);for(var l=0,r=te.childNodes.length;l<r;++l){var o=te.childNodes.item(l);if(1===o.nodeType&&"param"===o.tagName.toLowerCase()&&o.getAttribute("name")===e)return o.getAttribute("value")}return ce.params.hasOwnProperty(e)?ce.params[e]:null},Fr.prototype.translate=K("translate"),Fr.prototype.transform=K("transform"),Fr.prototype.scale=K("scale"),Fr.prototype.pushMatrix=K("pushMatrix"),Fr.prototype.popMatrix=K("popMatrix"),Fr.prototype.resetMatrix=K("resetMatrix"),Fr.prototype.applyMatrix=K("applyMatrix"),Fr.prototype.rotate=K("rotate"),Fr.prototype.rotateZ=K("rotateZ"),Fr.prototype.shearX=K("shearX"),Fr.prototype.shearY=K("shearY"),Fr.prototype.redraw=K("redraw"),Fr.prototype.toImageData=K("toImageData"),Fr.prototype.ambientLight=K("ambientLight"),Fr.prototype.directionalLight=K("directionalLight"),Fr.prototype.lightFalloff=K("lightFalloff"),Fr.prototype.lightSpecular=K("lightSpecular"),Fr.prototype.pointLight=K("pointLight"),Fr.prototype.noLights=K("noLights"),Fr.prototype.spotLight=K("spotLight"),Fr.prototype.beginCamera=K("beginCamera"),Fr.prototype.endCamera=K("endCamera"),Fr.prototype.frustum=K("frustum"),Fr.prototype.box=K("box"),Fr.prototype.sphere=K("sphere"),Fr.prototype.ambient=K("ambient"),Fr.prototype.emissive=K("emissive"),Fr.prototype.shininess=K("shininess"),Fr.prototype.specular=K("specular"),Fr.prototype.fill=K("fill"),Fr.prototype.stroke=K("stroke"),Fr.prototype.strokeWeight=K("strokeWeight"),Fr.prototype.smooth=K("smooth"),Fr.prototype.noSmooth=K("noSmooth"),Fr.prototype.point=K("point"),Fr.prototype.vertex=K("vertex"),Fr.prototype.endShape=K("endShape"),Fr.prototype.bezierVertex=K("bezierVertex"),Fr.prototype.curveVertex=K("curveVertex"),Fr.prototype.curve=K("curve"),Fr.prototype.line=K("line"),Fr.prototype.bezier=K("bezier"),Fr.prototype.rect=K("rect"),Fr.prototype.ellipse=K("ellipse"),Fr.prototype.background=K("background"),Fr.prototype.image=K("image"),Fr.prototype.textWidth=K("textWidth"),Fr.prototype.text$line=K("text$line"),Fr.prototype.$ensureContext=K("$ensureContext"),Fr.prototype.$newPMatrix=K("$newPMatrix"),Fr.prototype.size=function(e,l,r){$(r===u.WEBGL?"3D":"2D"),ae.size(e,l,r)},Fr.prototype.$init=d,Lr.prototype.$init=function(){ae.size(ae.width,ae.height),ne.lineCap="round",ae.noSmooth(),ae.disableContextMenu()},_r.prototype.$init=function(){ae.use3DContext=!0,ae.disableContextMenu()},Dr.prototype.$ensureContext=function(){return ne},te.getAttribute("tabindex")||te.setAttribute("tabindex",0),se)ce=new Y.Sketch,$(),ae.size=function(e,l,r){$(r&&r===u.WEBGL?"3D":"2D"),ae.size(e,l,r)};else{ce=r instanceof Y.Sketch?r:"function"==typeof r?new Y.Sketch(r):r?Y.compile(r):new Y.Sketch(function(){}),ae.externals.sketch=ce,$(),te.onfocus=function(){ae.focused=!0},te.onblur=function(){ae.focused=!1,ce.options.globalKeyEvents||(ae.__keyPressed=!1,Ql=[],Jl=null)},ce.options.pauseOnBlur&&(v(n,"focus",function(){il&&ae.loop()}),v(n,"blur",function(){il&&tl&&(ae.noLoop(),il=!0),ae.__keyPressed=!1,Ql=[],Jl=null}));var ro=ce.options.globalKeyEvents?n:te;v(ro,"keydown",le),v(ro,"keypress",re),v(ro,"keyup",oe);for(var oo in Y.lib)Y.lib.hasOwnProperty(oo)&&(Y.lib[oo].hasOwnProperty("attach")?Y.lib[oo].attach(ae):Y.lib[oo]instanceof Function&&Y.lib[oo].call(this));var to=function(e){if(ce.imageCache.pending||PFont.preloading.pending(100))n.setTimeout(function(){to(e)},100);else{if(n.opera){var l,r,t=ce.imageCache.operaCache;for(l in t)t.hasOwnProperty(l)&&(null!==(r=t[l])&&c.body.removeChild(r),delete t[l])}ce.attach(e,o),ce.onLoad(e),e.setup&&(e.setup(),e.resetMatrix(),ce.onSetup()),j(),e.draw&&(il?e.loop():e.redraw())}};this.externals.canvas.id!==l&&this.externals.canvas.id.length||(this.externals.canvas.id="__processing"+w.length),X[this.externals.canvas.id]=w.length,w.push(this),to(ae)}};return Y.debug=function(){return"console"in n?function(e){n.console.log("Processing.js: "+e)}:d}(),Y.prototype=o,Y.instances=w,Y.getInstanceById=function(e){return w[X[e]]},function(e){for(var l,r,o="open() createOutput() createInput() BufferedReader selectFolder() dataPath() createWriter() selectOutput() beginRecord() saveStream() endRecord() selectInput() saveBytes() createReader() beginRaw() endRaw() PrintWriter delay()".split(" "),t=o.length;t--;)l=o[t],r=l.replace("()",""),e[r]=function(e){return function(){throw"Processing.js does not support "+e+"."}}(l)}(o),Y}},{}],27:[function(e,l,r){var o={virtEquals:e("./Helpers/virtEquals"),virtHashCode:e("./Helpers/virtHashCode"),ObjectIterator:e("./Helpers/ObjectIterator"),PConstants:e("./Helpers/PConstants"),ArrayList:e("./Objects/ArrayList"),HashMap:e("./Objects/HashMap"),PVector:e("./Objects/PVector"),PFont:e("./Objects/PFont"),Char:e("./Objects/Char"),XMLAttribute:e("./Objects/XMLAttribute"),XMLElement:e("./Objects/XMLElement"),PMatrix2D:e("./Objects/PMatrix2D"),PMatrix3D:e("./Objects/PMatrix3D"),PShape:e("./Objects/PShape"),colors:e("./Objects/webcolors"),PShapeSVG:e("./Objects/PShapeSVG"),CommonFunctions:e("./P5Functions/commonFunctions"),defaultScope:e("./Helpers/defaultScope"),Processing:e("./Processing"),setupParser:e("./Parser/Parser"),finalize:e("./Helpers/finalizeProcessing")};o.extend={withMath:e("./P5Functions/Math.js"),withProxyFunctions:e("./P5Functions/JavaProxyFunctions")(o.virtHashCode,o.virtEquals),withTouch:e("./P5Functions/touchmouse"),withCommonFunctions:o.CommonFunctions.withCommonFunctions},l.exports=function(l,r){var t=function(){},s=o.virtEquals,i=o.virtHashCode,a=o.PConstants,n=o.CommonFunctions,c=o.ObjectIterator,d=o.Char,u=o.XMLAttribute(),h=o.ArrayList({virtHashCode:i,virtEquals:s}),s=o.HashMap({virtHashCode:i,virtEquals:s}),i=o.PVector({PConstants:a}),p=o.PFont({Browser:l,noop:t}),u=o.XMLElement({Browser:l,XMLAttribute:u}),f=o.PMatrix2D({p:n}),m=o.PMatrix3D({p:n}),f=o.PShape({PConstants:a,PMatrix2D:f,PMatrix3D:m}),n=o.PShapeSVG({CommonFunctions:n,PConstants:a,PShape:f,XMLElement:u,colors:o.colors}),a=o.defaultScope({ArrayList:h,HashMap:s,PVector:i,PFont:p,PShapeSVG:n,ObjectIterator:c,PConstants:a,Char:d,XMLElement:u,XML:u}),c=o.Processing({defaultScope:a,Browser:l,extend:o.extend,noop:t}),c=o.setupParser(c,{Browser:l,aFunctions:r,defaultScope:a});return c=o.finalize(c,{version:e("../package.json").version,isDomPresent:l.isDomPresent,window:l.window,document:l.document,noop:t})}},{"../package.json":2,"./Helpers/ObjectIterator":3,"./Helpers/PConstants":4,"./Helpers/defaultScope":5,"./Helpers/finalizeProcessing":6,"./Helpers/virtEquals":7,"./Helpers/virtHashCode":8,"./Objects/ArrayList":9,"./Objects/Char":10,"./Objects/HashMap":11,"./Objects/PFont":12,"./Objects/PMatrix2D":13,"./Objects/PMatrix3D":14,"./Objects/PShape":15,"./Objects/PShapeSVG":16,"./Objects/PVector":17,"./Objects/XMLAttribute":18,"./Objects/XMLElement":19,"./Objects/webcolors":20,"./P5Functions/JavaProxyFunctions":21,"./P5Functions/Math.js":22,"./P5Functions/commonFunctions":23,"./P5Functions/touchmouse":24,"./Parser/Parser":25,"./Processing":26}]},{},[1]),function(){new Processing(document.getElementById("canvas"),function(processing){processing.size(400,400),processing.background(4095);var mouseIsPressed=!1;processing.mousePressed=function(){mouseIsPressed=!0},processing.mouseReleased=function(){mouseIsPressed=!1};var keyIsPressed=!1;processing.keyPressed=function(){keyIsPressed=!0},processing.keyReleased=function(){keyIsPressed=!1};var rotateFn=processing.rotate;with(processing.sin=function(e){return Math.sin(processing.radians(e))},processing.cos=function(e){return Math.cos(processing.radians(e))},processing.rotate=function(e){rotateFn(processing.radians(e))},processing){var username="Steve",blocks=61,items=355,isSleeping=!1,sleepTimer=0,dragonSpawned=!1,sound=0,hunger=20,trees=[[0,1,0,0,0,0,0,0,1,0],[0,0,0,0,0,1,0,0,0,0],[1,0,0,0,0,0,0,0,0,1],[0,0,0,1,0,0,0,0,0,0],[0,0,1,0,0,0,0,0,0,1]],lavaCol=[[0,0,0,0,0,0,1,0,0,0],[0,0,0,0,0,0,0,0,0,0],[1,0,0,0,0,0,0,0,0,0],[0,0,0,1,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,1]],obsidianPillars=[[0,0,0,0,0,0,2,0,0,0],[0,0,0,0,0,0,0,2,0,0],[2,0,0,0,0,0,0,0,0,0],[0,0,0,2,0,0,0,0,0,0],[0,0,0,0,0,0,0,2,0,0]],satration=5,hungerTimer=100,starveTimer=10,MPscreen=!1,isTrading=!1,mobSelected=null,tradingSlots=[0,0,0,0,0,0],gamemode=0,madPigmen=!1,pigmanTimer=0,minJump=0,optionsScreen=!1,regenTix=0,regenTix2=0,options={clouds:!0,fireAnimation:!0,peaceful:!1,_3D:!0},DO_NOT_TOUCH=!1,functions=[],mPressed,hotbarTagTimer=0,spawnpoint=[-80,-340],lastItemSelected=null,button=function(e,l,r,o,t,s,i){mouseX>e&&mouseX<e+r&&mouseY>l&&mouseY<l+o&&s?mPressed?(functions[t]=!0,fill(117,117,117),mPressed=!1):(functions[t]=!1,fill(216,216,240)):(functions[t]=!1,fill(s?200:117)),rect(e,l,r,o),textAlign(CENTER,CENTER),fill(0),text(i,e+r/2,l+o/2),textAlign(LEFT,TOP)};items++,blocks++;var solidBlocks=[!1,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!1,!1,!1,!1,!0,!1,!1,!1,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!1,!0,!0,!0,!0,!0,!0,!0,!0,!0,!1,!1,!1,!0,!1,!0,!0,!1,!1,!0,!0,!0,!0,!0,!0,!1,!1,!0,!0,!0,!1,!0],opaqueBlocks=[!0,!1,!1,!1,!1,!1,!1,!1,!1,!0,!1,!1,!1,!1,!1,!1,!0,!0,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!0,!0,!0,!0,!1,!1,!0,!1,!0,!1,!1,!1,!0,!0,!0,!1,!0,!1,!1,!0,!0,!1,!1,!1,!1,!1,!1,!0,!0,!1,!1,!1,!1,!1];solidBlocks[undefined]=!0,opaqueBlocks[undefined]=!0;for(var death,deathmessageShown=!1,damageTimer=0,allBlocks=[[1,2,3,4],[5,6,7,8],[9,11,13,15],[16,17,19,20],[21,22,23,24],[25,26,27,28],[30,31,32,33],[34,35,37,38],[39,40,41,42],[43,44,45,47],[48,49,50,51],[52,53,54,55],[57,58,59,61],[300,301,302,303],[304,305,306,307],[308,309,310,311],[312,313,314,315],[316,317,318,319],[320,321,322,323],[324,325,326,327],[328,329,330,331],[332,333,334,335],[336,337,338,339],[340,341,342,343],[344,345,346,347],[348,349,350,351],[352,353,354,355]],invScroll=0,maxStacks=[],i=0;i<items;i++)switch(i){case 11:case 13:case 17:case 307:case 308:case 309:case 310:case 311:case 312:case 313:case 314:case 315:case 316:case 320:case 321:case 322:case 323:case 324:case 325:case 326:case 327:case 328:case 329:case 330:case 331:case 332:case 333:case 334:case 335:maxStacks[i]=1;break;case 337:maxStacks[i]=16;break;case 338:case 341:case 342:case 343:case 344:case 345:maxStacks[i]=1;break;case 351:maxStacks[i]=16;break;default:maxStacks[i]=64}for(var tileNames=["","Stone","Grass","Dirt","Cobblestone","Wooden Planks","Bricks","Wood","Obsidian","Leaves","Bedrock","Water bucket","Hacked water","Lava bucket","Hacked lava","TNT","Sapling","Flint and Steel","Hacked Portal","Netherrack","Sand","Gravel","Coal ore","Iron ore","Gold ore","Lapis lazuli ore","Diamond ore","Crafting table","Wooden Door","Hacked Door","Ladder","Cactus","Ice","Furnace","Chest","Moss stone","Monster spawner","Block of Iron","Block of Gold","Block of Diamond","Torch","Sugar cane","Redstone","Redstone Ore","Redstone Torch","Command block","Hacked Farmland","Tall Grass","Seeds","Emerald Ore","Block of Emerald","Block of Redstone","Block of Coal","Block of Lapis Lazuli","Wool","Bed","Hacked Bed","Nether Brick block","End portal frame","End stone","Hacked End portal","Stone Bricks"],itemNames=["Stick","Coal","Iron ingot","Gold ingot","Lapis lazuli","Diamond","Flint","Wooden pickaxe","Stone pickaxe","Iron pickaxe","Golden pickaxe","Diamond pickaxe","Wooden sword","Stone sword","Iron sword","Golden sword","Diamond sword","Raw porkchop","Gunpowder","Cooked porkchop","Iron helmet","Iron chestplate","Iron leggings","Iron boots","Golden helmet","Golden chestplate","Golden leggings","Golden boots","Diamond helmet","Diamond chestplate","Diamond leggings","Diamond boots","Leather cap","Leather tunic","Leather trousers","Leather boots","Leather","Bucket","Milk bucket","Paper","Firework","Wooden hoe","Stone hoe","Iron hoe","Golden hoe","Diamond hoe","Wheat","Bread","Rotten Flesh","Emerald","Shears","Nether brick","Ender pearl","Blaze rod","Blaze powder","Eye of ender"],direction=RIGHT,armPos=0,armTimer=0,legPos=0,itemTag=null,setTag=function(e){itemTag=e?e>=300?itemNames[e-300]:tileNames[e]:null},cloudX=0,itemDurabilities=[],onPoem=!1,poemScroll=0,endPoem=["1I see the player you mean.","2"+"Steve?","1Yes. Take care. It has reached a higher level now. It can read our thoughts.","2That doesn't matter. It thinks we are part of the game.","1I like this player. It played well. It did not give up.","2It is reading our thoughts as though they are words on a scratchpad.","1That is how it chooses to imagine many things, when it is deep in the dream of a game.","2Words make a wonderful interface. Very flexible. And less terrifying than staring at the reality behind the scratchpad.","1They used to hear voices. Before we removed sound. Back in the days when those who did not play called the players witches, and warlocks. And players dreamed they flew through the air, on sticks powered by demons.","2What did this player dream?","1This player dreamed of sunlight and trees. Of fire and water. It dreamed it created. And it dreamed it destroyed. It dreamed it hunted, and was hunted. It dreamed of shelter.","2Hah, the original interface. A million years old, and it still works. But what true structure did this player created, in the reality behind the scratchpad?","1It worked, with a million others, to sculpt a true world in a fold of the iV3L93iI, and created a 3Ih1L7Ef for Fe4z98F, in the F38hJ4i.","2It cannot read that thought.","1No. It has not yet achieved the highest level. That, it must achieve in the long dream of life, not the short dream of a program.","2Does it know that we love it? That the universe is kind?","1Sometimes, through the noise of its thoughts, it hears the universe, yes.","2But there are times it is sad, in the long dream. It creates worlds that have no summer, and it shivers under a black sun, and it takes its sad creation for reality.","1To cure it of sorrow would destroy it. The sorrow is part of its own private task. We cannot interfere.","2Sometimes when they are deep in dreams, I want to tell them, they are building true worlds in reality. Sometimes I want to tell them of their importance to the universe. Sometimes, when they have not made a true connection in a while, I want to help them to speak the word they fear.","1It reads our thoughts","2Sometimes I do not care. Sometimes I wish to tell them, this world you take for truth is merely 7In4pP0 and 1Yy7rP, I wish to tell them that they are H8oTqvM in the Zr8E3fVs. They see so little of reality, in their long dream.","1And yet they play the game.","2But it would be so easy to tell them...","1Too strong for this dream. To tell them how to live is to prevent them living.","2I will not tell the player how to live.","1The player is growing restless. After all, this is an excruciatingly long poem.","2I will tell the player a story.","1But not the truth.","2No. A story that contains the truth safely, in a cage of words. Not the naked truth that can burn over any distance.","1Give it a body, again.","2Yes. Player...","1Use its name.","2"+"Steve. Player of games","1Good.","2Take a breath, now. Take another. Feel air in your lungs. Let your limbs return. Yes, move your fingers. Have a body again, under gravity, in air. Respawn in the long dream. There you are. Your body touching the universe again at every point, as though you were separate things. As though we were separate things.","1Who are we? Once we were called the spirit of the mountain. Father sun, mother moon. Ancestral spirits, animal spirits. Jinn. Ghosts. The green man. Then gods, demons. Angels. Poltergeists. Aliens, extraterrestrials. Leptons, quarks. The words change. We do not change.","2We are the universe. We are everything you think isn't you. You are looking at us now, through your skin and your eyes. And why does the universe touch your skin, and throw light on you? To see you, player. To know you. And to be known. I shall tell you a story.","2Once upon a time, there was a player.","1That player was you, "+"Steve.","2Sometimes it thought itself human, on the thin crust of a spinning globe of molten rock. The ball of molten rock circled a ball of blazing gas that was three hundred and thirty thousand times more massive than it. They were so far apart that light took eight minutes to cross the gap. The light was information from a star, and it could burn your skin from a hundred and fifty million kilometres away.","2Sometimes the player dreamed it was a miner, on the surface of a world that was flat, and infinite. The sun was a square of white. The days were short; there was much to do; and death was a temporary inconvenience.","1Sometimes the player dreamed it was lost in a story.","2Sometimes the player dreamed it was other things, in other places. Sometimes these dreams were disturbing. Sometimes very beautiful indeed. Sometimes the player woke from one dream into another, then woke from that into a third.","1Sometimes the player dreamed it watched words in a scratchpad.","2Let's go back.","2The atoms of the player were scattered in the grass, in the rivers, in the air, in the ground. A woman gathered the atoms; she drank and ate and inhaled; and the woman assembled the player, in her body.","2And the player awoke, from the warm, dark world of its mother's body, into the long dream.","2And the player was a new story, never told before, written in letters of DNA. And the player was a new program, never run before, generated by a sourcecode a billion years old. And the player was a new human, never alive before, made from nothing but milk and love.","1You are the player. The story. The program. The human. Made from nothing but milk and love.","2Let's go further back.","2The seven billion billion billion atoms of the player's body were created, long before this game, in the heart of a star. So the player, too, is information from a star. And the player moves through a story, which is a forest of information planted by a man called Salman, on a flat, infinite world created by a man called Bennimus, that exists inside a small, private world created by the player, who inhabits a universe created by...",'1Shush. Sometimes the player created a small, private world that was soft and warm and simple. Sometimes hard, and cold, and complicated. Sometimes it built a model of the universe in its head; flecks of energy, moving through vast empty spaces. Sometimes it called those flecks "electrons" and "protons".','2Sometimes it called them "planets" and "stars".',"2Sometimes it believed it was in a universe that was made of energy that was made of offs and ons; zeros and ones; lines of code. Sometimes it believed it was playing a game. Sometimes it believed it was reading words on a scratchpad.","1You are the player, reading words...","2Shush... Sometimes the player read lines of code on a screen. Decoded them into words; decoded words into meaning; decoded meaning into feelings, emotions, theories, ideas, and the player started to breathe faster and deeper and realised it was alive, it was alive, those thousand deaths had not been real, the player was alive","1You. You. You are alive.","2and sometimes the player believed the universe had spoken to it through the sunlight that came through the shuffling leaves of the summer trees","1and sometimes the player believed the universe had spoken to it through the light that fell from the crisp night sky of winter, where a fleck of light in the corner of the player's eye might be a star a million times as massive as the sun, boiling its planets to plasma in order to be visible for a moment to the player, walking home at the far side of the universe, suddenly smelling food, almost at the familiar door, about to dream again","2and sometimes the player believed the universe had spoken to it through the zeros and ones, through the electricity of the world, through the endless scrolling words on a scratchpad at the end of a dream","1and the universe said I love you","2and the universe said you have played the game well","1and the universe said everything you need is within you","2and the universe said you are stronger than you know","1and the universe said you are the daylight","2and the universe said you are the night","1and the universe said the darkness you fight is within you","2and the universe said the light you seek is within you","1and the universe said you are not alone","2and the universe said you are not separate from every other thing","1and the universe said you are the universe tasting itself, talking to itself, reading its own code","2and the universe said I love you because you are love","1And the game was over and the player woke up from the dream. And the player began a new dream. And the player dreamed again, dreamed better. And the player was the universe. And the player was love.","1You are the player.","2Wake up."],i=0;i<=items;i++)switch(i){case 17:itemDurabilities[i]=65;break;case 307:itemDurabilities[i]=60;break;case 308:itemDurabilities[i]=132;break;case 309:itemDurabilities[i]=251;break;case 310:itemDurabilities[i]=33;break;case 311:itemDurabilities[i]=1562;break;case 312:itemDurabilities[i]=60;break;case 313:itemDurabilities[i]=132;break;case 314:itemDurabilities[i]=251;break;case 315:itemDurabilities[i]=33;break;case 316:itemDurabilities[i]=1562;break;case 320:itemDurabilities[i]=166;break;case 321:itemDurabilities[i]=241;break;case 322:itemDurabilities[i]=226;break;case 323:itemDurabilities[i]=196;break;case 324:itemDurabilities[i]=78;break;case 325:itemDurabilities[i]=113;break;case 326:itemDurabilities[i]=106;break;case 327:itemDurabilities[i]=92;break;case 328:itemDurabilities[i]=364;break;case 329:itemDurabilities[i]=529;break;case 330:itemDurabilities[i]=496;break;case 331:itemDurabilities[i]=430;break;case 332:itemDurabilities[i]=56;break;case 333:itemDurabilities[i]=81;break;case 334:itemDurabilities[i]=76;break;case 335:itemDurabilities[i]=66;break;case 341:itemDurabilities[i]=60;break;case 342:itemDurabilities[i]=132;break;case 343:itemDurabilities[i]=251;break;case 344:itemDurabilities[i]=33;break;case 345:itemDurabilities[i]=1562;break;case 350:itemDurabilities[i]=238;break;default:itemDurabilities[i]=null}for(var onTitleScreen=!1,curBiome=0,biomes=[0],i=0;i<20;i++)biomes[i]=curBiome;for(var splashes=["This message will never appear on the splash screen, isn't that weird?","As seen on TV!","Awesome!","100% pure!","May contain nuts!","Better than Prey!","More polygons!","Sexy!","Limited edition!","Flashing letters!","Made by Bennimus!","It's here!","Best in class!","It's kinda finished!","Kind of dragon free!","Excitement!","More than 500 sold!","One of a kind!","2 hits on YouTube!","Indev!","Spiders everywhere!","Check it out!","Holy cow, man!","It's a game!","Made in Sweden!","Uses LWJGL!","Reticulating splines!","Minecraft!","Yaaay!","Singleplayer!","Keyboard compatible!","Undocumented!","Ingots!","Exploding creepers!","That's no moon!","l33t!","Create!","Survive!","Dungeon!","Exclusive!","The bee's knees!","Down with O.P.P.!","Closed source!","Classy!","Wow!","Not on steam!","Oh man!","Awesome community!","Pixels!","Teetsuuuuoooo!","Kaaneeeedaaaa!","Now with difficulty!","Enhanced!","90% bug free!","Pretty!","12 herbs and spices!","Fat free!","Absolutely no memes!","Free dental!","Ask your doctor!","Minors welcome!","Cloud computing!","Legal in Finland!","Hard to label!","Technically good!","Bringing home the bacon!","Indie!","GOTY!","Ceci n'est pas une title screen!","Euclidian!","Now in 3D!","Inspirational!","Herregud!","Complex cellular automata!","Yes, sir!","Played by cowboys!","OpenGL 0.Nothing!","Thousands of colors!","Try it!","Age of Wonders is better!","Try the mushroom stew!","Sensational!","Hot tamale, hot hot tamale!","Play him off, keyboard cat!","Guaranteed!","Macroscopic!","Bring it on!","Random splash!","Call your mother!","Monster infighting!","Loved by millions!","Ultimate edition!","Freaky!","You've got a brand new key!","Water proof!","Uninflammable!","Whoa, dude!","All inclusive!","Tell your friends!","NP is not in P!","Notch <3 ez!","Music by C418!","Livestreamed!","Haunted!","Polynomial!","Terrestrial!","All is full of love!","Full of stars!","Scientific!","Cooler than Spock!","Collaborate and listen!","Never dig down!","Take frequent breaks!","Not linear!","Han shot first!","Nice to meet you!","Buckets of lava!","Ride the pig!","Larger than Earth!","sqrt(-1) love you!","Phobos anomaly!","Punching wood!","Falling off cliffs!","0% sugar!","150% hyperbole!","Synecdoche!","Let's danec!","Seecret Friday update!","Reference implementation!","Lewd with two dudes with food!","Kiss the sky!","20 GOTO 10!","Verlet intregration!","Peter Griffin!","Do not distribute!","Cogito ergo sum!","4815162342 lines of code!","A skeleton popped out!","The Work of Bennimus!","The sum of its parts!","BTAF used to be good!","I miss ADOM!","umop-apisdn!","OICU812!","Bring me Ray Cokes!","Finger-licking!","Thematic!","Pneumatic!","Sublime!","Octagonal!","Une baguette!","Gargamel plays it!","Rita is the new top dog!","SWM forever!","Representing Edsbyn!","Matt Damon!","Supercalifragilisticexpialidocious!","Consummate V's!","Cow Tools!","Double buffered!","Fan fiction!","Flaxkikare!","Jason! Jason! Jason!","Hotter than the sun!","Soon to be Internet enabled!","Autonomous!","Engage!","Fantasy!","DRR! DRR! DRR!","Kick it root down!","Regional resources!","Woo, facepunch!","Woo, somethingawful!","Woo, /v/!","Woo, tigsource!","Woo, minecraftforum!","Woo, worldofminecraft!","Woo, reddit!","Woo, 2pp!","Woo, Khan Academy!","Google anlyticsed!","Now supports Ã¥Ã¤Ã¶!","Give us Gordon!","Tip your waiter!","Very fun!","12345 is a bad password!","Vote for net neutrality!","Lives in a pineapple under the sea!","MAP11 has two names!","Omnipotent!","Gasp!","...!","Bees, bees, bees, bees!","Jag kÃ¤nner en bot!","Haha, LOL!","Hampsterdance!","Switches and ores!","Menger sponge!","idspispopd!","Eple (original edit)!","So fresh, so clean!","Slow acting portals!","Try the Nether!","Don't look directly at the bugs!","Oh, ok, Pigmen!","Finally with ladders!","Scary!","Play Minecraft, Watch Topgear, Get Pig!","Twittered about!","Jump up, jump up, and get down!","Joel is neat!","A riddle, wrapped in a mystery!","Huge tracts of land!","Welcome to your Doom!","Stay a while, stay forever!","Stay a while and listen!","Treatment for your rash!","'Autological' is!","Information wants to be free!","'Almost never' is an interesting concept!","Lots of truthiness!","The creeper is a spy!","Turing complete!","It's groundbreaking!","Let our battle's begin!","The sky is the limit!","Jeb has amazing hair!","Casual gaming!","Undefeated!","Kinda like Lemmings!","Follow the train, CJ!","Leveraging synergy!","DungeonQuest is unfair!","110813!","90210!","Check out the far lands!","Tyrion would love it!","Also try VVVVVV!","Also try Super Meat Boy!","Also try Terraria!","Also try Mount And Blade!","Also try Project Zomboid!","Also try World of Goo!","Also try Limbo!","Also try Pixeljunk Shooter!","Also try Braid!","That's super!","Bread is pain!","Read more books!","Khaaaaaaaaan!","Less addictive than TV Tropes!","More addictive than lemonade!","Bigger than a bread box!","Millions of peaches!","Fnord!","This is my true form!","Totally forgot about Dre!","Don't bother with the clones!","Pumpkinhead!","Hobo humping slobo babe!","Made by Jeb!","Has an ending!","Finally complete!","Feature packed!","Boots with the fur!","Stop, hammertime!","Testificates!","Conventional!","Homeomorphic to a 3-sphere!","Doesn't avoid double negatives!","Place ALL the blocks!","Does barrel rolls!","Meeting expectations!","PC gaming since 1873!","Ghoughpteighbteau tchoghs!","DÃ©jÃ  vu!","Got your nose!","Haley loves Elan!","Afraid of the big, black bat!","Doesn't use the U-word!","Child's play!","See you next Friday or so!","From the streets of SÃ¶dermalm!","150 bpm for 400000 minutes!","Technologic!","Funk soul brother!","Pumpa kungen!","æ¥æ¬ãã­ã¼ï¼","íêµ­ ìëíì¸ì!","Helo Cymru!","CzeÅÄ Polsko!","ä½ å¥½ä¸­å½ï¼","ÐÑÐ¸Ð²ÐµÑ Ð Ð¾ÑÑÐ¸Ñ!","ÎÎµÎ¹Î± ÏÎ¿Ï ÎÎ»Î»Î¬Î´Î±!","My life for Aiur!","Lennart lennart = new Lennart();","I see your vocabulary has improved!","Who put it there?","You can't explain that!","if not ok then return end","Colormatic!","FUNKY LOL","SOPA means LOSER in Swedish!","Big Pointy Teeth!","Bekarton guards the gate!","Mmmph, mmph!","Don't feed avocados to parrots!","Swords for everyone!","Plz reply to my tweet!",".party()!","Take her pillow!","Put that cookie down!","Pretty scary!","I have a suggestion.","Now with extra hugs!","Now javascript!","Woah.","HURNERJSGER?","What's up, Doc?","Now contains 32 random daily cats!"],onCommandBlock=!1,curSplash=round(random(1,splashes.length)),furnaceRecipes=[],burnValues=[],i=0;i<items;i++)switch(i){case 4:furnaceRecipes[i]=1;break;case 5:burnValues[i]=1.5;break;case 7:furnaceRecipes[i]=301;break;case 13:burnValues[i]=100;break;case 15:furnaceRecipes[i]=39;break;case 16:burnValues[i]=.5;break;case 19:furnaceRecipes[i]=351;break;case 23:furnaceRecipes[i]=302;break;case 24:furnaceRecipes[i]=303;break;case 27:burnValues[i]=1;break;case 52:burnValues[i]=72;break;case 300:burnValues[i]=.5;break;case 301:burnValues[i]=8;break;case 307:case 312:burnValues[i]=1;break;case 317:furnaceRecipes[i]=319;break;default:burnValues[i]=null,furnaceRecipes[i]=null}for(var onInputBox=!1,input="",inputTimer=25,messages=[],msgTimers=[],broadcast=function(e){append(messages,e),append(msgTimers,150)},bennimusStudios=!0,craftingGrid=[0,0,0,0,0,0,0,0,0],recipes=[],recipeAmounts=[],i=0;i<items;i++){switch(recipes[i]=[],recipes[i][0]=[],i){case 5:for(var j=0;j<9;j++){recipes[i][j]=[];for(var k=0;k<9;k++)recipes[i][j][k]=k===j?7:0}recipeAmounts[5]=4;break;case 15:recipes[i][0]=[318,20,318,20,318,20,318,20,318];break;case 17:for(var j=0;j<4;j++){recipes[i][j]=[];for(var k=0;k<9;k++)0!==recipes[i][j][k]&&recipes[i][j][k]!==undefined||(k===j?(recipes[i][j][k]=302,recipes[i][j][k+4]=306):recipes[i][j][k]=0)}recipeAmounts[17]=1;break;case 27:for(var j=0;j<4;j++){recipes[i][j]=[];for(var k=0;k<9;k++)0!==recipes[i][j][k]&&recipes[i][j][k]!==undefined||(k===j?(recipes[i][j][k]=5,recipes[i][j][k+1]=5,recipes[i][j][k+3]=5,recipes[i][j][k+4]=5):recipes[i][j][k]=0)}recipeAmounts[27]=1;break;case 28:for(var j=0;j<2;j++){recipes[i][j]=[];for(var k=0;k<9;k++)0!==recipes[i][j][k]&&recipes[i][j][k]!==undefined||(k===j?(recipes[i][j][k]=5,recipes[i][j][k+1]=5,recipes[i][j][k+3]=5,recipes[i][j][k+4]=5,recipes[i][j][k+6]=5,recipes[i][j][k+7]=5):recipes[i][j][k]=0)}recipeAmounts[28]=3;break;case 30:recipes[i][0]=[300,0,300,300,300,300,300,0,300],recipeAmounts[30]=3;break;case 33:recipes[i][0]=[4,4,4,4,0,4,4,4,4];break;case 34:recipes[i][0]=[5,5,5,5,0,5,5,5,5];break;case 37:recipes[i][0]=[302,302,302,302,302,302,302,302,302];break;case 38:recipes[i][0]=[303,303,303,303,303,303,303,303,303];break;case 39:recipes[i][0]=[305,305,305,305,305,305,305,305,305];break;case 40:for(var j=0;j<6;j++){recipes[i][j]=[];for(var k=0;k<9;k++)0!==recipes[i][j][k]&&recipes[i][j][k]!==undefined||(k===j?(recipes[i][j][k]=301,recipes[i][j][k+3]=300):recipes[i][j][k]=0)}recipeAmounts[40]=4;break;case 42:for(var j=0;j<9;j++){recipes[i][j]=[];for(var k=0;k<9;k++)recipes[i][j][k]=k===j?51:0}recipeAmounts[i]=9;break;case 44:for(var j=0;j<6;j++){recipes[i][j]=[];for(var k=0;k<9;k++)0!==recipes[i][j][k]&&recipes[i][j][k]!==undefined||(k===j?(recipes[i][j][k]=42,recipes[i][j][k+3]=300):recipes[i][j][k]=0)}break;case 50:recipes[i][0]=[349,349,349,349,349,349,349,349,349];break;case 51:recipes[i][0]=[42,42,42,42,42,42,42,42,42];break;case 52:recipes[i][0]=[301,301,301,301,301,301,301,301,301];break;case 53:recipes[i][0]=[304,304,304,304,304,304,304,304,304];break;case 55:recipes[i][0]=[54,54,54,5,5,5,0,0,0],recipes[i][1]=[0,0,0,54,54,54,5,5,5];break;case 57:for(var j=0;j<4;j++){recipes[i][j]=[];for(var k=0;k<9;k++)0!==recipes[i][j][k]&&recipes[i][j][k]!==undefined||(k===j?(recipes[i][j][k]=351,recipes[i][j][k+1]=351,recipes[i][j][k+3]=351,recipes[i][j][k+4]=351):recipes[i][j][k]=0)}break;case 61:for(var j=0;j<4;j++){recipes[i][j]=[];for(var k=0;k<9;k++)0!==recipes[i][j][k]&&recipes[i][j][k]!==undefined||(k===j?(recipes[i][j][k]=1,recipes[i][j][k+1]=1,recipes[i][j][k+3]=1,recipes[i][j][k+4]=1):recipes[i][j][k]=0)}break;case 300:for(var j=0;j<6;j++){recipes[i][j]=[];for(var k=0;k<9;k++)0!==recipes[i][j][k]&&recipes[i][j][k]!==undefined||(k===j?(recipes[i][j][k]=5,recipes[i][j][k+3]=5):recipes[i][j][k]=0)}recipeAmounts[300]=4;break;case 301:for(var j=0;j<9;j++){recipes[i][j]=[];for(var k=0;k<9;k++)recipes[i][j][k]=k===j?52:0}recipeAmounts[i]=9;break;case 302:for(var j=0;j<9;j++){recipes[i][j]=[];for(var k=0;k<9;k++)recipes[i][j][k]=k===j?37:0}recipeAmounts[i]=9;break;case 303:for(var j=0;j<9;j++){recipes[i][j]=[];for(var k=0;k<9;k++)recipes[i][j][k]=k===j?38:0}recipeAmounts[i]=9;break;case 304:for(var j=0;j<9;j++){recipes[i][j]=[];for(var k=0;k<9;k++)recipes[i][j][k]=k===j?53:0}recipeAmounts[i]=9;break;case 305:for(var j=0;j<9;j++){recipes[i][j]=[];for(var k=0;k<9;k++)recipes[i][j][k]=k===j?39:0}recipeAmounts[i]=9;break;case 307:recipes[i][0]=[5,5,5,0,300,0,0,300,0],recipeAmounts[307]=1;break;case 308:recipes[i][0]=[4,4,4,0,300,0,0,300,0],recipeAmounts[308]=1;break;case 309:recipes[i][0]=[302,302,302,0,300,0,0,300,0],recipeAmounts[309]=1;break;case 310:recipes[i][0]=[303,303,303,0,300,0,0,300,0],recipeAmounts[310]=1;break;case 311:recipes[i][0]=[305,305,305,0,300,0,0,300,0],recipeAmounts[311]=1;break;case 312:recipes[i][0]=[5,0,0,5,0,0,300,0,0],recipes[i][1]=[0,5,0,0,5,0,0,300,0],recipes[i][2]=[0,0,5,0,0,5,0,0,300],recipeAmounts[312]=1;break;case 313:recipes[i][0]=[4,0,0,4,0,0,300,0,0],recipes[i][1]=[0,4,0,0,4,0,0,300,0],recipes[i][2]=[0,0,4,0,0,4,0,0,300],recipeAmounts[313]=1;break;case 314:recipes[i][0]=[302,0,0,302,0,0,300,0,0],recipes[i][1]=[0,302,0,0,302,0,0,300,0],recipes[i][2]=[0,0,302,0,0,302,0,0,300],recipeAmounts[314]=1;break;case 315:recipes[i][0]=[303,0,0,303,0,0,300,0,0],recipes[i][1]=[0,303,0,0,303,0,0,300,0],recipes[i][2]=[0,0,303,0,0,303,0,0,300],recipeAmounts[315]=1;break;case 316:recipes[i][0]=[305,0,0,305,0,0,300,0,0],recipes[i][1]=[0,305,0,0,305,0,0,300,0],recipes[i][2]=[0,0,305,0,0,305,0,0,300],recipeAmounts[316]=1;break;case 320:recipes[i][0]=[302,302,302,302,0,302,0,0,0],recipes[i][1]=[0,0,0,302,302,302,302,0,302];break;case 321:recipes[i][0]=[302,0,302,302,302,302,302,302,302];break;case 322:recipes[i][0]=[302,302,302,302,0,302,302,0,302];break;case 323:recipes[i][0]=[302,0,302,302,0,302,0,0,0],recipes[i][1]=[0,0,0,302,0,302,302,0,302];break;case 324:recipes[i][0]=[303,303,303,303,0,303,0,0,0],recipes[i][1]=[0,0,0,303,303,303,303,0,303];break;case 325:recipes[i][0]=[303,0,303,303,303,303,303,303,303];break;case 326:recipes[i][0]=[303,303,303,303,0,303,303,0,303];break;case 327:recipes[i][0]=[303,0,303,303,0,303,0,0,0],recipes[i][1]=[0,0,0,303,0,303,303,0,303];break;case 328:recipes[i][0]=[305,305,305,305,0,305,0,0,0],recipes[i][1]=[0,0,0,305,305,305,305,0,305];break;case 329:recipes[i][0]=[305,0,305,305,305,305,305,305,305];break;case 330:recipes[i][0]=[305,305,305,305,0,305,305,0,305];break;case 331:recipes[i][0]=[305,0,305,305,0,305,0,0,0],recipes[i][1]=[0,0,0,305,0,305,305,0,305];break;case 332:recipes[i][0]=[336,336,336,336,0,336,0,0,0],recipes[i][1]=[0,0,0,336,336,336,336,0,336];break;case 333:recipes[i][0]=[336,0,336,336,336,336,336,336,336];break;case 334:recipes[i][0]=[336,336,336,336,0,336,336,0,336];break;case 335:recipes[i][0]=[336,0,336,336,0,336,0,0,0],recipes[i][1]=[0,0,0,336,0,336,336,0,336];break;case 337:recipes[i][0]=[302,0,302,0,302,0,0,0,0],recipes[i][1]=[0,0,0,302,0,302,0,302,0];break;case 339:recipes[i][0]=[41,41,41,0,0,0,0,0,0],recipes[i][1]=[0,0,0,41,41,41,0,0,0],recipes[i][2]=[0,0,0,0,0,0,41,41,41],recipeAmounts[339]=3;break;case 340:for(var j=0;j<6;j++){recipes[i][j]=[];for(var k=0;k<9;k++)0!==recipes[i][j][k]&&recipes[i][j][k]!==undefined||(k===j?(recipes[i][j][k]=339,recipes[i][j][k+3]=318):recipes[i][j][k]=0)}break;case 341:recipes[i][0]=[5,5,0,0,300,0,0,300,0],recipes[i][1]=[0,5,5,0,300,0,0,300,0],recipes[i][2]=[5,5,0,300,0,0,300,0,0],recipes[i][3]=[0,5,5,0,0,300,0,0,300];break;case 342:recipes[i][0]=[4,4,0,0,300,0,0,300,0],recipes[i][1]=[0,4,4,0,300,0,0,300,0],recipes[i][2]=[4,4,0,300,0,0,300,0,0],recipes[i][3]=[0,4,4,0,0,300,0,0,300];break;case 343:recipes[i][0]=[302,302,0,0,300,0,0,300,0],recipes[i][1]=[0,302,302,0,300,0,0,300,0],recipes[i][2]=[302,302,0,300,0,0,300,0,0],recipes[i][3]=[0,302,302,0,0,300,0,0,300];break;case 344:recipes[i][0]=[303,303,0,0,300,0,0,300,0],recipes[i][1]=[0,303,303,0,300,0,0,300,0],recipes[i][2]=[303,303,0,300,0,0,300,0,0],recipes[i][3]=[0,303,303,0,0,300,0,0,300];break;case 345:recipes[i][0]=[305,305,0,0,300,0,0,300,0],recipes[i][1]=[0,305,305,0,300,0,0,300,0],recipes[i][2]=[305,305,0,300,0,0,300,0,0],recipes[i][3]=[0,305,305,0,0,300,0,0,300];break;case 347:recipes[i][0]=[346,346,346,0,0,0,0,0,0],recipes[i][1]=[0,0,0,346,346,346,0,0,0],recipes[i][2]=[0,0,0,0,0,0,346,346,346];break;case 349:for(var j=0;j<9;j++){recipes[i][j]=[];for(var k=0;k<9;k++)recipes[i][j][k]=k===j?50:0}recipeAmounts[i]=9;break;case 350:for(var j=0;j<4;j++){recipes[i][j]=[];for(var k=0;k<9;k++)0!==recipes[i][j][k]&&recipes[i][j][k]!==undefined||(k===j?(recipes[i][j][k]=302,recipes[i][j][k+4]=302):recipes[i][j][k]=0)}for(var j=4;j<8;j++){recipes[i][j]=[];for(var k=1;k<9;k++)3!==k&&6!==k&&(0!==recipes[i][j][k]&&recipes[i][j][k]!==undefined||(k===j?(recipes[i][j][k]=302,recipes[i][j][k+2]=302):recipes[i][j][k]=0))}recipeAmounts[350]=1;break;case 354:for(var j=0;j<9;j++){recipes[i][j]=[];for(var k=0;k<9;k++)recipes[i][j][k]=k===j?353:0}recipeAmounts[354]=2;break;case 355:for(var j=0;j<81;j++){var jj=round(j/9-.5);recipes[i][j]=[];for(var k=0;k<9;k++)recipes[i][j][k]=k===jj?352:0;var jjj=j-9*jj;0===recipes[i][j][jjj]?recipes[i][j][jjj]=354:0===jj?recipes[i][j][jjj+1]=354:recipes[i][j][jjj-1]=354}}recipeAmounts[i]===undefined&&(recipeAmounts[i]=1)}for(var holdingBlock=0,holdingStacks=0,holdingSpecs=0,logoTix=0,time=0,night=0,posX=-40,posY=-340,posA=10,posB=10,posB2,posA2,skin=requestImage("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGUAAACrCAMAAABIQKI5AAABSlBMVEUAAAAAAAAAAAAKBwQBAAAPCwYAAAAAAAAEAgEAAABCMiMAAAAAAAAAAACGNxd5LBIAAAABAAAHBAQGBASqVSM2JhkEAwNDLx1CLx0CAQFDLx0pGBYgFRVaWlpgYGANDhgfIEAAAAClW0Ps0qLqzqDpzJ3Ppn3v1qbnyZu/iWbevZDJm3TYs4jlxpjMoXi5fl3iwZS8g2HbuIwDAwfy2qrBjmrVr4TSq4G0dVfEkm3GlnCva08XGDETFCapYkiNPxtrIQ4PEB713q1+MhVyJxC2lmIJChGWRBwVDw0GBwscHTmzkFxkPyqfSyBALx5kGwtQNCAoHhVSHBC0W0Oad1KOUDC/dFe+Zkx8TjQ9GRLEV0FpTjZUPikyLyyth1UsL1p3Xj6rh2OQcU/GpXS+nXA7PnCKaUaZWUB3d3dzY1L////k5OSYmJhLS0tNx0ZYAAAAH3RSTlMABicvSBgMPzcRVSEcAv7+quaNyP52c+TIVavpuY7HfRHKYQAAB0hJREFUeF7swCEBAAAIA7AHoAD9i6JwWNyWGwAAAAAAAL0qP4a1OnZtI4bCAN7xKDdIOjjwkD59a9c3ZJEGDRaRPBmy1eFK24RAkv9/rS5nYdGzG8ntNwt+vO9JaBRiAOdACqH+M9VvBNh7T86aOdZaR+RZ/qPUj2KTjU6BA5E1ukxMGPmA07nPX4auTbl5eUa3GBKBXCmUkqPAw/Hg88uDbFPw+gAxIwq+nGINJQfD3Jtwb8CmSVHArPQykIsrYO2MSQHQOEuvBmDcIHf1geMxKECK7lNrBMBkdU2iJQbkVfdNMhldGUMB3TWI4KKtmtZkfxUS/7i2toxZMUG0IyiQaZp0pFWSFUuGVSMygmLerH5M0cbS2ZymMtT4XDp4kx93TEakv8WZuDCNq5HBLO+NyE3To6aPslRngmrqyy1GSkxLSUCd47hvGiUZS3Slkpy5s6F+FHYmI7Ts9XI8g0Pej3Y8Vo/ii/tk3pu4bNwd7r/vcXSs8bIS6ZhOyd/jWSJg/2035z47rnozgy/7YPeeleAZ+8OP7fbXz6+3293u6Y6PdF1lPQrj8ARP6wT+zWn9tSaPBQEcFoqwyF68u4vY9mY5qcZojPFvognkomBJUA4N5q3S+AajQbf7/T/AzsxJPSu9OfZ3VVB4mJnT0pCnQCwcYzJpt5+e9CzjTDBq93+4LCwKk8VyP/66J8b3C+jYep4AgkrTOmZ7wTCllf2ISmTMs4WlAxO9lEt6icYM90REt/0skWar5WQrWprab+YfJcL22bHVbB6XJ84ZFnO+wxmIaD5DFwQUw3AyTozSKxuXk7xmjtECxlmWLUSFS4JExCiGZblZjFMz9Xf8EmeuZRBjFBencAbtZ2kg0i4Rwxp0j3Qapn788KAPrJJ5Goy61BOs6CLISQQCymgZR7co4/Q46goGlg5LaUMTmRyEjlIivd6J3aBEfNkbdYExJENdERKhfYHimHGkroSJ6wAzEIx0risNgQwQcfUTe/lLUYl2HihfGIIk8QVBxQzHPxTfWJj19S8MQTIiBDIqRp9Iv5+q/V/G/h7vvL6OzOiYbBN60OBQkhAGIsl2C9+ifel9c87V/iRHYeaZxOSnoki2BTDCkUnDyHNYV54sBOIpKn+ydO6ZyOQ6Lq2rWxY4AEFSIAJfsHhdvQUhppc8KikPsT0Fpk/TEDMYoEOQzPg0BEKT4CgHNaW2GnauGOnIroz/I1NFpcqHnQtTpLl0SJKCNPKPC9JJ6xWluF0yZn//i7EYGXJIokggA5Dig7Hw0DcJ6aQ1NeV+f2Hif/9h7OD0xDwkUSSIOXrOB34pLJEhr6optZ1dMicGszDuOsIhiSJBGI4b4pdYIpDTfUUxfi6ZOcMOugsOQCDJekiA4ep7ROI5ITacRbH6djazh/DSpikgMb4CgkgSOSAQgVePYWHJdNoZDu0Zv1NV7niADI2T5KZpgkMQUSIX0smAz/MEBiFk26god5/6/kxsDa7jkUMQUQIgggwPLkLbsmfBa11dqfKzYKRDkKBKgAhpIOKv4Pbq1XdB4M+kQxBJAsMfSkIaM/9Mz1i9xk8t8NGBLhBQMg+SBA7iy30pdvd61gJ03jB0AMLyX9DOm2NTeldv0AwGCYJVo3JjNWBwnA32hvOAhKWgHMDEKcjYQD4Moq0a1crtzFYDZ71+f38HBi4EkoyIof22wY83QaARcnvVBjIaMpuNONB1eIwNKutAA+QRgG8xK004azgQZF+Hx9isITDOO0C+Wf31Jzn0EIQk86EgAALaNmqV71d9XJ21EsJ8WQBEoFH/tWM3u2rDQBiG8+P8KU4CoUFEYXN6C903kYwUKkETLCFhqfd/HR1PbXwoXXWyzLuCcxaPvolgwX1uIo9UeLjgHmvZ3J8evw6hR81PD/PDQO/dL/Mh9ehInIXdPM+Xd+n+uMA/hmPsL4BEu0GUQszzz/nyKf1WiL4Uck9lCkDYrRJl2Y/jdez7/v6nvr9er+PYl6WouiwuSIifRbxRqGjm+sWFCCoqynzqvfKjrJ4MZAiHVLLNYp84BZSTZcCxjU/kJBsYQ5wS1OqEDDgA2XptIHJSaQRPhqDAlKBVwwCOEAhhhhACjGHoch7FPulgQZjuJDIVQpghKkRkHXDCyQp9MFCa2zQNBtIUAoYYJtmFQY4noylJ08nJQC4kpkkd2UJK0h5vatKQCwmpujpJl1IStjmflVJSygmDF/D2dt4miVNoTx8Y1m4/Pn6cX9K/ldWAgKKf/v8qnlbyMNQKMm/VTE8Jc61QPpXcnoyxzd/OpmXmYJzyFVPEeDIcA7X73RPa7jYMwikBx8dCHmOZzxnETSGNsQw4DmJoWASnEPJfGZdD8F5uCp1JXgy7hI54hWW04zKGRQpvIQYdB6VoOGQRxjgopSgYwyLLOQBpCQUgrOEQMhNncDeeuzjcKovNkMUc2AMQxDmPoAwM3wxZ0NGQnoTBq+UJJ9mKfxJra2tra2tra78BFRzLvlf+I0wAAAAASUVORK5CYII="),blocksFallen=0,fallTix=0,scrollX=posX,scrollY=posY,playerSpeed=8,isSitting=!0,fireTix=0,onFire=!1,inLava=!1,inWater=!1,isDrowning=!1,armorSlots=[0,0,0,0],armorSpecs=[0,0,0,0],keyTimer=50,isSprinting=!1,health=20,heart=requestImage("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGUAAACrCAMAAABIQKI5AAAAbFBMVEUAAABmIAllHwllHwlnHwllHglkGwlmHwnAOAD/SwBnIArJOgDOPADaPwDTPQDfQQDFOQDpRAHkQwDWPgDzRwD5SQDtRgH+VQ79Xx3wWBn8aiyjMAPuZiz6dTt0Iwf0e0aHKAXmUhT1jVy3NQHFGgMLAAAACHRSTlMAqn2rx00c5Da/3QkAAATNSURBVHhe7M2hDQAwCACwhQX+PxmBxeLaB/p2AAAAAED+EXU1NCX2up2oEgUB+AwRJA0I3jBOGw4J7/+Os4u2U0q1rJn6lxXMR/VuLrHI3hyzfcvXTyXP838n8g2AYSrLrusqD2iTcLKtYzZZvtY5/WFfNvu+P51O5/P5vZ4GK/TsFCjr/bQ/nw9dV3pIUnnVGP3xsN9TsUyjc78KGpl19b39wn5vR/X9vpwAZX+F/MKn28PhQAQKHGuYPxxVAY9Mb8y+8Y6nspLCBuKbtgXydUUul/eYfrwzhSHWA7nMCWX2dm5eVlZT2ESmBsr+C8jt+mEh5I0JR1U0Pj6ulpMpxrTdgMar2dg6NKYcYNwsvy1k5lUrcFQLA0IInFCmbRsMcHUmhhyhGALjE1ky28wNPZHfyA3M111pplUmd67bmdKaYsb/cwLD4dhsXBURGIG5mfJ1V5pqeL3VCuf8DgqR7+87wzK9HTVzd+Te94YyUTmWnI0OZaypwJgD5rFMW79TAYJY9Udl518xuRvqJ+VbFYZVwqoulN3otkll6/ysHBsgf6UAgbLocjSlcy5LV6mC8k9dwHyGLph+G5XaO1ekpuKhGPM8lzh9VUIZjoXKzpR6QBndYJUp9Y9iTgh3spQxxmJFFlsMSLJM5sYfhYwVSSLLi3JGFkrqonlzvqo4GDAxvPSVmROu/B5IHIshlddt5twUlFjmfpPBX7iEm78k3iqRHgjHAqWS+Rdu6DouGe6XcObEZ4zmDOd6gRFulRyLKd3g8uU+Hk2JS2ZKeMT0yMkYRBF7gJ0QGKwCBVW60b0th++jgjKRgQPlBGTJnOcAmRVWiYp3Gxl+GZeMZZ4ZhEQ0gEgVKF1XOqeKliFDJ3LBIKJVVNlASZYBow4NIOkqqjhXllJGGHNoCCJVytHlSSWWEQaOpFcEVVaVdYbOmcY6klY4GawZGTos1NMggtFzKi8ULQOGjiQaQLSKKtjJUF4ziBAvkaA4V4iCUAEjDqMGkOcqyatyjUESxCqiSubGcoWBgwgB4yUyLZXcDVF5ZMSJEeMRiYrnPZmbTJhYBw4iRDRQRBBssUzfxshUYFiHjgQEiwCpgITwKcbxj+UKgySJNMLhy/v+lGLgEKLUkICRQsJDTO/9ZJKORg0iJd+UZJcJAwcQIgKIYCjiuWCJMmToEGJA0CDCKtzHWoZMqEOHFn+sWeQZkf9gpIzWAcSQkCKswtlrGa1DCGEFEizC8F1cy4wk6BCSVGLoBtMyXDNxEBHEiBndNlaRZLg01SGk6dTQ0evXCmDUQdICDWZa/2qp2JIRiBhMEorI/lJmJJCUmD/tmVEKwyAQBWtomuIVBBG8/x371Q6ttImbvr83Fxh03yK7IviQUJSvCUATAIlW09lc6TQFiU7Dqk+iQUJN9jW1xyTpoIK+maUdlrCLrWUyXI2OP0zKuQQSHNC0mQR/hEuQAcIV1CjqPq7Ki6Qk49p/vyTjbcUzcL4V409BI8CnNNsPTW8TAQ69n7xYQg11F2poRaEGiVBDTYQaJGLN3yV8Nb01o0DCSMCkpWHJtb8ky0VFepam5oRAkIDCOCdjzbUznmjvjP874Z31IV+KnDUmLRlbZu2lPAxHEbJxFCHrOYkxxhhjjDHGmAf5fyTCiBLBPQAAAABJRU5ErkJggg=="),heartsShowing=!1,shake=2,shaken=!1,armor=0,oldHealth=health,drownCount=0,oxygen=10,shield=requestImage("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGUAAACrCAMAAABIQKI5AAAAb1BMVEUAAABPT09LS0tPT0+zrJ7Bs623q6ays6OsqqmvrKygrpyxs56zr69QUFC3srKqqKiOjY2fnpyZmJa9uralpKPGw8OopqOko5y1sbHV0tLDwLnm5OR6enqDg4OtqqHHurW6tKmip5y4s6VcXFyAgIAA6er5AAAABHRSTlMA2DGdeOrqWQAAA29JREFUeF7swAENAAAAwiD7p7bHB8sAAAAAAM5eHew2DMIAGK6LQEYiJlkKg8HY3v8pR9MeWoleWjuTpv0HXz/ZFysFk1Sg1GYcoc4+SEVzhWNXYA5FMKJP6OequZQsViCiqg6wlLKSaAscplAyCTfdKRb7WF+vA94+UBIa/cWVNpiGiv/WrOFIsUbzZtxA8Zo7HCiNXWl7Kil15aPkdE5ASVsXJQsrzv0dxdqnlH8lyCqIeyrunIDitn5BiVKK911Zr8o7uxIHyqlxr4IDxS7MH/lkL0qMN4rzb82wET/s0N1ugzAMhuEdDX9KtjQ/c7QeWOru/yInrDaCyZ0SVDio+uYIGXgw7xKDtxRPMT2uCn+tlKZoeGTeUHbseAXXP9YJ6J24HRATFsNAt5GHr+tdiCXnc1c5T0xNZBH3kxfTSSQ0NcalEmTqzc0DYa+ROCuBpUCm0XQbsLNjS+FpOG6rWMkfBXMbFNHn3L0CtIXiNykEoPyj+Pmk1BTsomjPobyUl3I6Had8HaF8PqFSNypVnJ2slbMqZVxhAODLPQWGwsPL6MeCorOrloIaZQyp0Dha21wimQpqSrW7mNpr2HhOp6YCLt3VwmiF+Xp9CmArGnWegZqyW7byyz0drCAMA0EY9hBhPWhqU2fEw1L6/g+ppt5cPJSppfnv4WMga6J+KAYf58qxLG2cIyxWMj1NtZczLe3zNDlypBiStvj2kzpsoJSqUK6wIQXtbrF3eoVWq8p9NQXfymmvW/iXLdhsSxN/bOf3MgTKoGYcgZKv1CK0QDH0vc7hsx07am0YhMIw3LQQUtfsyzk9O46SWmT5/79x1lLaLbrhqNsu8uKVHHnwTiTSpNIpMT0qFu0SSgyPKwI3ZReUCv21AlV8BHC/AWyzwOwYMgrUG7Pb3/f6ZLzgCqo7hQ6H79bptG+dKlIKrEnnL4y0hWlKEZNLzohqqeKQUGxW8VFxbWk6V+BNtvO4bf+7siiLgpB+pQD4iYLYryqLsiiURbwCIFesyFxBXrEISfFlXEqRHOPjtHKpYpFQwJxEiBCz7EoMx5JUlJhpFpPiUtFHMLPFJfr8goXOQ3dLC+quyU2pGDEHZXt4lppxVKQTqllUmoGrNgzDsVltxqFyx3GzWvfTsWLTNI39ehWYsWoRCUzTV+kt1jcBeQdb+wChaEE+XwAAAABJRU5ErkJggg=="),shieldsShowing=!1,isDead=!1,jumpHeight=0,blockSelected=0,craftedItem=0,craftedStacks=4,entity={x:[],y:[],type:[],type2:[],length:0},hide=!1,e2open=!0,nether=!1,end=!1,debugMenu=!1,inventory=!1,mobs={type:[],x:[],y:[],health:[],inWater:[],inLava:[],onFire:[],fireTix:[],legPos:[],headPos:[],length:0,state:[],direction:[],specs:[],nether:[],end:[],distance:[]},version="1.14",NEWS="It's finally here. The infamous boss mob that Minecraft can't be complete without. What are you reading me for? GO FIGHT THE ENDER DRAGON!",news=!1,MainArticle="Prepare to get ENDED",endWorld=[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,8,8,8,8,8,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],i=0;i<endWorld.length;i++)for(var j=0;j<40;j++)i<14&&5!==endWorld[i][j]?endWorld[i][j]=0:endWorld[i][j]=59;for(var i=7;i<12;i++)endWorld[11][i]=8;var stronghold=[[61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61],[61,0,0,0,0,0,0,0,0,0,0,0,0,0,0,61],[61,0,0,0,0,0,0,0,0,58,58,58,0,0,0,61],[61,0,0,0,0,0,0,0,58,0,0,0,58,0,0,61],[61,0,0,0,0,0,0,0,58,0,0,0,58,0,0,61],[61,0,0,0,0,0,0,0,58,0,0,0,58,0,0,61],[0,0,0,0,0,0,61,61,0,58,58,58,0,0,0,61],[0,0,0,0,0,61,61,61,0,0,0,0,0,0,0,61],[0,0,0,0,61,61,61,61,61,13,13,13,61,0,0,61],[61,61,61,61,61,61,61,61,61,61,61,61,61,61,61,61]],netherFort=[[0,0,0,57,0,0,36,0,0,57,0,0,0],[0,0,57,57,57,57,57,57,57,57,57,0,0],[0,57,57,57,0,57,57,57,0,57,57,57,0],[57,57,57,0,0,0,57,0,0,0,57,57,57],[19,19,19,13,13,13,57,13,13,13,19,19,19]],newWorld=[[10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,9,9,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,9,9,9,9,9,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,9,9,7,9,9,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,9,9,7,9,9,0,0,41,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,7,0,0,0,0,41,0,0,0,0,0,0,0,0,0,0],[0,0,47,0,7,0,47,0,47,41,0,0,0,0,0,0,0,47,0,47],[2,2,2,2,3,2,2,2,2,2,11,11,11,11,11,11,2,2,2,2],[3,3,3,3,3,3,3,3,3,3,3,3,11,11,11,3,3,3,3,3],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10],[10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10]],specs=[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],power=[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],netherWorld=[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]],invContents=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],invStacks=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],invSpecs=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],hotbar=[0,0,0,0,0,0,0,0,0],hotbarStacks=[0,0,0,0,0,0,0,0,0],hotbarSpecs=[0,0,0,0,0,0,0,0,0],overWorld=newWorld,blockTargeted=[0,0],blockDurability=[],specDurabilities=[];blockDurability[0]=0,blockDurability[1]=65,blockDurability[2]=10,blockDurability[3]=10,blockDurability[4]=70,blockDurability[5]=35,blockDurability[6]=50,blockDurability[7]=30,blockDurability[8]=2e3,blockDurability[9]=5,blockDurability[15]=0,blockDurability[16]=0,blockDurability[17]=0,blockDurability[19]=15,blockDurability[20]=10,blockDurability[21]=10,blockDurability[22]=80,blockDurability[23]=85,blockDurability[24]=80,blockDurability[25]=90,blockDurability[26]=100,blockDurability[27]=40,blockDurability[28]=30,blockDurability[29]=30,blockDurability[30]=15,blockDurability[31]=5,blockDurability[32]=30,blockDurability[33]=90,blockDurability[34]=40,blockDurability[35]=70,blockDurability[36]=100,blockDurability[37]=90,blockDurability[38]=95,blockDurability[39]=115,blockDurability[40]=0,blockDurability[41]=0,blockDurability[42]=0,blockDurability[43]=120,blockDurability[44]=0,blockDurability[46]=10,blockDurability[47]=0,blockDurability[48]=0,blockDurability[49]=90,blockDurability[50]=90,blockDurability[51]=85,blockDurability[52]=80,blockDurability[53]=85,blockDurability[54]=20,blockDurability[57]=60,blockDurability[59]=55,blockDurability[61]=70;var blockStrength=null,selDurability=null,isCrafting=!1,isSmelting=!1,onChest=!1;noCursor();for(var c=0,place=0,jump=0,fall=10,a=0,b=0,g,h,pickedUp=!1,world=newWorld,flameX=[],flameY=[],flameSpeed=[],i=0;i<40;i++)flameX[i]=random(3,17),flameY[i]=random(5,15),flameSpeed[i]=random(1,2);var s,drawFlame=function(e,l,r){noStroke();for(var o=0;o<80;o++)s=dist(flameX[o],flameY[o],10,15),fill(255,255-10*s,0),ellipse(e+flameX[o]*r,l+flameY[o]*r,1.5*r,2.5*r)},getItem=function(e,l){for(var r=0;r<l;r++){for(var o=0;o<9;o++)(0===hotbarStacks[o]||hotbar[o]===e)&&!pickedUp&&hotbarStacks[o]<maxStacks[e]&&(hotbar[o]=e,0!==hotbar[o]&&(hotbarSpecs[o]=itemDurabilities[e],hotbarStacks[o]++),pickedUp=!0);for(var t=0;t<4;t++)for(var s=0;s<6;s++)(0===invStacks[s][t]||invContents[s][t]===e)&&!pickedUp&&invStacks[s][t]<maxStacks[e]&&(invContents[s][t]=e,invSpecs[s][t]=itemDurabilities[e],0!==invContents[s][t]&&invStacks[s][t]++,pickedUp=!0);pickedUp=!1}},spawnMobs=function(e,l,r,o){for(var t=!0,s=0;s<world.length;s++)for(var i=0;i<world[0].length;i++)40===world[s][i]&&dist(40*i,40*s,e,l)<250&&(t=!1);if(dist(e,l,40*posA,40*posB)<150&&(t=!1),t){switch(append(mobs.type,r),append(mobs.x,e),append(mobs.y,l),r){case 0:case 3:append(mobs.health,10);break;case 4:append(mobs.health,30);break;case 6:append(mobs.health,10);break;case 7:append(mobs.health,40);break;case 8:append(mobs.health,200);break;default:append(mobs.health,20)}if(append(mobs.inWater,!1),append(mobs.inLava,!1),append(mobs.onFire,!1),append(mobs.fireTix,!1),append(mobs.state,0),append(mobs.legPos,0),append(mobs.nether,nether),append(mobs.end,end),o?append(mobs.distance,o):append(mobs.distance,0),append(mobs.specs,[]),7===mobs.type[mobs.length]&&(mobs.specs[mobs.length]=[0,0]),6===mobs.type[mobs.length]&&(mobs.specs[mobs.length]=1),5===mobs.type[mobs.length])switch(round(random(0,20))){case 0:mobs.specs[mobs.length]=[21,349,306,10,1,round(random(4,5))];break;case 1:mobs.specs[mobs.length]=[0,346,349,0,round(random(18,21)),1];break;case 2:mobs.specs[mobs.length]=[0,349,332,0,round(random(2,3)),1];break;case 3:mobs.specs[mobs.length]=[0,349,333,0,4,1];break;case 4:mobs.specs[mobs.length]=[0,349,334,0,round(random(2,3)),1];break;case 5:mobs.specs[mobs.length]=[0,349,335,0,round(random(2,3)),1];break;case 6:mobs.specs[mobs.length]=[0,349,316,0,round(random(12,13)),1];break;case 7:mobs.specs[mobs.length]=[0,349,311,0,round(random(10,11)),1];break;case 8:mobs.specs[mobs.length]=[0,349,320,0,round(random(4,5)),1];break;case 9:mobs.specs[mobs.length]=[0,349,321,0,round(random(10,13)),1];break;case 10:mobs.specs[mobs.length]=[0,349,322,0,round(random(8,9)),1];break;case 11:mobs.specs[mobs.length]=[0,349,323,0,round(random(4,5)),1];break;case 12:mobs.specs[mobs.length]=[0,349,319,0,1,round(random(6,7))];break;case 13:mobs.specs[mobs.length]=[0,302,349,0,round(random(8,9)),1];break;case 14:mobs.specs[mobs.length]=[0,305,349,0,round(random(4,5))];break;case 15:mobs.specs[mobs.length]=[0,317,349,0,round(random(14,17)),1];break;case 16:mobs.specs[mobs.length]=[0,301,349,0,round(random(16,23)),1];break;case 17:mobs.specs[mobs.length]=[0,349,17,0,3,1];break;case 18:mobs.specs[mobs.length]=[0,349,309,0,round(random(7,8)),1];break;case 19:mobs.specs[mobs.length]=[0,349,314,0,round(random(7,10)),1];break;default:mobs.specs[mobs.length]=[0,303,349,0,round(random(8,9)),1]}mobs.length++}},getBlock=function(e,l){try{return world[e][l]}catch(e){return 0}},getSpecs=function(e,l){try{return specs[e][l]}catch(e){return 0}},getPower=function(e,l){try{return power[e][l]}catch(e){return 0}},setBlock=function(e,l,r){try{world[e][l]=r}catch(e){}},setSpecs=function(e,l,r){try{specs[e][l]=r}catch(e){}},setPower=function(e,l,r){try{power[e][l]=r}catch(e){}},genWorld=function(){if(!end){nether||(round(random(0,30))||(curBiome=round(random(0,3))),append(biomes,curBiome));for(var e=0;e<world.length;e++)if(nether){if(e<14?e>3?append(world[e],0):e>1?append(world[e],19):append(world[e],10):e>=14&&(e>38?append(world[e],10):append(world[e],19)),!round(random(0,3e3)))for(var l=world[0].length-13,r=0;r<5;r++)for(m=0;m<13;m++)world[r+10][m+l]=netherFort[r][m];if(round(random(0,6))||13!==e||setBlock(e,world[e].length,17),!round(random(0,50))&&9===e){for(r=0;r<5;r++)for(m=0;m<4;m++)setBlock(e+r,world[0].length-m,8);for(r=1;r<4;r++)for(m=1;m<3;m++)setBlock(e+r,world[0].length-m,18)}if(3===e&&!round(random(0,12))){if(setBlock(e,world[e].length-round(random(2,4)),13),!world[14][world[14].length])for(r=world[14].length;r<world[e].length;r++)setBlock(14,r,9);world[14][world[0].length-5]=13,world[14][world[0].length-4]=13,world[14][world[0].length-3]=13,world[14][world[0].length-2]=13,world[14][world[0].length-1]=13,world[15][world[0].length-3]=13,world[15][world[0].length-2]=13}}else{if(!round(random(0,6e3))){for(r=0;r<5;r++){world[14][world[0].length-r-1]=5;for(m=0;m<4;m++)world[9+r][world[0].length-m-1]=0}for(r=0;r<3;r++)world[9+r][world[0].length-1]=7,world[9+r][world[0].length-5]=7,world[10][world[0].length-r-2]=5;world[13][world[0].length-1]=28,world[13][world[0].length-5]=28,world[12][world[0].length-1]=29,world[12][world[0].length-5]=29;for(r=0;r<2;r++)for(m=0;m<2;m++)specs[12+r][world[0].length-4*m-1]=1;spawnMobs(40*(world[0].length-2),500,5)}if(!round(random(0,3e3))&&3!==curBiome){for(r=0;r<5;r++)for(m=0;m<7;m++)world[9+r][world[0].length-m-1]=0;var o=world[0].length-1;world[13][o]=7,world[13][o-6]=7;for(r=1;r<=5;r++)3!==r?(world[13][o-r]=46,world[12][o-r]=48,specs[12][o-r]=round(random(0,7))):world[13][o-r]=11;spawnMobs(40*(world[0].length-2),460,5)}if(round(random(0,1500)));else if(round(random(0,5))){if(e>18&&e<30){for(var l=world[0].length,t=round(random(2,4)),s=2*t+1,i=round(random(4,6)),r=l-s;r<l;r++){for(m=e;m<e+i;m++)if(world[m][r]=0,r!==l-s&&r!==l-1||(world[m][r]=4),r===l-s-1||r===l-2)if(round(random(0,0)));else{var a=r,n=e+i-1;world[e+i-1][r]=34,specs[e+i-1][r]=[[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]]];for(var d=0;d<6;d++)for(var u=0;u<4;u++)if(!round(random(0,5))){var h,p,f=random(0,100);f<=100&&(h=0,p=0,f<25?f<12?(h=302,p=round(random(1,4))):(h=42,p=round(random(2,8))):f<50?f<39?(h=303,p=round(random(1,4))):(h=347,p=round(random(1,4))):f<75?f<63?(h=309,p=1):(h=314,p=1):(p=1,f<80?h=320:f<85?h=321:f<90?h=322:f<95?h=323:(h=305,p=round(random(1,5))))),specs[n][a][0][d][u]=h,specs[n][a][1][d][u]=p,itemDurabilities[h]&&(specs[n][a][2][d][u]=itemDurabilities[h])}}round(random(0,1))?world[e+i][r]=4:world[e+i][r]=35}world[e+i-1][l-t-1]=36}}else for(var l=world[0].length-16,r=0;r<10;r++)for(var m=0;m<16;m++)world[r+20][m+l]=stronghold[r][m],58!==world[r+20][m+l]||round(random(0,5))||(specs[r+20][m+l]=1);if(e<14?0===e?append(world[e],10):append(world[e],0):14===e&&1!==curBiome?append(world[e],2):e>14&&e<18&&1!==curBiome?append(world[e],3):e>17&&e<38?append(world[e],1):e>37&&append(world[e],10),e>13&&e<18&&1===curBiome&&append(world[e],20),round(random(0,1))||13!==e||0!==biomes[biomes.length-1]||append(world[e],47),round(random(0,10)));else if(2===curBiome&&14===e&&(world[e][world[0].length-5]=11,world[e][world[0].length-4]=11,world[e][world[0].length-3]=11,world[e][world[0].length-2]=11,world[e][world[0].length-1]=11,world[e+1][world[0].length-3]=11,world[e+1][world[0].length-2]=11,!round(random(0,5))))for(r=0;r<round(random(2,4));r++)world[e-1-r][world[0].length-6]=41;if(round(random(0,5))||13===e&&1===curBiome&&(world[e][world[0].length]=31,world[e-1][world[0].length]=31,world[e-2][world[0].length]=31),round(random(0,4))||1!==curBiome&&11!==world[14][world[0].length]&&13===e&&11!==world[e+1][world[0].length]&&(world[e][world[0].length]=7,world[e-1][world[0].length]=7,world[e-2][world[0].length]=7,world[e-3][world[0].length]=7,world[e-2][world[0].length-2]=9,world[e-2][world[0].length-1]=9,world[e-2][world[0].length+1]=9,world[e-2][world[0].length+2]=9,world[e-3][world[0].length-2]=9,world[e-3][world[0].length-1]=9,world[e-3][world[0].length+1]=9,world[e-3][world[0].length+2]=9,world[e-4][world[0].length-2]=9,world[e-4][world[0].length-1]=9,world[e-4][world[0].length]=9,world[e-4][world[0].length+1]=9,world[e-4][world[0].length+2]=9,world[e-5][world[0].length-1]=9,world[e-5][world[0].length]=9,world[e-5][world[0].length+1]=9),e<37&&e>30&&!round(random(0,50))){for(r=0;r<6;r++)world[e][world[e].length-r-1]=13;for(r=round(random(1,2));r<random(3,5);r++)world[e+1][world[e].length-r-1]=13}if(round(random(0,5)));else{if(!round(random(0,15))&&e>30&&e<38&&(world[e][world[0].length]=49),round(random(0,3)));else if(e>18&&e<38)switch(c=round(random(0,5))){case 1:world[e][world[0].length]=22;break;case 2:world[e][world[0].length]=22,world[e][world[0].length-1]=22;break;case 3:world[e][world[0].length]=22,world[e][world[0].length-1]=22,world[e+1][world[0].length]=22,world[e+1][world[0].length-1]=1;break;case 4:world[e][world[0].length]=22,world[e][world[0].length-1]=22,world[e+1][world[0].length]=22,world[e+1][world[0].length-1]=22}if(round(random(0,8)));else if(e>18&&e<38)switch(c=round(random(0,9))){case 1:world[e][world[0].length]=23;break;case 2:world[e][world[0].length]=23,world[e][world[0].length-1]=23;break;case 3:world[e][world[0].length]=23,world[e][world[0].length-1]=23,world[e+1][world[0].length]=23,world[e+1][world[0].length-1]=1;break;case 4:world[e][world[0].length]=23,world[e][world[0].length-1]=23,world[e+1][world[0].length]=23,world[e+1][world[0].length-1]=23}if(round(random(0,8)));else if(e>28&&e<38)switch(c=round(random(0,1))){case 1:world[e][world[0].length]=24;break;case 2:world[e][world[0].length]=24,world[e][world[0].length-1]=24;break;case 3:world[e][world[0].length]=24,world[e][world[0].length-1]=24,world[e+1][world[0].length]=24,world[e+1][world[0].length-1]=1;break;case 4:world[e][world[0].length]=24,world[e][world[0].length-1]=24,world[e+1][world[0].length]=24,world[e+1][world[0].length-1]=24}if(round(random(0,8)));else if(e>18&&e<38)switch(c=round(random(0,5))){case 1:world[e][world[0].length]=23;break;case 2:world[e][world[0].length]=23,world[e][world[0].length-1]=23;break;case 3:world[e][world[0].length]=23,world[e][world[0].length-1]=23,world[e+1][world[0].length]=23,world[e+1][world[0].length-1]=1;break;case 4:world[e][world[0].length]=23,world[e][world[0].length-1]=23,world[e+1][world[0].length]=23,world[e+1][world[0].length-1]=23}if(round(random(0,12)));else if(e>33&&e<38)switch(c=round(random(0,5))){case 1:world[e][world[0].length]=25;break;case 2:world[e][world[0].length]=25,world[e][world[0].length-1]=25;break;case 3:world[e][world[0].length]=25,world[e][world[0].length-1]=25,world[e+1][world[0].length]=25,world[e+1][world[0].length-1]=1;break;case 4:world[e][world[0].length]=25,world[e][world[0].length-1]=25,world[e+1][world[0].length]=25,world[e+1][world[0].length-1]=25}if(round(random(0,2)));else if(e>33&&e<38)switch(c=round(random(0,5))){case 1:world[e][world[0].length]=43;break;case 2:world[e][world[0].length]=43,world[e][world[0].length-1]=43;break;case 3:world[e][world[0].length]=43,world[e][world[0].length-1]=43,world[e+1][world[0].length]=43,world[e+1][world[0].length-1]=1;break;case 4:world[e][world[0].length]=43,world[e][world[0].length-1]=43,world[e+1][world[0].length]=43,world[e+1][world[0].length-1]=43}if(round(random(0,20)));else if(e>33&&e<38)switch(c=round(random(0,5))){case 1:world[e][world[0].length]=26;break;case 2:world[e][world[0].length]=26,world[e][world[0].length-1]=26;break;case 3:world[e][world[0].length]=26,world[e][world[0].length-1]=26,world[e+1][world[0].length]=26,world[e+1][world[0].length-1]=1;break;case 4:world[e][world[0].length]=26,world[e][world[0].length-1]=26,world[e+1][world[0].length]=26,world[e+1][world[0].length-1]=26}e>20&&e<36&&(round(random(0,13))||(world[e-2][world[0].length-1]=3,world[e-2][world[0].length]=3,world[e-2][world[0].length+1]=3,world[e-1][world[0].length-2]=3,world[e-1][world[0].length-1]=3,world[e-1][world[0].length]=3,world[e-1][world[0].length+1]=3,world[e-1][world[0].length+2]=3,world[e][world[0].length-2]=3,world[e][world[0].length-1]=3,world[e][world[0].length]=3,world[e][world[0].length+1]=3,world[e][world[0].length+2]=3,world[e+1][world[0].length-2]=3,world[e+1][world[0].length-1]=3,world[e+1][world[0].length]=3,world[e+1][world[0].length+1]=3,world[e+1][world[0].length+2]=3,world[e+2][world[0].length-1]=3,world[e+2][world[0].length]=3,world[e+2][world[0].length+1]=3)),e>20&&e<36&&(round(random(0,13))||(world[e-2][world[0].length-1]=21,world[e-2][world[0].length]=21,world[e-2][world[0].length+1]=21,world[e-1][world[0].length-2]=21,world[e-1][world[0].length-1]=21,world[e-1][world[0].length]=21,world[e-1][world[0].length+1]=21,world[e-1][world[0].length+2]=21,world[e][world[0].length-2]=21,world[e][world[0].length-1]=21,world[e][world[0].length]=21,world[e][world[0].length+1]=21,world[e][world[0].length+2]=21,world[e+1][world[0].length-2]=21,world[e+1][world[0].length-1]=21,world[e+1][world[0].length]=21,world[e+1][world[0].length+1]=21,world[e+1][world[0].length+2]=21,world[e+2][world[0].length-1]=21,world[e+2][world[0].length]=21,world[e+2][world[0].length+1]=21))}}}},spawnEntity=function(e,l,r,o){append(entity.x,e),append(entity.y,l),append(entity.type,r),append(entity.type2,o),entity.length++},drawBlocks=function(e,l,r){switch(noStroke(),strokeWeight(2),e){case 1:fill(122,122,122),rect(l,r,20,20);break;case 2:fill(130,56,0),rect(l,r,20,20),fill(0,200,0),rect(l,r,20,5);break;case 3:fill(130,56,0),rect(l,r,20,20);break;case 4:fill(122,122,122),strokeWeight(2),stroke(71,71,71),rect(l,r,10,10),rect(l+10,r+10,10,10),rect(l,r+10,10,10),rect(l+10,r,10,10),noStroke();break;case 5:fill(201,153,80),rect(l,r,20,20),stroke(120,83,44),strokeWeight(2),line(l,r,l+20,r),line(l,r+5,l+20,r+5),line(l,r+10,l+20,r+10),line(l,r+15,l+20,r+15),noStroke();break;case 6:fill(181,97,58),rect(l,r,20,20),stroke(237,209,176),line(l,r,l+20,r),line(l+5,r,l+5,r+3),line(l+15,r,l+15,r+3),line(l,r+5,l+20,r+5),line(l+10,r+5,l+10,r+8),line(l,r+10,l+20,r+10),line(l+5,r+10,l+5,r+13),line(l+15,r+10,l+15,r+13),line(l,r+15,l+20,r+15),line(l+10,r+15,l+10,r+18),noStroke();break;case 7:fill(107,50,0),rect(l,r,20,20),stroke(59,32,0),strokeWeight(2),line(l,r,l,r+18),line(l+20,r,l+20,r+18),noStroke();break;case 8:fill(40,3,82),rect(l,r,20,20);break;case 9:fill(8,168,0),rect(l,r,5,5),rect(l+10,r,5,5),rect(l+5,r+5,5,5),rect(l+15,r+5,5,5),rect(l,r+10,5,5),rect(l+10,r+10,5,5),rect(l+5,r+15,5,5),rect(l+15,r+15,5,5);break;case 11:fill(120,120,120),ellipse(l+10,r+19,15,8),rect(l+2,r+4,16,15),ellipse(l+10,r+3,15,8),fill(0,104,250),ellipse(l+10,r+3,12,6);break;case 13:fill(120,120,120),ellipse(l+10,r+19,15,8),rect(l+2,r+4,16,15),ellipse(l+10,r+3,15,8),fill(255,149,0),ellipse(l+10,r+3,12,6);break;case 15:fill(255,0,0),rect(l,r,20,20),fill(255,255,255),rect(l,r+5,20,10);break;case 16:fill(107,50,0),rect(l+9,r+12,2,8),fill(8,168,0),rect(l+5,r+7,10,5),rect(l+7,r+5,5,10);break;case 17:fill(89,89,89),triangle(l+8,r+20,l+20,r+8,l+20,r+20),fill(120),ellipse(l+6,r+5,8,8),fill(this.get(l,r)),ellipse(l+8,r+6,7,7);break;case 19:fill(99,21,2),rect(l,r,20,20);break;case 20:fill(255,230,166),rect(l,r,20,20);break;case 21:fill(136,127,140),rect(l,r,20,20);break;case 22:fill(122,122,122),rect(l,r,20,20),fill(0,0,0),ellipse(l+5,r+5,4,4),ellipse(l+14,r+6,5,5),ellipse(l+10,r+9,3,3),ellipse(l+5,r+12,6,4),ellipse(l+14,r+15,9,7);break;case 23:fill(122,122,122),rect(l,r,20,20),fill(191,155,82),ellipse(l+5,r+5,4,4),ellipse(l+14,r+6,5,5),ellipse(l+10,r+9,3,3),ellipse(l+5,r+12,6,4),ellipse(l+14,r+15,9,7);break;case 24:fill(122,122,122),rect(l,r,20,20),fill(255,234,0),ellipse(l+5,r+5,4,4),ellipse(l+14,r+6,5,5),ellipse(l+10,r+9,3,3),ellipse(l+5,r+12,6,4),ellipse(l+14,r+15,9,7);break;case 25:fill(122,122,122),rect(l,r,20,20),fill(0,21,255),ellipse(l+5,r+5,4,4),ellipse(l+14,r+6,5,5),ellipse(l+10,r+9,3,3),ellipse(l+5,r+12,6,4),ellipse(l+14,r+15,9,7);break;case 26:fill(122,122,122),rect(l,r,20,20),fill(0,238,255),ellipse(l+5,r+5,4,4),ellipse(l+14,r+6,5,5),ellipse(l+10,r+9,3,3),ellipse(l+5,r+12,6,4),ellipse(l+14,r+15,9,7);break;case 27:fill(201,153,80),rect(l,r,20,20),stroke(120,83,44),strokeWeight(2),line(l,r,l+20,r),line(l,r+5,l+20,r+5),line(l,r+10,l+20,r+10),line(l,r+15,l+20,r+15),line(l,r,l,r+20),line(l+20,r,l+20,r+20),fill(255,230,199),triangle(l+1,r,l+10,r+8,l+19,r),stroke(122,122,122),line(l+5,r+10,l+5,r+17),line(l+15,r+8,l+15,r+15),noStroke();break;case 28:fill(201,153,80),stroke(120,83,44),rect(l+3,r,13,20),line(l+3,r+10,l+15,r+10),fill(66,66,66),stroke(66,66,66),strokeWeight(3),line(l+15,r+12,l+13,r+12),strokeWeight(2);break;case 30:stroke(120,83,44),strokeWeight(3),line(l,r,l,r+20),line(l+20,r,l+20,r+20),line(l,r+5,l+20,r+5),line(l,r+11,l+20,r+11),line(l,r+17,l+20,r+17),strokeWeight(2);break;case 31:stroke(0,0,0),line(l+1,r+2,l+18,r+2),line(l+1,r+6,l+18,r+6),line(l+1,r+10,l+18,r+10),line(l+1,r+14,l+18,r+14),line(l+1,r+18,l+18,r+18),fill(0,130,0),noStroke(),rect(l+2,r,16,20);break;case 32:strokeWeight(1),fill(199,230,255),rect(l,r,20,20),stroke(255),line(l+5,r+15,l+10,r+10),line(l+3,r+8,l+8,r+3),stroke(92,171,255),line(l+13,r+18,l+18,r+13),line(l+10,r+8,l+15,r+3);break;case 33:strokeWeight(2),stroke(71,71,71),fill(168,168,168),rect(l,r,20,10),fill(0),ellipse(l+10,r+10,13,11),fill(122,122,122),rect(l,r+10,20,10),fill(0);for(var o=[],t=[],s=0;s<4;s++)o[s]=6.5*sin(60*s+90)+l+10,t[s]=6.5*cos(60*s+90)+r+20;bezier(o[0],t[0],o[1],t[1],o[2],t[2],o[3],t[3]),noStroke();break;case 34:fill(184,133,57),stroke(120,83,44),rect(l+1,r,18,19),line(l+1,r+5,l+18,r+5),line(l+1,r+10,l+18,r+10),line(l+1,r+15,l+18,r+15),strokeWeight(1),fill(225),stroke(200),rect(l+8,r+3,3,6);break;case 35:fill(122,122,122),strokeWeight(2),stroke(45,87,11),rect(l,r,10,10),rect(l+10,r,10,10),rect(l,r+10,10,10),rect(l+10,r+10,10,10),noStroke(),fill(166,194,134),triangle(l+2,r,l+6,r,l+4,r+5),triangle(l+13,r,l+17,r,l+15,r+10),triangle(l+8,r+11,l+13,r+11,l+11,r+18),triangle(l+2,r+13,l+7,r+13,l+4,r+19);break;case 36:stroke(4,68,77),noFill(),rect(l,r,20,20),line(l+5,r,l+5,r+18),line(l+15,r,l+15,r+18),line(l,r+5,l+18,r+5),line(l,r+15,l+18,r+15);break;case 37:fill(230),stroke(140),rect(l,r,20,20);break;case 38:fill(255,234,0),stroke(209,157,0),rect(l,r,20,20);break;case 39:stroke(0,148,148),fill(0,255,255),rect(l,r,20,20);break;case 40:strokeWeight(4),stroke(120,83,44),line(l+10,r+8,l+10,r+17),stroke(255,251,181),point(l+10,r+6);break;case 41:fill(139,235,115),quad(l+1,r+13,l+6,r+17,l+20,r+3,l+12,r-3),fill(167,255,145),quad(l+3,r+15,l+6,r+20,l+20,r+5,l+14,r+0);break;case 42:fill(219,0,0),stroke(100,0,0),triangle(l+10,r+5,l+18,r+15,l+2,r+15);break;case 43:fill(122,122,122),rect(l,r,20,20),fill(230,0,0),ellipse(l+5,r+5,4,4),ellipse(l+14,r+6,5,5),ellipse(l+10,r+9,3,3),ellipse(l+5,r+12,6,4),ellipse(l+14,r+15,9,7);break;case 44:strokeWeight(4),stroke(120,83,44),line(l+10,r+8,l+10,r+17),fill(255,0,0),noStroke(),ellipse(l+10,r+6,7,7),stroke(255,181,181),point(l+10,r+6);break;case 45:fill(255,152,92),rect(l,r,20,20),stroke(181,91,38),fill(255,205,176),quad(l+5,r+1,l+1,r+5,l+15,r+19,l+19,r+15),quad(l+15,r+1,l+19,r+5,l+5,r+19,l+1,r+15),fill(245),stroke(225),rect(l+5,r+5,10,10),stroke(255,0,0),point(l+10,r+10),point(l+7,r+7),point(l+13,r+7),stroke(0,200,0),point(l+10,r+7),point(l+13,r+13),stroke(255,200,0),point(l+10,r+13),point(l+13,r+10),point(l+7,r+10),point(l+7,r+13);break;case 47:fill(0,200,0),rect(l,r+10,3,10),rect(l+5,r+5,3,15),rect(l+10,r+6,3,14),rect(l+15,r+11,3,9);break;case 48:fill(200,225,0),ellipse(l+15,r+15,5,5),ellipse(l+5,r+10,3,3),ellipse(l+10,r+5,2,2),ellipse(l+15,r+7,4,4);break;case 49:fill(122,122,122),rect(l,r,20,20),fill(0,225,0),ellipse(l+5,r+5,4,4),ellipse(l+14,r+6,5,5),ellipse(l+10,r+9,3,3),ellipse(l+5,r+12,6,4),ellipse(l+14,r+15,9,7);break;case 50:stroke(0,150,0),fill(0,255,0),rect(l,r,20,20),quad(l+10,r,l+20,r+10,l+10,r+20,l,r+10),rect(l+5,r+5,10,10);break;case 51:stroke(150,0,0),fill(255,0,0),rect(l,r,20,20);break;case 52:stroke(0),fill(50),rect(l,r,20,20);break;case 53:stroke(0,0,150),fill(0,0,255),rect(l,r,20,20);break;case 54:fill(245),rect(l,r,20,20);break;case 55:fill(255),stroke(225),arc(l+15,r+10,10,4,190,350),stroke(200,0,0),fill(255,0,0),rect(l,r+10,20,7);break;case 57:fill(100,0,50),rect(l,r,20,20),stroke(75,0,25),line(l,r,l+20,r),line(l+5,r,l+5,r+3),line(l+15,r,l+15,r+3),line(l,r+5,l+20,r+5),line(l+10,r+5,l+10,r+8),line(l,r+10,l+20,r+10),line(l+5,r+10,l+5,r+13),line(l+15,r+10,l+15,r+13),line(l,r+15,l+20,r+15),line(l+10,r+15,l+10,r+18),noStroke();break;case 58:stroke(0,97,92),fill(255,255,204),rect(l,r,20,20),fill(0),rect(l+7,r+5,6,10);break;case 59:fill(255,255,204),rect(l,r,20,20);break;case 60:fill(45,0,45),rect(l,r,20,20);break;case 61:stroke(80),fill(122,122,122),rect(l,r,20,20),line(l,r+10,l+18,r+10),line(l+10,r+10,l+10,r+18);break;case 300:stroke(120,83,44),strokeWeight(3),line(l+1,r+19,l+19,r+1);break;case 301:stroke(0,0,0),fill(59,54,59),ellipse(l+10,r+10,15,17);break;case 302:stroke(163,163,163),fill(209,209,209),rect(l,r+10,20,10),quad(l,r+9,l+5,r+6,l+15,r+6,l+19,r+9);break;case 303:stroke(189,151,0),fill(255,200,0),rect(l,r+10,20,10),quad(l,r+9,l+5,r+6,l+15,r+6,l+19,r+9);break;case 304:stroke(0,0,117),fill(0,21,255),ellipse(l+10,r+10,15,17);break;case 305:stroke(0,148,148),fill(0,255,255),quad(l+10,r,l+20,r+10,l+10,r+20,l,r+10),rect(l+5,r+5,10,10);break;case 306:fill(89,89,89),triangle(l+1,r+20,l+20,r+1,l+20,r+20);break;case 307:fill(207,147,44),stroke(120,83,44),ellipse(l+10,r+10,20,20),noStroke(),fill(this.get(l,r)),ellipse(l+7,r+13,22,22),stroke(120,83,44),strokeWeight(3),line(l+1,r+19,l+15,r+5),strokeWeight(2);break;case 308:fill(150),stroke(120),ellipse(l+10,r+10,20,20),noStroke(),fill(this.get(l,r)),ellipse(l+7,r+13,22,22),stroke(120,83,44),strokeWeight(3),line(l+1,r+19,l+15,r+5),strokeWeight(2);break;case 309:fill(230),stroke(140),ellipse(l+10,r+10,20,20),noStroke(),fill(this.get(l,r)),ellipse(l+7,r+13,22,22),stroke(120,83,44),strokeWeight(3),line(l+1,r+19,l+15,r+5),strokeWeight(2);break;case 310:fill(255,234,0),stroke(209,157,0),ellipse(l+10,r+10,20,20),noStroke(),fill(this.get(l,r)),ellipse(l+7,r+13,22,22),stroke(120,83,44),strokeWeight(3),line(l+1,r+19,l+15,r+5),strokeWeight(2);break;case 311:stroke(0,148,148),fill(0,255,255),ellipse(l+10,r+10,20,20),noStroke(),fill(this.get(l,r)),ellipse(l+7,r+13,22,22),stroke(120,83,44),strokeWeight(3),line(l+1,r+19,l+15,r+5),strokeWeight(2);break;case 312:fill(207,147,44),stroke(120,83,44),quad(l+3,r+13,l+7,r+17,l+20,r+5,l+15,r),triangle(l+20,r+4,l+20,r,l+16,r),noStroke(),quad(l+5,r+15,l+5,r+15,l+19,r+4,l+16,r+1),triangle(l+16,r+1,l+19,r+4,l+19,r+1),stroke(120,83,44),strokeWeight(3),line(l,r+20,l+5,r+15),line(l+1,r+11,l+9,r+19),strokeWeight(2);break;case 313:fill(150),stroke(120),quad(l+3,r+13,l+7,r+17,l+20,r+5,l+15,r),triangle(l+20,r+4,l+20,r,l+16,r),noStroke(),quad(l+5,r+15,l+5,r+15,l+19,r+4,l+16,r+1),triangle(l+16,r+1,l+19,r+4,l+19,r+1),stroke(120,83,44),strokeWeight(3),line(l,r+20,l+5,r+15),line(l+1,r+11,l+9,r+19),strokeWeight(2);break;case 314:fill(230),stroke(140),quad(l+3,r+13,l+7,r+17,l+20,r+5,l+15,r),triangle(l+20,r+4,l+20,r,l+16,r),noStroke(),quad(l+5,r+15,l+5,r+15,l+19,r+4,l+16,r+1),triangle(l+16,r+1,l+19,r+4,l+19,r+1),stroke(120,83,44),strokeWeight(3),line(l,r+20,l+5,r+15),line(l+1,r+11,l+9,r+19),strokeWeight(2);break;case 315:fill(255,234,0),stroke(209,157,0),quad(l+3,r+13,l+7,r+17,l+20,r+5,l+15,r),triangle(l+20,r+4,l+20,r,l+16,r),noStroke(),quad(l+5,r+15,l+5,r+15,l+19,r+4,l+16,r+1),triangle(l+16,r+1,l+19,r+4,l+19,r+1),stroke(120,83,44),strokeWeight(3),line(l,r+20,l+5,r+15),line(l+1,r+11,l+9,r+19),strokeWeight(2);break;case 316:stroke(0,148,148),fill(0,255,255),quad(l+3,r+13,l+7,r+17,l+20,r+5,l+15,r),triangle(l+20,r+4,l+20,r,l+16,r),noStroke(),quad(l+5,r+15,l+5,r+15,l+19,r+4,l+16,r+1),triangle(l+16,r+1,l+19,r+4,l+19,r+1),stroke(120,83,44),strokeWeight(3),line(l,r+20,l+5,r+15),line(l+1,r+11,l+9,r+19),strokeWeight(2);break;case 317:noFill(),stroke(191,103,103),strokeWeight(14),bezier(l+3,r+15,l+8,r+13,l+13,r+8,l+15,r+3),stroke(255,171,171),strokeWeight(10),bezier(l+3,r+15,l+8,r+13,l+13,r+8,l+15,r+3);break;case 318:stroke(100),fill(150),triangle(l+10,r+5,l+20,r+15,l,r+15);break;case 319:noFill(),stroke(148,113,61),strokeWeight(14),bezier(l+3,r+15,l+8,r+13,l+13,r+8,l+15,r+3),stroke(207,175,95),strokeWeight(10),bezier(l+3,r+15,l+8,r+13,l+13,r+8,l+15,r+3);break;case 320:fill(230),stroke(140),rect(l,r,20,20,10),noStroke(),fill(this.get(l,r)),rect(l+5,r+8,11,15,5);break;case 321:fill(230),stroke(140),rect(l,r,20,5,10),rect(l,r,20,20,10);break;case 322:fill(230),stroke(140),rect(l,r,8,20,10),rect(l+12,r,8,20,10),rect(l,r,20,10,10);break;case 323:fill(230),stroke(140),rect(l,r+10,8,10,10),rect(l+12,r+10,8,10,10);break;case 324:fill(255,234,0),stroke(209,157,0),rect(l,r,20,20,10),noStroke(),fill(this.get(l,r)),rect(l+5,r+8,11,15,5);break;case 325:fill(255,234,0),stroke(209,157,0),rect(l,r,20,5,10),rect(l,r,20,20,10);break;case 326:fill(255,234,0),stroke(209,157,0),rect(l,r,8,20,10),rect(l+12,r,8,20,10),rect(l,r,20,10,10);break;case 327:fill(255,234,0),stroke(209,157,0),rect(l,r+10,8,10,10),rect(l+12,r+10,8,10,10);break;case 328:stroke(0,148,148),fill(0,255,255),rect(l,r,20,20,10),noStroke(),fill(this.get(l,r)),rect(l+5,r+8,11,15,5);break;case 329:stroke(0,148,148),fill(0,255,255),rect(l,r,20,5,10),rect(l,r,20,20,10);break;case 330:stroke(0,148,148),fill(0,255,255),rect(l,r,8,20,10),rect(l+12,r,8,20,10),rect(l,r,20,10,10);break;case 331:stroke(0,148,148),fill(0,255,255),rect(l,r+10,8,10,10),rect(l+12,r+10,8,10,10);break;case 332:fill(189,120,0),stroke(125,75,0),rect(l,r,20,20,10),noStroke(),fill(this.get(l,r)),rect(l+5,r+8,11,15,5);break;case 333:fill(189,120,0),stroke(125,75,0),rect(l,r,20,5,10),rect(l,r,20,20,10);break;case 334:fill(189,120,0),stroke(125,75,0),rect(l,r,8,20,10),rect(l+12,r,8,20,10),rect(l,r,20,10,10);break;case 335:fill(189,120,0),stroke(125,75,0),rect(l,r+10,8,10,10),rect(l+12,r+10,8,10,10);break;case 336:fill(125,75,0),ellipse(l+10,r+10,15,20),triangle(l,r+1,l+10,r+3,l+5,r+15),triangle(l+20,r+1,l+10,r+3,l+15,r+15),triangle(l,r+19,l+10,r+17,l+5,r+5),triangle(l+20,r+19,l+10,r+17,l+15,r+5),fill(189,120,0),ellipse(l+10,r+10,11,16),triangle(l+3,r+3.5,l+10,r+3,l+5,r+15),triangle(l+17,r+3.5,l+10,r+3,l+15,r+15),triangle(l+3,r+16.5,l+10,r+17,l+5,r+5),triangle(l+17,r+16.5,l+10,r+17,l+15,r+5);break;case 337:fill(120,120,120),ellipse(l+10,r+19,15,8),rect(l+2,r+4,16,15),ellipse(l+10,r+3,15,8),fill(89),ellipse(l+10,r+3,12,6);break;case 338:fill(120,120,120),ellipse(l+10,r+19,15,8),rect(l+2,r+4,16,15),ellipse(l+10,r+3,15,8),fill(255),ellipse(l+10,r+3,12,6);break;case 339:fill(255,255,255),stroke(225),quad(l,r+10,l+5,r,l+20,r+10,l+15,r+20);break;case 340:fill(100),triangle(l+5,r+5,l+10,r,l+15,r+5),fill(255),rect(l+7,r+5,6,13),fill(255,0,0),triangle(l+7,r+5,l+13,r+5,l+7,r+10),triangle(l+13,r+10,l+13,r+15,l+7,r+15),quad(l+7,r+15,l+13,r+15,l+10,r+18,l+7,r+18);break;case 341:stroke(120,83,44),strokeWeight(3),line(l+1,r+19,l+19,r+1),strokeWeight(2),fill(130,96,59),quad(l+13,r,l+9,r+3,l+16,r+4,l+19,r+1);break;case 342:stroke(120,83,44),strokeWeight(3),line(l+1,r+19,l+19,r+1),stroke(100),strokeWeight(2),fill(112),quad(l+13,r,l+9,r+3,l+16,r+4,l+19,r+1);break;case 343:stroke(120,83,44),strokeWeight(3),line(l+1,r+19,l+19,r+1),stroke(150),strokeWeight(2),fill(225),quad(l+13,r,l+9,r+3,l+16,r+4,l+19,r+1);break;case 344:stroke(120,83,44),strokeWeight(3),line(l+1,r+19,l+19,r+1),stroke(194,146,0),strokeWeight(2),fill(255,221,0),quad(l+13,r,l+9,r+3,l+16,r+4,l+19,r+1);break;case 345:stroke(120,83,44),strokeWeight(3),line(l+1,r+19,l+19,r+1),stroke(0,126,143),strokeWeight(2),fill(0,238,255),quad(l+13,r,l+9,r+3,l+16,r+4,l+19,r+1);break;case 346:fill(191,137,0),quad(l,r+7,l+7,r,l+13,r+20,l+20,r+13),stroke(230,173,0),line(l,r+7,l+20,r+13),line(l+7,r,l+13,r+20),line(l+3,r+3,l+17,r+17);break;case 347:translate(l+10,r+10),stroke(179,119,0),fill(230,150,0),rotate(-30),ellipse(0,0,20,15),line(-5,-5,-3,-3),line(4,-3,1,-7),resetMatrix();break;case 348:stroke(84,87,0),fill(118,122,0),beginShape(),vertex(l+5,r+5),vertex(l+10,r+2),vertex(l+12,r+8),vertex(l+18,r+15),vertex(l+15,r+15),vertex(l+12,r+18),vertex(l+8,r+12),vertex(l+3,r+8),vertex(l+5,r+5),endShape();break;case 349:stroke(0,150,0),fill(0,255,0),beginShape(),vertex(l+10,r),vertex(l+15,r+5),vertex(l+15,r+15),vertex(l+10,r+20),vertex(l+5,r+15),vertex(l+5,r+5),vertex(l+10,r),endShape(),rect(l+5,r+5,10,10);break;case 350:strokeWeight(3),stroke(240),line(l,r+20,l+10,r+4),line(l,r+20,l+16,r+10),stroke(112,52,0),line(l,r+20,l+9,r+2),line(l,r+20,l+18,r+11);break;case 351:fill(100,0,50),stroke(75,0,0),quad(l,r+5,l+5,r+10,l+20,r+5,l+15,r),quad(l,r+5,l+5,r+10,l+5,r+15,l,r+10),quad(l+20,r+5,l+5,r+10,l+5,r+15,l+20,r+10);break;case 352:fill(0,50,50),stroke(0,100,100),ellipse(l+10,r+10,20,20);break;case 353:stroke(255,200,0),strokeWeight(4),line(l,r+20,l+20,r);break;case 354:stroke(255,200,0),fill(255,215,0),ellipse(l+10,r+15,20,10),ellipse(l+5,r+3,3,3),ellipse(l+18,r+5,3,3),ellipse(l+10,r+8,3,3);break;case 355:fill(0,150,100),stroke(0,100,100),ellipse(l+10,r+10,20,20),noStroke(),fill(100,200,0),ellipse(l+10,r+10,12,18),fill(0),ellipse(l+10,r+10,4,12)}strokeWeight(2),noStroke()},herp,drawInventory=function(e,l,r){for(var o=0;o<4;o++)for(var t=0;t<6;t++)g=o*r+e,h=t*r+l,noStroke(),drawBlocks(invContents[t][o],g,h),fill(255,255,255),textSize(15),0!==invStacks[t][o]&&1!==invStacks[t][o]&&text(invStacks[t][o],g+20,h+23),17===invContents[t][o]&&65!==invSpecs[t][o]&&(fill(255-4*invSpecs[t][o],4*invSpecs[t][o],0),rect(g,h+22,invSpecs[t][o]/3.25,3),invSpecs[t][o]<=0&&(invContents[t][o]=0)),textSize(12)},cantExplode=!1,explode=function(e,l){var r,o;for(o=e-2;o<=e- -2;o++)for(r=l-2;r<=l- -2;r++)(r===l-2&&o===e-2||r===l-2&&o===e+2||r===l+2&&o===e-2||r===l+2&&o===e+2)&&(cantExplode=!0),58===world[r][o]||8===world[r][o]||10===world[r][o]||cantExplode||(15===world[r][o]&&0!==r&&0!==o?specs[r][o]<=0&&(specs[r][o]=10):world[r][o]=0),cantExplode=!1;fill(196,196,196),r-=2,o-=2,world[l][e]=0,specs[l][e]=0,dist(posB,posA,o,r)<=3&&(health-=10),health<=0&&(death="tnt");for(var t=0;t<mobs.length;t++)dist(mobs.x[t]/40,mobs.y[t]/40,o,r)<=3&&(mobs.health[t]-=10);ellipse(40*e+20+scrollX,40*l+20+scrollY,250,250)},drawBlock=function(e,l){try{switch(world[l][e]){case 0:break;case 1:if(options._3D){if(opaqueBlocks[world[l-1][e]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(140),!opaqueBlocks[world[l-1][e-1]]&&r>200?quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,r+30,o,40*e+scrollX,o):!opaqueBlocks[world[l-1][e+1]]&&r<200?quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,40*e+scrollX+40,o,r,o):o>200&&quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,r+30,o,r,o)}if(opaqueBlocks[world[l][e-1]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(100),!opaqueBlocks[world[l-1][e-1]]&&o>200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,40*l+scrollY,r,o+35):!opaqueBlocks[world[l+1][e-1]]&&o<160?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,o,r,40*l+scrollY+40):r>200&&quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,o,r,o+35)}if(opaqueBlocks[world[l][e+1]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(90),r<170&&(!opaqueBlocks[world[l-1][e+1]]&&o>200?quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,o+35):!opaqueBlocks[world[l+1][e+1]]&&o<160?quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,40*l+scrollY+40):r<170&&quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,o+35))}if(opaqueBlocks[world[l+1][e]]){var r=40*e+scrollX,o=40*l+scrollY+40;r+=(200-r)/4,o+=(200-o)/7,fill(70),!opaqueBlocks[world[l+1][e-1]]&&r>200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,r+30,o,40*e+scrollX,o):!opaqueBlocks[world[l+1][e+1]]&&r<200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,o,r,o):o<200&&quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,r+30,o,r,o)}}fill(122,122,122),rect(40*e+scrollX,40*l+scrollY,40,40);break;case 2:switch(biomes[e]){case 0:i=color(74,184,0);break;case 1:i=color(181,194,0);break;case 2:i=color(0,80,0);break;case 3:i=color(235,235,235);break;default:i=color(255,0,0)}if(options._3D){if(opaqueBlocks[world[l-1][e]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(i),!opaqueBlocks[world[l-1][e-1]]&&r>200?(quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,r+30,o,40*e+scrollX,o),fill(255,255,255,30),3===biomes[e]&&fill(255,255,255),quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,r+30,o,40*e+scrollX,o)):!opaqueBlocks[world[l-1][e+1]]&&r<200?(quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,40*e+scrollX+40,o,r,o),fill(255,255,255,30),3===biomes[e]&&fill(255,255,255),quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,40*e+scrollX+40,o,r,o)):o>200&&(quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,r+30,o,r,o),fill(255,255,255,30),3===biomes[e]&&fill(255,255,255),quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,r+30,o,r,o))}if(opaqueBlocks[world[l][e-1]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(97,47,11),!opaqueBlocks[world[l-1][e-1]]&&o>200?(quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,40*l+scrollY,r,o+35),fill(i),quad(40*e+scrollX,40*l+scrollY+10,40*e+scrollX,40*l+scrollY,r,40*l+scrollY,r,o+8)):!opaqueBlocks[world[l+1][e-1]]&&o<160?(quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,o,r,40*l+scrollY+40),fill(i),quad(40*e+scrollX,40*l+scrollY+10,40*e+scrollX,40*l+scrollY,r,o,r,o+8)):r>200&&(quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,o,r,o+35),fill(i),quad(40*e+scrollX,40*l+scrollY+10,40*e+scrollX,40*l+scrollY,r,o,r,o+8))}if(opaqueBlocks[world[l][e+1]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(90),r<170&&(fill(82,39,9),!opaqueBlocks[world[l-1][e+1]]&&o>200?(quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,o+35),fill(i),quad(40*e+scrollX+40,40*l+scrollY+10,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,o+8)):!opaqueBlocks[world[l+1][e+1]]&&o<160?(quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,40*l+scrollY+40),fill(i),quad(40*e+scrollX+40,40*l+scrollY+10,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,o+8)):r<170&&(quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,o+35),fill(i),quad(40*e+scrollX+40,40*l+scrollY+10,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,o+8)))}if(opaqueBlocks[world[l+1][e]]){var r=40*e+scrollX,o=40*l+scrollY+40;r+=(200-r)/4,o+=(200-o)/7,fill(61,28,7),!opaqueBlocks[world[l+1][e-1]]&&r>200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,r+30,o,40*e+scrollX,o):!opaqueBlocks[world[l+1][e+1]]&&r<200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,o,r,o):o<200&&quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,r+30,o,r,o)}}fill(130,56,0),rect(40*e+scrollX,40*l+scrollY,40,40),fill(i),rect(40*e+scrollX,40*l+scrollY,40,10),c=random(1,200),solidBlocks[world[l-1][e]]&&c>199&&(world[l][e]=3);break;case 3:if(options._3D){if(opaqueBlocks[world[l-1][e]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(133,65,17),!opaqueBlocks[world[l-1][e-1]]&&r>200?quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,r+30,o,40*e+scrollX,o):!opaqueBlocks[world[l-1][e+1]]&&r<200?quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,40*e+scrollX+40,o,r,o):o>200&&quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,r+30,o,r,o)}if(opaqueBlocks[world[l][e-1]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(97,47,11),!opaqueBlocks[world[l-1][e-1]]&&o>200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,40*l+scrollY,r,o+35):!opaqueBlocks[world[l+1][e-1]]&&o<160?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,o,r,40*l+scrollY+40):r>200&&quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,o,r,o+35)}if(opaqueBlocks[world[l][e+1]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(90),r<170&&(fill(82,39,9),!opaqueBlocks[world[l-1][e+1]]&&o>200?quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,o+35):!opaqueBlocks[world[l+1][e+1]]&&o<160?quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,40*l+scrollY+40):r<170&&quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,o+35))}if(opaqueBlocks[world[l+1][e]]){var r=40*e+scrollX,o=40*l+scrollY+40;r+=(200-r)/4,o+=(200-o)/7,fill(61,28,7),!opaqueBlocks[world[l+1][e-1]]&&r>200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,r+30,o,40*e+scrollX,o):!opaqueBlocks[world[l+1][e+1]]&&r<200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,o,r,o):o<200&&quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,r+30,o,r,o)}}fill(130,56,0),rect(40*e+scrollX,40*l+scrollY,40,40),c=random(1,200),!solidBlocks[world[l-1][e]]&&c>199&&(world[l][e]=2);break;case 4:if(fill(122,122,122),strokeWeight(2),stroke(71,71,71),options._3D){if(opaqueBlocks[world[l-1][e]]){var r=40*e+scrollX,o=40*l+scrollY;if(r+=(200-r)/4,o+=(200-o)/7,fill(140),!opaqueBlocks[world[l-1][e-1]]&&r>200){quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,r+30,o,40*e+scrollX,o),line(40*e+scrollX+20,40*l+scrollY,r+17,o);var t=40*e+scrollX,s=40*l+scrollY;t+=(200-r)/6,s+=(200-o)/10,line(t,s,t+36,s)}else if(!opaqueBlocks[world[l-1][e+1]]&&r<200){quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,40*e+scrollX+40,o,r,o),line(40*e+scrollX+20,40*l+scrollY,r+17,o);var t=40*e+scrollX,s=40*l+scrollY;t+=(200-r)/6,s+=(200-o)/10,line(t,s,t+36,s)}else if(o>200){quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,r+30,o,r,o),line(40*e+scrollX+20,40*l+scrollY,r+16,o);var t=40*e+scrollX,s=40*l+scrollY;t+=(200-r)/6,s+=(200-o)/10,line(t,s,t+36,s)}}if(opaqueBlocks[world[l][e-1]]){var r=40*e+scrollX,o=40*l+scrollY;if(r+=(200-r)/4,o+=(200-o)/7,fill(100),!opaqueBlocks[world[l-1][e-1]]&&o>200){quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,40*l+scrollY,r,o+35),line(40*e+scrollX,40*l+scrollY+20,r,o+16);var t=40*e+scrollX,s=40*l+scrollY;t+=(200-r)/6,s+=(200-o)/10,line(t,s,t,s+36)}else if(!opaqueBlocks[world[l+1][e-1]]&&o<160){quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,o,r,40*l+scrollY+40),line(40*e+scrollX,40*l+scrollY+20,r,o+16);var t=40*e+scrollX,s=40*l+scrollY;t+=(200-r)/6,s+=(200-o)/10,line(t,s,t,40*l+scrollY+40)}else if(r>200){quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,o,r,o+35),line(40*e+scrollX,40*l+scrollY+20,r,o+16);var t=40*e+scrollX,s=40*l+scrollY;t+=(200-r)/6,s+=(200-o)/10,line(t,s,t,s+36)}}if(opaqueBlocks[world[l][e+1]]){var r=40*e+scrollX,o=40*l+scrollY;if(r+=(200-r)/4,o+=(200-o)/7,fill(90),r<170)if(!opaqueBlocks[world[l-1][e+1]]&&o>200){quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,o+35);var t=40*e+scrollX,s=40*l+scrollY;line(40*e+scrollX+40,40*l+scrollY+20,r+30,o+16),t+=(200-r)/6,s+=(200-o)/10,line(t+36,s,t+36,s+36)}else if(!opaqueBlocks[world[l+1][e+1]]&&o<160){quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,40*l+scrollY+40);var t=40*e+scrollX,s=40*l+scrollY;line(40*e+scrollX+40,40*l+scrollY+20,r+30,o+16),t+=(200-r)/6,s+=(200-o)/10,line(t+36,s,t+36,40*l+scrollY+40)}else if(r<170){quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,o+35);var t=40*e+scrollX,s=40*l+scrollY;line(40*e+scrollX+40,40*l+scrollY+20,r+30,o+16),t+=(200-r)/6,s+=(200-o)/10,line(t+36,s,t+36,s+36)}}if(opaqueBlocks[world[l+1][e]]){var r=40*e+scrollX,o=40*l+scrollY+40;r+=(200-r)/4,o+=(200-o)/7,fill(70),!opaqueBlocks[world[l+1][e-1]]&&r>200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,r+30,o,40*e+scrollX,o):!opaqueBlocks[world[l+1][e+1]]&&r<200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,o,r,o):o<200&&quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,r+30,o,r,o)}}fill(122,122,122),rect(40*e+scrollX,40*l+scrollY,20,20),rect(40*e+20+scrollX,40*l+scrollY,20,20),rect(40*e+scrollX,40*l+20+scrollY,20,20),rect(40*e+20+scrollX,40*l+20+scrollY,20,20),noStroke();break;case 5:if(options._3D){if(opaqueBlocks[world[l-1][e]]){var r=40*e+scrollX,o=40*l+scrollY;if(r+=(200-r)/4,o+=(200-o)/7,fill(232,176,93),!opaqueBlocks[world[l-1][e-1]]&&r>200){quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,r+30,o,40*e+scrollX,o),stroke(120,83,44),line(40*e+scrollX,o,r+30,o);var t=40*e+scrollX,s=40*l+scrollY;t+=(200-r)/4,s+=(200-o)/8,line(40*e+scrollX,s,t+32,s),t=40*e+scrollX,s=40*l+scrollY,t+=(200-r)/6,s+=(200-o)/12,line(40*e+scrollX,s,t+34,s),t=40*e+scrollX,s=40*l+scrollY,t+=(200-r)/10,s+=(200-o)/20,line(40*e+scrollX,s,t+36,s)}else if(!opaqueBlocks[world[l-1][e+1]]&&r<200){quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,40*e+scrollX+40,o,r,o),stroke(120,83,44),line(r,o,40*e+scrollX+40,o);var t=40*e+scrollX,s=40*l+scrollY;t+=(200-r)/4,s+=(200-o)/8,line(t,s,40*e+scrollX+40,s),t=40*e+scrollX,s=40*l+scrollY,t+=(200-r)/6,s+=(200-o)/12,line(t,s,40*e+scrollX+40,s),t=40*e+scrollX,s=40*l+scrollY,t+=(200-r)/10,s+=(200-o)/20,line(t,s,40*e+scrollX+40,s)}else if(o>200){quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,r+30,o,r,o),stroke(120,83,44),line(r,o+1,r+30,o+1);var t=40*e+scrollX,s=40*l+scrollY;t+=(200-r)/4,s+=(200-o)/8,line(t,s,t+32,s),t=40*e+scrollX,s=40*l+scrollY,t+=(200-r)/6,s+=(200-o)/12,line(t,s,t+34,s),t=40*e+scrollX,s=40*l+scrollY,t+=(200-r)/10,s+=(200-o)/20,line(t,s,t+36,s)}}if(noStroke(),opaqueBlocks[world[l][e-1]]){var r=40*e+scrollX,o=40*l+scrollY;o+=(200-o)/7,(r+=(200-r)/4)>200&&(fill(176,129,67),!opaqueBlocks[world[l-1][e-1]]&&o>200?(quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,40*l+scrollY,r,o+35),stroke(120,83,44),line(r,o,40*e+scrollX,40*l+scrollY),line(40*e+scrollX,40*l+scrollY+10,r,o+8),line(40*e+scrollX,40*l+scrollY+20,r,o+16),line(40*e+scrollX,40*l+scrollY+30,r,o+24)):!opaqueBlocks[world[l+1][e-1]]&&o<160?(quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,o,r,40*l+scrollY+40),stroke(120,83,44),line(r,o,40*e+scrollX,40*l+scrollY),line(40*e+scrollX,40*l+scrollY+10,r,o+8),line(40*e+scrollX,40*l+scrollY+20,r,o+16),line(40*e+scrollX,40*l+scrollY+30,r,o+24)):r>200&&(quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,o,r,o+35),stroke(120,83,44),line(r,o,40*e+scrollX,40*l+scrollY),line(40*e+scrollX,40*l+scrollY+10,r,o+8),line(40*e+scrollX,40*l+scrollY+20,r,o+16),line(40*e+scrollX,40*l+scrollY+30,r,o+24)))}if(noStroke(),opaqueBlocks[world[l][e+1]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(153,107,47),r<170&&(!opaqueBlocks[world[l-1][e+1]]&&o>200?(quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,o+35),stroke(120,83,44),line(r+30,o,40*e+scrollX+40,40*l+scrollY),line(40*e+scrollX+40,40*l+scrollY+10,r+30,o+8),line(40*e+scrollX+40,40*l+scrollY+20,r+30,o+16),line(40*e+scrollX+40,40*l+scrollY+30,r+30,o+24)):!opaqueBlocks[world[l+1][e+1]]&&o<160?(quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,40*l+scrollY+40),stroke(120,83,44),line(r+30,o,40*e+scrollX+40,40*l+scrollY),line(40*e+scrollX+40,40*l+scrollY+10,r+30,o+8),line(40*e+scrollX+40,40*l+scrollY+20,r+30,o+16),line(40*e+scrollX+40,40*l+scrollY+30,r+30,o+24)):r<170&&(quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,o+35),stroke(120,83,44),line(r+30,o,40*e+scrollX+40,40*l+scrollY),line(40*e+scrollX+40,40*l+scrollY+10,r+30,o+8),line(40*e+scrollX+40,40*l+scrollY+20,r+30,o+16),line(40*e+scrollX+40,40*l+scrollY+30,r+30,o+24)))}if(noStroke(),opaqueBlocks[world[l+1][e]]){var r=40*e+scrollX,o=40*l+scrollY+40;r+=(200-r)/4,o+=(200-o)/7,fill(112,75,30),!opaqueBlocks[world[l+1][e-1]]&&r>200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,r+30,o,40*e+scrollX,o):!opaqueBlocks[world[l+1][e+1]]&&r<200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,o,r,o):o<200&&quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,r+30,o,r,o)}}noStroke(),fill(201,153,80),rect(40*e+scrollX,40*l+scrollY,40,40),stroke(120,83,44),strokeWeight(2),line(40*e+scrollX,40*l+scrollY,40*e+40+scrollX,40*l+scrollY),line(40*e+scrollX,40*l+10+scrollY,40*e+40+scrollX,40*l+10+scrollY),line(40*e+scrollX,40*l+20+scrollY,40*e+40+scrollX,40*l+20+scrollY),line(40*e+scrollX,40*l+30+scrollY,40*e+40+scrollX,40*l+30+scrollY),noStroke();break;case 6:if(options._3D){if(opaqueBlocks[world[l-1][e]]){var r=40*e+scrollX,o=40*l+scrollY;if(r+=(200-r)/4,o+=(200-o)/7,fill(199,108,66),!opaqueBlocks[world[l-1][e-1]]&&r>200){quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,r+30,o,40*e+scrollX,o),stroke(237,209,176),line(40*e+scrollX,o,r+30,o);var t=40*e+scrollX,s=40*l+scrollY;t+=(200-r)/4,s+=(200-o)/8,line(40*e+scrollX,s,t+32,s),t=40*e+scrollX,s=40*l+scrollY,t+=(200-r)/6,s+=(200-o)/12,line(40*e+scrollX,s,t+34,s),t=40*e+scrollX,s=40*l+scrollY,t+=(200-r)/10,s+=(200-o)/20,line(40*e+scrollX,s,t+36,s)}else if(!opaqueBlocks[world[l-1][e+1]]&&r<200){quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,40*e+scrollX+40,o,r,o),stroke(237,209,176),line(r,o,40*e+scrollX+40,o);var t=40*e+scrollX,s=40*l+scrollY;t+=(200-r)/4,s+=(200-o)/8,line(t,s,40*e+scrollX+40,s),t=40*e+scrollX,s=40*l+scrollY,t+=(200-r)/6,s+=(200-o)/12,line(t,s,40*e+scrollX+40,s),t=40*e+scrollX,s=40*l+scrollY,t+=(200-r)/10,s+=(200-o)/20,line(t,s,40*e+scrollX+40,s)}else if(o>200){quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,r+30,o,r,o),stroke(237,209,176),line(r,o+1,r+30,o+1);var t=40*e+scrollX,s=40*l+scrollY;t+=(200-r)/4,s+=(200-o)/8,line(t,s,t+32,s),t=40*e+scrollX,s=40*l+scrollY,t+=(200-r)/6,s+=(200-o)/12,line(t,s,t+34,s),t=40*e+scrollX,s=40*l+scrollY,t+=(200-r)/10,s+=(200-o)/20,line(t,s,t+36,s)}}if(noStroke(),opaqueBlocks[world[l][e-1]]){var r=40*e+scrollX,o=40*l+scrollY;o+=(200-o)/7,(r+=(200-r)/4)>200&&(fill(161,83,47),!opaqueBlocks[world[l-1][e-1]]&&o>200?(quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,40*l+scrollY,r,o+35),stroke(237,209,176),line(r,o,40*e+scrollX,40*l+scrollY),line(40*e+scrollX,40*l+scrollY+10,r,o+8),line(40*e+scrollX,40*l+scrollY+20,r,o+16),line(40*e+scrollX,40*l+scrollY+30,r,o+24)):!opaqueBlocks[world[l+1][e-1]]&&o<160?(quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,o,r,40*l+scrollY+40),stroke(237,209,176),line(r,o,40*e+scrollX,40*l+scrollY),line(40*e+scrollX,40*l+scrollY+10,r,o+8),line(40*e+scrollX,40*l+scrollY+20,r,o+16),line(40*e+scrollX,40*l+scrollY+30,r,o+24)):r>200&&(quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,o,r,o+35),stroke(237,209,176),line(r,o,40*e+scrollX,40*l+scrollY),line(40*e+scrollX,40*l+scrollY+10,r,o+8),line(40*e+scrollX,40*l+scrollY+20,r,o+16),line(40*e+scrollX,40*l+scrollY+30,r,o+24)))}if(noStroke(),opaqueBlocks[world[l][e+1]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(128,66,37),r<170&&(!opaqueBlocks[world[l-1][e+1]]&&o>200?(quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,o+35),stroke(189,158,123),line(r+30,o,40*e+scrollX+40,40*l+scrollY),line(40*e+scrollX+40,40*l+scrollY+10,r+30,o+8),line(40*e+scrollX+40,40*l+scrollY+20,r+30,o+16),line(40*e+scrollX+40,40*l+scrollY+30,r+30,o+24)):!opaqueBlocks[world[l+1][e+1]]&&o<160?(quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,40*l+scrollY+40),stroke(189,158,123),line(r+30,o,40*e+scrollX+40,40*l+scrollY),line(40*e+scrollX+40,40*l+scrollY+10,r+30,o+8),line(40*e+scrollX+40,40*l+scrollY+20,r+30,o+16),line(40*e+scrollX+40,40*l+scrollY+30,r+30,o+24)):r<170&&(quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,o+35),stroke(189,158,123),line(r+30,o,40*e+scrollX+40,40*l+scrollY),line(40*e+scrollX+40,40*l+scrollY+10,r+30,o+8),line(40*e+scrollX+40,40*l+scrollY+20,r+30,o+16),line(40*e+scrollX+40,40*l+scrollY+30,r+30,o+24)))}if(noStroke(),opaqueBlocks[world[l+1][e]]){var r=40*e+scrollX,o=40*l+scrollY+40;r+=(200-r)/4,o+=(200-o)/7,fill(102,65,48),!opaqueBlocks[world[l+1][e-1]]&&r>200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,r+30,o,40*e+scrollX,o):!opaqueBlocks[world[l+1][e+1]]&&r<200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,o,r,o):o<200&&quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,r+30,o,r,o)}}fill(181,97,58),rect(40*e+scrollX,40*l+scrollY,40,40),stroke(237,209,176),line(40*e+scrollX,40*l+scrollY,40*e+40+scrollX,40*l+scrollY),line(40*e+10+scrollX,40*l+scrollY,40*e+10+scrollX,40*l+10+scrollY),line(40*e+scrollX,40*l+10+scrollY,40*e+scrollX+40,40*l+scrollY+10),line(40*e+30+scrollX,40*l+scrollY,40*e+30+scrollX,40*l+10+scrollY),line(40*e+40+scrollX,40*l+20+scrollY,40*e+40+scrollX,40*l+20+scrollY),line(40*e+20+scrollX,40*l+10+scrollY,40*e+20+scrollX,40*l+20+scrollY),line(40*e+scrollX,40*l+20+scrollY,40*e+40+scrollX,40*l+20+scrollY),line(40*e+10+scrollX,40*l+20+scrollY,40*e+10+scrollX,40*l+30+scrollY),line(40*e+30+scrollX,40*l+20+scrollY,40*e+30+scrollX,40*l+30+scrollY),line(40*e+scrollX,40*l+30+scrollY,40*e+40+scrollX,40*l+30+scrollY),line(40*e+20+scrollX,40*l+30+scrollY,40*e+20+scrollX,40*l+40+scrollY),noStroke();break;case 7:if(options._3D){if(opaqueBlocks[world[l-1][e]]){stroke(59,32,0);var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(166,124,79),!opaqueBlocks[world[l-1][e-1]]&&r>200?quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,r+30,o,40*e+scrollX,o):!opaqueBlocks[world[l-1][e+1]]&&r<200?quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,40*e+scrollX+40,o,r,o):o>200&&quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,r+30,o,r,o)}if(noStroke(),opaqueBlocks[world[l][e-1]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(89,42,0),!opaqueBlocks[world[l-1][e-1]]&&o>200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,40*l+scrollY,r,o+35):!opaqueBlocks[world[l+1][e-1]]&&o<160?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,o,r,40*l+scrollY+40):r>200&&quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,o,r,o+35)}if(opaqueBlocks[world[l][e+1]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(74,35,0),r<170&&(!opaqueBlocks[world[l-1][e+1]]&&o>200?quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,o+35):!opaqueBlocks[world[l+1][e+1]]&&o<160?quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,40*l+scrollY+40):r<170&&quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,o+35))}if(opaqueBlocks[world[l+1][e]]){var r=40*e+scrollX,o=40*l+scrollY+40;r+=(200-r)/4,o+=(200-o)/7,fill(128,95,60),stroke(59,32,0),!opaqueBlocks[world[l+1][e-1]]&&r>200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,r+30,o,40*e+scrollX,o):!opaqueBlocks[world[l+1][e+1]]&&r<200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,o,r,o):o<200&&quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,r+30,o,r,o)}}noStroke(),fill(107,50,0),rect(40*e+scrollX,40*l+scrollY,40,40),stroke(59,32,0),strokeWeight(2),line(40*e+scrollX,40*l+scrollY,40*e+scrollX,40*l+40+scrollY),line(40*e+scrollX+40,40*l+scrollY,40*e+scrollX+40,40*l+40+scrollY);break;case 8:if(options._3D){if(opaqueBlocks[world[l-1][e]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(54,6,110),!opaqueBlocks[world[l-1][e-1]]&&r>200?quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,r+30,o,40*e+scrollX,o):!opaqueBlocks[world[l-1][e+1]]&&r<200?quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,40*e+scrollX+40,o,r,o):o>200&&quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,r+30,o,r,o)}if(opaqueBlocks[world[l][e-1]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(31,1,66),!opaqueBlocks[world[l-1][e-1]]&&o>200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,40*l+scrollY,r,o+35):!opaqueBlocks[world[l+1][e-1]]&&o<160?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,o,r,40*l+scrollY+40):r>200&&quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,o,r,o+35)}if(opaqueBlocks[world[l][e+1]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(29,1,61),r<170&&(!opaqueBlocks[world[l-1][e+1]]&&o>200?quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,o+35):!opaqueBlocks[world[l+1][e+1]]&&o<160?quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,40*l+scrollY+40):r<170&&quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,o+35))}if(opaqueBlocks[world[l+1][e]]){var r=40*e+scrollX,o=40*l+scrollY+40;r+=(200-r)/4,o+=(200-o)/7,fill(23,1,48),!opaqueBlocks[world[l+1][e-1]]&&r>200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,r+30,o,40*e+scrollX,o):!opaqueBlocks[world[l+1][e+1]]&&r<200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,o,r,o):o<200&&quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,r+30,o,r,o)}}fill(40,3,82),rect(40*e+scrollX,40*l+scrollY,40,40);break;case 9:var i;switch(biomes[e]){case 0:i=color(74,184,0);break;case 1:i=color(181,194,0);break;case 2:i=color(0,80,0);break;case 3:i=color(235,235,235);break;default:i=color(255,0,0)}if(options._3D){if(opaqueBlocks[world[l-1][e]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(i),!opaqueBlocks[world[l-1][e-1]]&&r>200?quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,r+30,o,40*e+scrollX,o):!opaqueBlocks[world[l-1][e+1]]&&r<200?quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,40*e+scrollX+40,o,r,o):o>200&&quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,r+30,o,r,o),fill(255,255,255,30),3===biomes[e]&&fill(255,255,255),!opaqueBlocks[world[l-1][e-1]]&&r>200?quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,r+30,o,40*e+scrollX,o):!opaqueBlocks[world[l-1][e+1]]&&r<200?quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,40*e+scrollX+40,o,r,o):o>200&&quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,r+30,o,r,o)}if(opaqueBlocks[world[l][e-1]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(i),!opaqueBlocks[world[l-1][e-1]]&&o>200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,40*l+scrollY,r,o+35):!opaqueBlocks[world[l+1][e-1]]&&o<160?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,o,r,40*l+scrollY+40):r>200&&quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,o,r,o+35),fill(0,0,0,20),!opaqueBlocks[world[l-1][e-1]]&&o>200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,40*l+scrollY,r,o+35):!opaqueBlocks[world[l+1][e-1]]&&o<160?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,o,r,40*l+scrollY+40):r>200&&quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,o,r,o+35)}if(opaqueBlocks[world[l][e+1]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(i),r<170&&(!opaqueBlocks[world[l-1][e+1]]&&o>200?quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,o+35):!opaqueBlocks[world[l+1][e+1]]&&o<160?quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,40*l+scrollY+40):r<170&&quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,o+35),fill(0,0,0,30),!opaqueBlocks[world[l-1][e+1]]&&o>200?quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,o+35):!opaqueBlocks[world[l+1][e+1]]&&o<160?quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,40*l+scrollY+40):r<170&&quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,o+35))}if(opaqueBlocks[world[l+1][e]]){var r=40*e+scrollX,o=40*l+scrollY+40;r+=(200-r)/4,o+=(200-o)/7,fill(i),!opaqueBlocks[world[l+1][e-1]]&&r>200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,r+30,o,40*e+scrollX,o):!opaqueBlocks[world[l+1][e+1]]&&r<200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,o,r,o):o<200&&quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,r+30,o,r,o),fill(0,0,0,100),!opaqueBlocks[world[l+1][e-1]]&&r>200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,r+30,o,40*e+scrollX,o):!opaqueBlocks[world[l+1][e+1]]&&r<200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,o,r,o):o<200&&quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,r+30,o,r,o)}}fill(i),rect(40*e+scrollX,40*l+scrollY,10,10),rect(40*e+20+scrollX,40*l+scrollY,10,10),rect(40*e+10+scrollX,40*l+scrollY+10,10,10),rect(40*e+30+scrollX,40*l+scrollY+10,10,10),rect(40*e+scrollX,40*l+20+scrollY,10,10),rect(40*e+20+scrollX,40*l+20+scrollY,10,10),rect(40*e+10+scrollX,40*l+30+scrollY,10,10),rect(40*e+30+scrollX,40*l+30+scrollY,10,10);break;case 10:if(options._3D){if(l>1&&opaqueBlocks[world[l-1][e]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(60),!opaqueBlocks[world[l-1][e-1]]&&r>200?quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,r+30,o,40*e+scrollX,o):!opaqueBlocks[world[l-1][e+1]]&&r<200?quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,40*e+scrollX+40,o,r,o):o>200&&quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,r+30,o,r,o)}if(opaqueBlocks[world[l][e-1]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(40),!opaqueBlocks[world[l-1][e-1]]&&o>200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,40*l+scrollY,r,o+35):!opaqueBlocks[world[l+1][e-1]]&&o<160?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,o,r,40*l+scrollY+40):r>200&&quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,o,r,o+35)}if(opaqueBlocks[world[l][e+1]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(30),r<170&&(!opaqueBlocks[world[l-1][e+1]]&&o>200?quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,o+35):!opaqueBlocks[world[l+1][e+1]]&&o<160?quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,40*l+scrollY+40):r<170&&quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,o+35))}if(l<39&&opaqueBlocks[world[l+1][e]]){var r=40*e+scrollX,o=40*l+scrollY+40;r+=(200-r)/4,o+=(200-o)/7,fill(0),!opaqueBlocks[world[l+1][e-1]]&&r>200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,r+30,o,40*e+scrollX,o):!opaqueBlocks[world[l+1][e+1]]&&r<200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,o,r,o):o<200&&quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,r+30,o,r,o)}}fill(50),rect(40*e+scrollX,40*l+scrollY,40,40);break;case 11:if(options._3D){if(opaqueBlocks[world[l-1][e]]){var r=40*e+scrollX,o=40*l+scrollY;if(r+=(200-r)/4,o+=(200-o)/7,fill(92,146,255),night&&fill(32,73,153),!opaqueBlocks[world[l-1][e-1]]&&r>200){if(quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,r+30,o,40*e+scrollX,o),!opaqueBlocks[world[l-1][e+1]]){fill(0,0,0,50);for(p=0;p<20;p++){var a=20*noise(p/3,time/100)-9,n=(40*e+scrollX+40-r-30)/20*p,d=(40*l+scrollY-o)/20*p;fill(0,0,0,30),rect(r+30+a,o+d,n-a,2)}}}else if(!opaqueBlocks[world[l-1][e+1]]&&r<160){if(quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,40*e+scrollX+40,o,r,o),!opaqueBlocks[world[l-1][e-1]]){fill(0,0,0,50);for(p=0;p<20;p++){var a=20*noise(p/3,time/100)-9,n=(40*e+scrollX-r-30)/20*p,d=(40*l+scrollY-o)/20*p;fill(0,0,0,30),rect(r+a,o+d,n-a,2)}}}else if(o>200){if(quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,r+30,o,r,o),!opaqueBlocks[world[l-1][e+1]]){fill(0,0,0,50);for(p=0;p<20;p++){var a=20*noise(p/3,time/100)-9,n=(40*e+scrollX+40-r-30)/20*p,d=(40*l+scrollY-o)/20*p;fill(0,0,0,30),rect(r+30+a,o+d,n-a,2)}}if(!opaqueBlocks[world[l-1][e-1]]){fill(0,0,0,50);for(p=0;p<20;p++){var a=20*noise(p/3,time/100)-9,n=(40*e+scrollX-r-30)/20*p,d=(40*l+scrollY-o)/20*p;fill(0,0,0,30),rect(r+a,o+d,n-a,2)}}}}if(opaqueBlocks[world[l][e-1]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(46,89,176),!opaqueBlocks[world[l-1][e-1]]&&o>200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,40*l+scrollY,r,o+35):!opaqueBlocks[world[l+1][e-1]]&&o<160?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,o,r,40*l+scrollY+40):r>200&&quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,o,r,o+35)}if(opaqueBlocks[world[l][e+1]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(41,80,158),r<170&&(!opaqueBlocks[world[l-1][e+1]]&&o>200?quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,o+35):!opaqueBlocks[world[l+1][e+1]]&&o<160?quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,40*l+scrollY+40):r<170&&quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,o+35))}if(l<39&&opaqueBlocks[world[l+1][e]]){var r=40*e+scrollX,o=40*l+scrollY+40;r+=(200-r)/4,o+=(200-o)/7,fill(31,65,133),!opaqueBlocks[world[l+1][e-1]]&&r>200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,r+30,o,40*e+scrollX,o):!opaqueBlocks[world[l+1][e+1]]&&r<200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,o,r,o):o<200&&quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,r+30,o,r,o)}}fill(0,104,250),rect(40*e+scrollX,40*l+scrollY,40,40),13===world[l+1][e]&&(world[l+1][e]=8),3===biomes[e]&&0===world[l-1][e]&&(round(random(0,100))||(world[l][e]=32)),0===world[l+1][e]?world[l+1][e]=12:(world[l+1][e]<11||world[l+1][e]>15)&&0===world[l][e+1]&&(world[l][e+1]=12);break;case 12:if(options._3D){if(opaqueBlocks[world[l-1][e]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(92,146,255),night&&fill(32,73,153),!opaqueBlocks[world[l-1][e-1]]&&r>200?quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,r+30,o,40*e+scrollX,o):!opaqueBlocks[world[l-1][e+1]]&&r<200?quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,40*e+scrollX+40,o,r,o):o>200&&quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,r+30,o,r,o)}if(opaqueBlocks[world[l][e-1]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(46,89,176),!opaqueBlocks[world[l-1][e-1]]&&o>200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,40*l+scrollY,r,o+35):!opaqueBlocks[world[l+1][e-1]]&&o<160?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,o,r,40*l+scrollY+40):r>200&&quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,o,r,o+35)}if(opaqueBlocks[world[l][e+1]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(41,80,158),r<170&&(!opaqueBlocks[world[l-1][e+1]]&&o>200?quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,o+35):!opaqueBlocks[world[l+1][e+1]]&&o<160?quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,40*l+scrollY+40):r<170&&quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,o+35))}}fill(0,104,250),rect(40*e+scrollX,40*l+scrollY,40,40),0===world[l+1][e]?world[l+1][e]=12:world[l+1][e]<11&&(0===world[l][e+1]&&(world[l][e+1]=12),0===world[l][e-1]&&(world[l][e-1]=12)),13===world[l+1][e]?world[l+1][e]=8:(world[l+1][e]<11||world[l+1][e]>15)&&0===world[l][e+1]&&(world[l][e+1]=12),12===world[l-1][e]&&11===world[l-1][e]||(world[l][e]=0);break;case 13:if(options._3D){if(opaqueBlocks[world[l-1][e]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(255,196,94),!opaqueBlocks[world[l-1][e-1]]&&r>200?quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,r+30,o,40*e+scrollX,o):!opaqueBlocks[world[l-1][e+1]]&&r<200?quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,40*e+scrollX+40,o,r,o):o>200&&quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,r+30,o,r,o)}if(opaqueBlocks[world[l][e-1]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(227,136,66),!opaqueBlocks[world[l-1][e-1]]&&o>200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,40*l+scrollY,r,o+35):!opaqueBlocks[world[l+1][e-1]]&&o<160?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,o,r,40*l+scrollY+40):r>200&&quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,o,r,o+35)}if(opaqueBlocks[world[l][e+1]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(214,124,45),r<170&&(!opaqueBlocks[world[l-1][e+1]]&&o>200?quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,o+35):!opaqueBlocks[world[l+1][e+1]]&&o<160?quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,40*l+scrollY+40):r<170&&quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,o+35))}if(l<39&&opaqueBlocks[world[l+1][e]]){var r=40*e+scrollX,o=40*l+scrollY+40;r+=(200-r)/4,o+=(200-o)/7,fill(133,79,32),!opaqueBlocks[world[l+1][e-1]]&&r>200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,r+30,o,40*e+scrollX,o):!opaqueBlocks[world[l+1][e+1]]&&r<200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,o,r,o):o<200&&quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,r+30,o,r,o)}}fill(255,149,0),rect(40*e+scrollX,40*l+scrollY,40,40),12===world[l+1][e]?world[l+1][e]=4:11===world[l+1][e]&&(world[l+1][e]=1),0===world[l+1][e]&&(world[l+1][e]=14);break;case 14:if(options._3D){if(opaqueBlocks[world[l-1][e]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(255,196,94),!opaqueBlocks[world[l-1][e-1]]&&r>200?quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,r+30,o,40*e+scrollX,o):!opaqueBlocks[world[l-1][e+1]]&&r<200?quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,40*e+scrollX+40,o,r,o):o>200&&quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,r+30,o,r,o)}if(opaqueBlocks[world[l][e-1]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(227,136,66),!opaqueBlocks[world[l-1][e-1]]&&o>200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,40*l+scrollY,r,o+35):!opaqueBlocks[world[l+1][e-1]]&&o<160?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,o,r,40*l+scrollY+40):r>200&&quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,o,r,o+35)}if(opaqueBlocks[world[l][e+1]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(214,124,45),r<170&&(!opaqueBlocks[world[l-1][e+1]]&&o>200?quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,o+35):!opaqueBlocks[world[l+1][e+1]]&&o<200?quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,40*l+scrollY+40):r<170&&quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,o+35))}}fill(255,149,0),rect(40*e+scrollX,40*l+scrollY,40,40),0===world[l+1][e]?world[l+1][e]=14:world[l+1][e]<11||world[l+1][e]>15?(0===world[l][e+1]&&(world[l][e+1]=14),0===world[l][e-1]&&(world[l][e-1]=14)):12===world[l+1][e]?world[l+1][e]=4:11===world[l+1][e]&&(world[l+1][e]=1),14===world[l-1][e]&&13===world[l-1][e]||(world[l][e]=0);break;case 15:if(options._3D){if(opaqueBlocks[world[l-1][e]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(255,80,80),1&specs[l][e]&&fill(255,255,255),!opaqueBlocks[world[l-1][e-1]]&&r>200?quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,r+30,o,40*e+scrollX,o):!opaqueBlocks[world[l-1][e+1]]&&r<200?quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,40*e+scrollX+40,o,r,o):o>200&&quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,r+30,o,r,o)}if(opaqueBlocks[world[l][e-1]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(220,0,0),1&specs[l][e]&&fill(255,255,255),r>200&&(!opaqueBlocks[world[l-1][e-1]]&&o>200?(quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,40*l+scrollY,r,o+35),fill(225),1&specs[l][e]&&fill(255,255,255),quad(40*e+scrollX,40*l+scrollY+10,40*e+scrollX,40*l+scrollY+30,r,o+27,r,o+8)):!opaqueBlocks[world[l+1][e-1]]&&o<160?(quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,o,r,40*l+scrollY+40),fill(225),1&specs[l][e]&&fill(255,255,255),quad(40*e+scrollX,40*l+scrollY+10,40*e+scrollX,40*l+scrollY+30,r,o+27,r,o+8)):r>200&&(quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,o,r,o+35),fill(225),1&specs[l][e]&&fill(255,255,255),quad(40*e+scrollX,40*l+scrollY+10,40*e+scrollX,40*l+scrollY+30,r,o+27,r,o+8)))}if(opaqueBlocks[world[l][e+1]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(200,0,0),1&specs[l][e]&&fill(255,255,255),r<170&&(!opaqueBlocks[world[l-1][e+1]]&&o>200?(quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,o+35),fill(200),1&specs[l][e]&&fill(255,255,255),quad(40*e+scrollX+40,40*l+scrollY+10,40*e+scrollX+40,40*l+scrollY+30,r+31,o+27,r+31,o+8)):!opaqueBlocks[world[l+1][e+1]]&&o<160?(quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,40*l+scrollY+40),fill(200),1&specs[l][e]&&fill(255,255,255),quad(40*e+scrollX+40,40*l+scrollY+10,40*e+scrollX+40,40*l+scrollY+30,r+31,o+27,r+31,o+8)):r<170&&(quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,o+35),fill(200),1&specs[l][e]&&fill(255,255,255),quad(40*e+scrollX+40,40*l+scrollY+10,40*e+scrollX+40,40*l+scrollY+30,r+31,o+27,r+31,o+8)))}if(opaqueBlocks[world[l+1][e]]){var r=40*e+scrollX,o=40*l+scrollY+40;r+=(200-r)/4,o+=(200-o)/7,fill(150,0,0),1&specs[l][e]&&fill(255,255,255),!opaqueBlocks[world[l+1][e-1]]&&r>200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,r+30,o,40*e+scrollX,o):!opaqueBlocks[world[l+1][e+1]]&&r<200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,o,r,o):o<200&&quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,r+30,o,r,o)}}fill(255,0,0),1&specs[l][e]&&fill(255,255,255),rect(40*e+scrollX,40*l+scrollY,40,40),fill(255,255,255),rect(40*e+scrollX,40*l+10+scrollY,40,20),specs[l][e]>0?1==--specs[l][e]&&explode(e,l):power[l][e]>0&&(specs[l][e]=100);break;case 16:fill(107,50,0),rect(40*e+9+scrollX,40*l+20+scrollY,4,20),fill(8,168,0),rect(40*e+5+scrollX,40*l+17+scrollY,20,10),rect(40*e+7+scrollX,40*l+13+scrollY,10,20),(c=random(1,500))>499&&0===world[l-1][e]&&0===world[l-2][e]&&0===world[l-3][e]&&0===world[l-2][e-1]&&0===world[l-2][e-2]&&0===world[l-2][e+2]&&0===world[l-2][e+1]&&0===world[l-3][e-2]&&0===world[l-3][e-1]&&0===world[l-3][e+1]&&0===world[l-3][e+2]&&0===world[l-4][e-2]&&0===world[l-4][e-1]&&0===world[l-4][e]&&0===world[l-4][e+1]&&0===world[l-4][e+2]&&0===world[l-5][e-1]&&0===world[l-5][e]&&0===world[l-5][e+1]&&(world[l][e]=7,world[l-1][e]=7,world[l-2][e]=7,world[l-3][e]=7,world[l-2][e-1]=9,world[l-2][e-2]=9,world[l-2][e+1]=9,world[l-2][e+2]=9,world[l-3][e-1]=9,world[l-3][e-2]=9,world[l-3][e+1]=9,world[l-3][e+2]=9,world[l-4][e-1]=9,world[l-4][e-2]=9,world[l-4][e]=9,world[l-4][e+1]=9,world[l-4][e+2]=9,world[l-5][e-1]=9,world[l-5][e]=9,world[l-5][e+1]=9),0!==world[l+1][e]&&11!==world[l+1][e]&&12!==world[l+1][e]&&13!==world[l+1][e]&&14!==world[l+1][e]&&16!==world[l+1][e]&&17!==world[l+1][e]||(world[l][e]=0);break;case 17:if(options.fireAnimation){if(options._3D){var r=40*e+scrollX,o=40*l+scrollY+40;drawFlame(r+=(200-r)/4,(o+=(200-o)/7)-30,2),r=40*e+scrollX,o=40*l+scrollY+40,drawFlame(r+=(200-r)/7,(o+=(200-o)/9)-30,2.3)}drawFlame(40*e+scrollX-5,40*l+scrollY,2.6)}else fill(173,49,0),triangle(40*e+scrollX,40*l+40+scrollY,40*e+10+scrollX,40*l+10+scrollY,40*e+20+scrollX,40*l+40+scrollY),triangle(40*e+20+scrollX,40*l+40+scrollY,40*e+30+scrollX,40*l+10+scrollY,40*e+40+scrollX,40*l+40+scrollY),fill(227,170,0),triangle(40*e+2+scrollX,40*l+40+scrollY,40*e+10+scrollX,40*l+18+scrollY,40*e+16+scrollX,40*l+40+scrollY),triangle(40*e+24+scrollX,40*l+40+scrollY,40*e+30+scrollX,40*l+18+scrollY,40*e+36+scrollX,40*l+40+scrollY);0!==world[l+1][e]&&11!==world[l+1][e]&&12!==world[l+1][e]&&13!==world[l+1][e]&&14!==world[l+1][e]&&16!==world[l+1][e]&&17!==world[l+1][e]||(world[l][e]=0),8===world[l+1][e]&&8===world[l+1][e+1]&&8===world[l][e-1]&&8===world[l][e+2]&&8===world[l-1][e-1]&&8===world[l-1][e+2]&&8===world[l-2][e-1]&&8===world[l-2][e+2]&&8===world[l-3][e]&&8===world[l-3][e+1]&&(world[l][e]=18,world[l][e+1]=18,world[l-1][e]=18,world[l-1][e+1]=18,world[l-2][e]=18,world[l-2][e+1]=18),8===world[l+1][e]&&8===world[l+1][e-1]&&8===world[l][e+1]&&8===world[l][e-2]&&8===world[l-1][e+1]&&8===world[l-1][e-2]&&8===world[l-2][e+1]&&8===world[l-2][e-2]&&8===world[l-3][e]&&8===world[l-3][e-1]&&(world[l][e]=18,world[l][e-1]=18,world[l-1][e]=18,world[l-1][e-1]=18,world[l-2][e]=18,world[l-2][e-1]=18),(c=random(0,400))>399&&19!==world[l+1][e]&&(7!==world[l+1][e]&&9!==world[l+1][e]&&5!==world[l+1][e]||(world[l+1][e]=c<399.9?17:0),world[l][e]=0);break;case 18:var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,options._3D?(nether?night?fill(0):fill(181,225,255):fill(100,0,0),rect(r,o,36,36),noStroke(),r=40*e+scrollX,o=40*l+scrollY,r+=(200-r)/9,o+=(200-o)/14,fill(157,0,255,150),rect(r,o,37,39)):(fill(157,0,255),rect(40*e+scrollX,40*l+scrollY,40,40)),0!==world[l][e+1]&&0!==world[l][e-1]&&0!==world[l-1][e]&&0!==world[l+1][e]||(world[l][e]=0);for(p=0;p<mobs.length;p++)dist(mobs.x[p],mobs.y[p],40*e+20,40*l+20)<150&&!round(random(0,2e3))&&(mobs.nether[p]=!nether);break;case 19:if(options._3D){if(opaqueBlocks[world[l-1][e]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(117,23,2),!opaqueBlocks[world[l-1][e-1]]&&r>200?quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,r+30,o,40*e+scrollX,o):!opaqueBlocks[world[l-1][e+1]]&&r<200?quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,40*e+scrollX+40,o,r,o):o>200&&quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,r+30,o,r,o)}if(opaqueBlocks[world[l][e-1]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(77,14,0),!opaqueBlocks[world[l-1][e-1]]&&o>200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,40*l+scrollY,r,o+35):!opaqueBlocks[world[l+1][e-1]]&&o<160?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,o,r,40*l+scrollY+40):r>200&&quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,o,r,o+35)}if(opaqueBlocks[world[l][e+1]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(71,13,0),r<170&&(!opaqueBlocks[world[l-1][e+1]]&&o>200?quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,o+35):!opaqueBlocks[world[l+1][e+1]]&&o<160?quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,40*l+scrollY+40):r<170&&quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,o+35))}if(opaqueBlocks[world[l+1][e]]){var r=40*e+scrollX,o=40*l+scrollY+40;r+=(200-r)/4,o+=(200-o)/7,fill(56,10,0),!opaqueBlocks[world[l+1][e-1]]&&r>200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,r+30,o,40*e+scrollX,o):!opaqueBlocks[world[l+1][e+1]]&&r<200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,o,r,o):o<200&&quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,r+30,o,r,o)}}fill(99,21,2),rect(40*e+scrollX,40*l+scrollY,40,40);break;case 20:if(options._3D){if(opaqueBlocks[world[l-1][e]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(255,237,191),!opaqueBlocks[world[l-1][e-1]]&&r>200?quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,r+30,o,40*e+scrollX,o):!opaqueBlocks[world[l-1][e+1]]&&r<200?quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,40*e+scrollX+40,o,r,o):o>200&&quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,r+30,o,r,o)}if(opaqueBlocks[world[l][e-1]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(209,188,134),!opaqueBlocks[world[l-1][e-1]]&&o>200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,40*l+scrollY,r,o+35):!opaqueBlocks[world[l+1][e-1]]&&o<160?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,o,r,40*l+scrollY+40):r>200&&quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,o,r,o+35)}if(opaqueBlocks[world[l][e+1]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(201,176,114),r<170&&(!opaqueBlocks[world[l-1][e+1]]&&o>200?quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,o+35):!opaqueBlocks[world[l+1][e+1]]&&o<160?quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,40*l+scrollY+40):r<170&&quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,o+35))}if(opaqueBlocks[world[l+1][e]]){var r=40*e+scrollX,o=40*l+scrollY+40;r+=(200-r)/4,o+=(200-o)/7,fill(173,151,97),!opaqueBlocks[world[l+1][e-1]]&&r>200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,r+30,o,40*e+scrollX,o):!opaqueBlocks[world[l+1][e+1]]&&r<200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,o,r,o):o<200&&quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,r+30,o,r,o)}}fill(255,230,166),rect(40*e+scrollX,40*l+scrollY,40,40),0!==world[l+1][e]&&11!==world[l+1][e]&&12!==world[l+1][e]&&13!==world[l+1][e]&&14!==world[l+1][e]&&16!==world[l+1][e]&&17!==world[l+1][e]||(world[l][e]=0,world[l+1][e]=20);break;case 21:if(options._3D){if(opaqueBlocks[world[l-1][e]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(158,148,163),!opaqueBlocks[world[l-1][e-1]]&&r>200?quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,r+30,o,40*e+scrollX,o):!opaqueBlocks[world[l-1][e+1]]&&r<200?quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,40*e+scrollX+40,o,r,o):o>200&&quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,r+30,o,r,o)}if(opaqueBlocks[world[l][e-1]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(116,108,120),!opaqueBlocks[world[l-1][e-1]]&&o>200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,40*l+scrollY,r,o+35):!opaqueBlocks[world[l+1][e-1]]&&o<160?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,o,r,40*l+scrollY+40):r>200&&quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,o,r,o+35)}if(opaqueBlocks[world[l][e+1]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(104,97,107),r<170&&(!opaqueBlocks[world[l-1][e+1]]&&o>200?quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,o+35):!opaqueBlocks[world[l+1][e+1]]&&o<160?quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,40*l+scrollY+40):r<170&&quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,o+35))}if(opaqueBlocks[world[l+1][e]]){var r=40*e+scrollX,o=40*l+scrollY+40;r+=(200-r)/4,o+=(200-o)/7,fill(89,84,92),!opaqueBlocks[world[l+1][e-1]]&&r>200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,r+30,o,40*e+scrollX,o):!opaqueBlocks[world[l+1][e+1]]&&r<200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,o,r,o):o<200&&quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,r+30,o,r,o)}}fill(136,127,140),rect(40*e+scrollX,40*l+scrollY,40,40),0!==world[l+1][e]&&11!==world[l+1][e]&&12!==world[l+1][e]&&13!==world[l+1][e]&&14!==world[l+1][e]&&16!==world[l+1][e]&&17!==world[l+1][e]||(world[l][e]=0,world[l+1][e]=21);break;case 22:if(options._3D){if(opaqueBlocks[world[l-1][e]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(140),!opaqueBlocks[world[l-1][e-1]]&&r>200?quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,r+30,o,40*e+scrollX,o):!opaqueBlocks[world[l-1][e+1]]&&r<200?quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,40*e+scrollX+40,o,r,o):o>200&&quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,r+30,o,r,o)}if(opaqueBlocks[world[l][e-1]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(100),!opaqueBlocks[world[l-1][e-1]]&&o>200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,40*l+scrollY,r,o+35):!opaqueBlocks[world[l+1][e-1]]&&o<160?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,o,r,40*l+scrollY+40):r>200&&quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,o,r,o+35)}if(opaqueBlocks[world[l][e+1]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(90),r<170&&(!opaqueBlocks[world[l-1][e+1]]&&o>200?quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,o+35):!opaqueBlocks[world[l+1][e+1]]&&o<160?quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,40*l+scrollY+40):r<170&&quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,o+35))}if(opaqueBlocks[world[l+1][e]]){var r=40*e+scrollX,o=40*l+scrollY+40;r+=(200-r)/4,o+=(200-o)/7,fill(70),!opaqueBlocks[world[l+1][e-1]]&&r>200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,r+30,o,40*e+scrollX,o):!opaqueBlocks[world[l+1][e+1]]&&r<200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,o,r,o):o<200&&quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,r+30,o,r,o)}}fill(122,122,122),rect(40*e+scrollX,40*l+scrollY,40,40),fill(0,0,0),ellipse(40*e+10+scrollX,40*l+10+scrollY,8,8),ellipse(40*e+28+scrollX,40*l+12+scrollY,10,10),ellipse(40*e+20+scrollX,40*l+18+scrollY,6,6),ellipse(40*e+10+scrollX,40*l+24+scrollY,12,8),ellipse(40*e+28+scrollX,40*l+30+scrollY,18,14);break;case 23:if(options._3D){if(opaqueBlocks[world[l-1][e]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(140),!opaqueBlocks[world[l-1][e-1]]&&r>200?quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,r+30,o,40*e+scrollX,o):!opaqueBlocks[world[l-1][e+1]]&&r<200?quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,40*e+scrollX+40,o,r,o):o>200&&quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,r+30,o,r,o)}if(opaqueBlocks[world[l][e-1]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(100),!opaqueBlocks[world[l-1][e-1]]&&o>200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,40*l+scrollY,r,o+35):!opaqueBlocks[world[l+1][e-1]]&&o<160?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,o,r,40*l+scrollY+40):r>200&&quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,o,r,o+35)}if(opaqueBlocks[world[l][e+1]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(90),r<170&&(!opaqueBlocks[world[l-1][e+1]]&&o>200?quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,o+35):!opaqueBlocks[world[l+1][e+1]]&&o<160?quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,40*l+scrollY+40):r<170&&quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,o+35))}if(opaqueBlocks[world[l+1][e]]){var r=40*e+scrollX,o=40*l+scrollY+40;r+=(200-r)/4,o+=(200-o)/7,fill(70),!opaqueBlocks[world[l+1][e-1]]&&r>200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,r+30,o,40*e+scrollX,o):!opaqueBlocks[world[l+1][e+1]]&&r<200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,o,r,o):o<200&&quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,r+30,o,r,o)}}fill(122,122,122),rect(40*e+scrollX,40*l+scrollY,40,40),fill(191,155,82),ellipse(40*e+10+scrollX,40*l+10+scrollY,8,8),ellipse(40*e+28+scrollX,40*l+12+scrollY,10,10),ellipse(40*e+20+scrollX,40*l+18+scrollY,6,6),ellipse(40*e+10+scrollX,40*l+24+scrollY,12,8),ellipse(40*e+28+scrollX,40*l+30+scrollY,18,14);break;case 24:if(options._3D){if(opaqueBlocks[world[l-1][e]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(140),!opaqueBlocks[world[l-1][e-1]]&&r>200?quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,r+30,o,40*e+scrollX,o):!opaqueBlocks[world[l-1][e+1]]&&r<200?quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,40*e+scrollX+40,o,r,o):o>200&&quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,r+30,o,r,o)}if(opaqueBlocks[world[l][e-1]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(100),!opaqueBlocks[world[l-1][e-1]]&&o>200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,40*l+scrollY,r,o+35):!opaqueBlocks[world[l+1][e-1]]&&o<160?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,o,r,40*l+scrollY+40):r>200&&quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,o,r,o+35)}if(opaqueBlocks[world[l][e+1]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(90),r<170&&(!opaqueBlocks[world[l-1][e+1]]&&o>200?quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,o+35):!opaqueBlocks[world[l+1][e+1]]&&o<160?quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,40*l+scrollY+40):r<170&&quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,o+35))}if(opaqueBlocks[world[l+1][e]]){var r=40*e+scrollX,o=40*l+scrollY+40;r+=(200-r)/4,o+=(200-o)/7,fill(70),!opaqueBlocks[world[l+1][e-1]]&&r>200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,r+30,o,40*e+scrollX,o):!opaqueBlocks[world[l+1][e+1]]&&r<200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,o,r,o):o<200&&quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,r+30,o,r,o)}}fill(122,122,122),rect(40*e+scrollX,40*l+scrollY,40,40),fill(255,234,0),ellipse(40*e+10+scrollX,40*l+10+scrollY,8,8),ellipse(40*e+28+scrollX,40*l+12+scrollY,10,10),ellipse(40*e+20+scrollX,40*l+18+scrollY,6,6),ellipse(40*e+10+scrollX,40*l+24+scrollY,12,8),ellipse(40*e+28+scrollX,40*l+30+scrollY,18,14);break;case 25:if(options._3D){if(opaqueBlocks[world[l-1][e]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(140),!opaqueBlocks[world[l-1][e-1]]&&r>200?quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,r+30,o,40*e+scrollX,o):!opaqueBlocks[world[l-1][e+1]]&&r<200?quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,40*e+scrollX+40,o,r,o):o>200&&quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,r+30,o,r,o)}if(opaqueBlocks[world[l][e-1]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(100),!opaqueBlocks[world[l-1][e-1]]&&o>200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,40*l+scrollY,r,o+35):!opaqueBlocks[world[l+1][e-1]]&&o<160?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,o,r,40*l+scrollY+40):r>200&&quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,o,r,o+35)}if(opaqueBlocks[world[l][e+1]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(90),r<170&&(!opaqueBlocks[world[l-1][e+1]]&&o>200?quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,o+35):!opaqueBlocks[world[l+1][e+1]]&&o<160?quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,40*l+scrollY+40):r<170&&quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,o+35))}if(opaqueBlocks[world[l+1][e]]){var r=40*e+scrollX,o=40*l+scrollY+40;r+=(200-r)/4,o+=(200-o)/7,fill(70),!opaqueBlocks[world[l+1][e-1]]&&r>200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,r+30,o,40*e+scrollX,o):!opaqueBlocks[world[l+1][e+1]]&&r<200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,o,r,o):o<200&&quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,r+30,o,r,o)}}fill(122,122,122),rect(40*e+scrollX,40*l+scrollY,40,40),fill(0,21,255),ellipse(40*e+10+scrollX,40*l+10+scrollY,8,8),ellipse(40*e+28+scrollX,40*l+12+scrollY,10,10),ellipse(40*e+20+scrollX,40*l+18+scrollY,6,6),ellipse(40*e+10+scrollX,40*l+24+scrollY,12,8),ellipse(40*e+28+scrollX,40*l+30+scrollY,18,14);break;case 26:if(options._3D){if(opaqueBlocks[world[l-1][e]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(140),!opaqueBlocks[world[l-1][e-1]]&&r>200?quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,r+30,o,40*e+scrollX,o):!opaqueBlocks[world[l-1][e+1]]&&r<200?quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,40*e+scrollX+40,o,r,o):o>200&&quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,r+30,o,r,o)}if(opaqueBlocks[world[l][e-1]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(100),!opaqueBlocks[world[l-1][e-1]]&&o>200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,40*l+scrollY,r,o+35):!opaqueBlocks[world[l+1][e-1]]&&o<160?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,o,r,40*l+scrollY+40):r>200&&quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,o,r,o+35)}if(opaqueBlocks[world[l][e+1]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(90),r<170&&(!opaqueBlocks[world[l-1][e+1]]&&o>200?quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,o+35):!opaqueBlocks[world[l+1][e+1]]&&o<160?quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,40*l+scrollY+40):r<170&&quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,o+35))}if(opaqueBlocks[world[l+1][e]]){var r=40*e+scrollX,o=40*l+scrollY+40;r+=(200-r)/4,o+=(200-o)/7,fill(70),!opaqueBlocks[world[l+1][e-1]]&&r>200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,r+30,o,40*e+scrollX,o):!opaqueBlocks[world[l+1][e+1]]&&r<200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,o,r,o):o<200&&quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,r+30,o,r,o)}}fill(122,122,122),rect(40*e+scrollX,40*l+scrollY,40,40),fill(0,238,255),ellipse(40*e+10+scrollX,40*l+10+scrollY,8,8),ellipse(40*e+28+scrollX,40*l+12+scrollY,10,10),ellipse(40*e+20+scrollX,40*l+18+scrollY,6,6),ellipse(40*e+10+scrollX,40*l+24+scrollY,12,8),ellipse(40*e+28+scrollX,40*l+30+scrollY,18,14);break;case 27:if(options._3D){if(opaqueBlocks[world[l-1][e]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(222,145,77),stroke(120,83,44),!opaqueBlocks[world[l-1][e-1]]&&r>200?quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,r+30,o,40*e+scrollX,o):!opaqueBlocks[world[l-1][e+1]]&&r<200?quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,40*e+scrollX+40,o,r,o):o>200&&quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,r+30,o,r,o)}if(noStroke(),opaqueBlocks[world[l][e-1]]){var r=40*e+scrollX,o=40*l+scrollY;o+=(200-o)/7,(r+=(200-r)/4)>200&&(fill(176,129,67),!opaqueBlocks[world[l-1][e-1]]&&o>200?(quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,40*l+scrollY,r,o+35),stroke(120,83,44),line(r,o,40*e+scrollX,40*l+scrollY),line(40*e+scrollX,40*l+scrollY+10,r,o+8),line(40*e+scrollX,40*l+scrollY+20,r,o+16),line(40*e+scrollX,40*l+scrollY+30,r,o+24)):!opaqueBlocks[world[l+1][e-1]]&&o<160?(quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,o,r,40*l+scrollY+40),stroke(120,83,44),line(r,o,40*e+scrollX,40*l+scrollY),line(40*e+scrollX,40*l+scrollY+10,r,o+8),line(40*e+scrollX,40*l+scrollY+20,r,o+16),line(40*e+scrollX,40*l+scrollY+30,r,o+24)):r>200&&(quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,o,r,o+35),stroke(120,83,44),line(r,o,40*e+scrollX,40*l+scrollY),line(40*e+scrollX,40*l+scrollY+10,r,o+8),line(40*e+scrollX,40*l+scrollY+20,r,o+16),line(40*e+scrollX,40*l+scrollY+30,r,o+24)))}if(noStroke(),opaqueBlocks[world[l][e+1]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(153,107,47),r<170&&(!opaqueBlocks[world[l-1][e+1]]&&o>200?(quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,o+35),stroke(120,83,44),line(r+30,o,40*e+scrollX+40,40*l+scrollY),line(40*e+scrollX+40,40*l+scrollY+10,r+30,o+8),line(40*e+scrollX+40,40*l+scrollY+20,r+30,o+16),line(40*e+scrollX+40,40*l+scrollY+30,r+30,o+24)):!opaqueBlocks[world[l+1][e+1]]&&o<160?(quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,40*l+scrollY+40),stroke(120,83,44),line(r+30,o,40*e+scrollX+40,40*l+scrollY),line(40*e+scrollX+40,40*l+scrollY+10,r+30,o+8),line(40*e+scrollX+40,40*l+scrollY+20,r+30,o+16),line(40*e+scrollX+40,40*l+scrollY+30,r+30,o+24)):r<170&&(quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,o+35),stroke(120,83,44),line(r+30,o,40*e+scrollX+40,40*l+scrollY),line(40*e+scrollX+40,40*l+scrollY+10,r+30,o+8),line(40*e+scrollX+40,40*l+scrollY+20,r+30,o+16),line(40*e+scrollX+40,40*l+scrollY+30,r+30,o+24)))}if(noStroke(),opaqueBlocks[world[l+1][e]]){var r=40*e+scrollX,o=40*l+scrollY+40;r+=(200-r)/4,o+=(200-o)/7,fill(112,75,30),!opaqueBlocks[world[l+1][e-1]]&&r>200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,r+30,o,40*e+scrollX,o):!opaqueBlocks[world[l+1][e+1]]&&r<200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,o,r,o):o<200&&quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,r+30,o,r,o)}}fill(201,153,80),rect(40*e+scrollX,40*l+scrollY,40,40),stroke(120,83,44),strokeWeight(2),line(40*e+scrollX,40*l+scrollY,40*e+40+scrollX,40*l+scrollY),line(40*e+scrollX,40*l+10+scrollY,40*e+40+scrollX,40*l+10+scrollY),line(40*e+scrollX,40*l+20+scrollY,40*e+40+scrollX,40*l+20+scrollY),line(40*e+scrollX,40*l+30+scrollY,40*e+40+scrollX,40*l+30+scrollY),line(40*e+scrollX,40*l+scrollY,40*e+scrollX,40*l+40+scrollY),line(40*e+40+scrollX,40*l+scrollY,40*e+40+scrollX,40*l+40+scrollY),fill(196,126,65),triangle(40*e+2+scrollX,40*l+scrollY,40*e+20+scrollX,40*l+16+scrollY,40*e+38+scrollX,40*l+scrollY),stroke(122,122,122),strokeWeight(4),line(40*e+10+scrollX,40*l+20+scrollY,40*e+10+scrollX,40*l+34+scrollY),line(40*e+30+scrollX,40*l+16+scrollY,40*e+30+scrollX,40*l+30+scrollY),noStroke(),strokeWeight(2);break;case 28:if(fill(201,153,80),stroke(97,58,0),0===specs[l][e]){if(options._3D){if(opaqueBlocks[world[l][e-1]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/17,o+=(200-o)/15+4,fill(163,121,57),!opaqueBlocks[world[l-1][e-1]]&&o>200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,40*l+scrollY,r,o+35):!opaqueBlocks[world[l+1][e-1]]&&o<160?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,o,r,40*l+scrollY+40):r>200&&quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,o,r,o+35)}var r=40*e+scrollX,o=40*l+scrollY;if(r+=(200-r)/12,o+=(200-o)/15+4,fill(138,97,40),r<170&&(!opaqueBlocks[world[l+1][e]]&&o<160?quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+35,o,r+35,40*l+scrollY+40):r<170&&quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+35,o,r+35,o+35)),opaqueBlocks[world[l+1][e]]){var r=40*e+scrollX,o=40*l+scrollY+40;r+=(200-r)/17,o+=(200-o)/15,fill(105,72,25),!opaqueBlocks[world[l+1][e-1]]&&r>200&&quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+10,40*l+scrollY+40,r+36,o,40*e+scrollX,o),o<200&&quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,r+36,o,r,o)}}fill(201,153,80),rect(40*e+scrollX,40*l+scrollY,40,40),rect(40*e+5+scrollX,40*l+5+scrollY,30,30),fill(66,66,66),stroke(66,66,66),ellipse(40*e+35+scrollX,40*l+scrollY,3,3),strokeWeight(4),line(40*e+35+scrollX,40*l+scrollY,40*e+30+scrollX,40*l+scrollY)}else if(1===specs[l][e]){if(options._3D){if(opaqueBlocks[world[l][e-1]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(163,121,57),!opaqueBlocks[world[l-1][e-1]]&&o>200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,40*l+scrollY,r,o+35):!opaqueBlocks[world[l+1][e-1]]&&o<160?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,o,r,40*l+scrollY+40):r>200&&quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,o,r,o+35)}var r=40*e+scrollX-30,o=40*l+scrollY;if(r+=(200-r)/4,o+=(200-o)/7,fill(138,97,40),r<170&&(!opaqueBlocks[world[l+1][e]]&&o<160?quad(40*e+scrollX+10,40*l+scrollY+40,40*e+scrollX+10,40*l+scrollY,r+35,o,r+35,40*l+scrollY+40):r<170&&quad(40*e+scrollX+10,40*l+scrollY+40,40*e+scrollX+10,40*l+scrollY,r+35,o,r+35,o+35)),opaqueBlocks[world[l+1][e]]){var r=40*e+scrollX,o=40*l+scrollY+40;r+=(200-r)/4,o+=(200-o)/7,fill(105,72,25),!opaqueBlocks[world[l+1][e-1]]&&r>200&&quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+10,40*l+scrollY+40,r+8,o,40*e+scrollX,o),o<200&&quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+10,40*l+scrollY+40,r+8,o,r,o)}}fill(201,153,80),rect(40*e+scrollX,40*l+scrollY,10,40)}strokeWeight(2);break;case 29:if(fill(201,153,80),stroke(97,58,0),0===specs[l][e]){if(options._3D){if(opaqueBlocks[world[l-1][e]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/15,o+=(200-o)/17,fill(204,156,84),!opaqueBlocks[world[l-1][e-1]]&&r>200?quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,r+36,o,40*e+scrollX,o):o>200&&quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,r+36,o,r,o)}if(opaqueBlocks[world[l][e-1]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/17,o+=(200-o)/15+4,fill(163,121,57),!opaqueBlocks[world[l-1][e-1]]&&o>200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,40*l+scrollY,r,o+35):!opaqueBlocks[world[l+1][e-1]]&&o<160?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,o,r,40*l+scrollY+40):r>200&&quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,o,r,o+35)}var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/12,o+=(200-o)/15+4,fill(138,97,40),r<170&&(!opaqueBlocks[world[l+1][e]]&&o<160?quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+35,o,r+35,40*l+scrollY+40):r<170&&quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+35,o,r+35,o+35))}fill(201,153,80),rect(40*e+scrollX,40*l+scrollY,40,40),rect(40*e+5+scrollX,40*l+5+scrollY,30,30)}else if(1===specs[l][e]){if(options._3D){if(opaqueBlocks[world[l-1][e]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(204,156,84),!opaqueBlocks[world[l-1][e-1]]&&r>200?quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+10,40*l+scrollY,r+8,o,40*e+scrollX,o):o>200&&quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+10,40*l+scrollY,r+8,o,r,o)}if(opaqueBlocks[world[l][e-1]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(163,121,57),!opaqueBlocks[world[l-1][e-1]]&&o>200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,40*l+scrollY,r,o+35):!opaqueBlocks[world[l+1][e-1]]&&o<160?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,o,r,40*l+scrollY+40):r>200&&quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,o,r,o+35)}var r=40*e+scrollX-30,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(138,97,40),r<170&&(!opaqueBlocks[world[l+1][e]]&&o<160?quad(40*e+scrollX+10,40*l+scrollY+40,40*e+scrollX+10,40*l+scrollY,r+35,o,r+35,40*l+scrollY+40):r<170&&quad(40*e+scrollX+10,40*l+scrollY+40,40*e+scrollX+10,40*l+scrollY,r+35,o,r+35,o+35))}fill(201,153,80),rect(40*e+scrollX,40*l+scrollY,10,40)}28!==world[l+1][e]&&(world[l][e]=0);break;case 30:if(fill(201,153,80),stroke(120,83,44),options._3D){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,rect(r,o,7,35),rect(r+23,o,7,35),rect(r,o,7,35),rect(r,o+6,30,7),rect(r,o+20,30,7)}else rect(40*e+scrollX,40*l+scrollY,7,40),rect(40*e+33+scrollX,40*l+scrollY,7,40),rect(40*e+scrollX,40*l+scrollY+10,40,7),rect(40*e+scrollX,40*l+scrollY+30,40,7);break;case 31:if(options._3D){if(opaqueBlocks[world[l-1][e]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(0,158,0),!opaqueBlocks[world[l-1][e-1]]&&r>200?quad(40*e+scrollX+2,40*l+scrollY,40*e+scrollX+38,40*l+scrollY,r+28,o,40*e+scrollX,o):!opaqueBlocks[world[l-1][e+1]]&&r<200?quad(40*e+scrollX+2,40*l+scrollY,40*e+scrollX+38,40*l+scrollY,40*e+scrollX+40,o,r+2,o):o>200&&quad(40*e+scrollX+2,40*l+scrollY,40*e+scrollX+38,40*l+scrollY,r+28,o,r+2,o)}if(opaqueBlocks[world[l][e-1]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(0,112,0),!opaqueBlocks[world[l-1][e-1]]&&o>200?quad(40*e+scrollX+2,40*l+scrollY+40,40*e+scrollX+2,40*l+scrollY,r+2,40*l+scrollY,r+2,o+35):!opaqueBlocks[world[l+1][e-1]]&&o<160?quad(40*e+scrollX+2,40*l+scrollY+40,40*e+scrollX+2,40*l+scrollY,r+2,o,r+2,40*l+scrollY+40):r>200&&quad(40*e+scrollX+2,40*l+scrollY+40,40*e+scrollX+2,40*l+scrollY,r+2,o,r+2,o+35)}if(opaqueBlocks[world[l][e+1]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(0,89,0),r<170&&(!opaqueBlocks[world[l-1][e+1]]&&o>200?quad(40*e+scrollX+38,40*l+scrollY+40,40*e+scrollX+38,40*l+scrollY,r+29,o,r+29,o+35):!opaqueBlocks[world[l+1][e+1]]&&o<160?quad(40*e+scrollX+38,40*l+scrollY+40,40*e+scrollX+38,40*l+scrollY,r+29,o,r+29,40*l+scrollY+40):r<170&&quad(40*e+scrollX+38,40*l+scrollY+40,40*e+scrollX+38,40*l+scrollY,r+29,o,r+29,o+35))}}stroke(0),line(40*e+scrollX,40*l+scrollY+5,40*e+scrollX+40,40*l+scrollY+5),line(40*e+scrollX,40*l+scrollY+15,40*e+scrollX+40,40*l+scrollY+15),line(40*e+scrollX,40*l+scrollY+25,40*e+scrollX+40,40*l+scrollY+25),line(40*e+scrollX,40*l+scrollY+35,40*e+scrollX+40,40*l+scrollY+35),fill(0,130,0),noStroke(),rect(40*e+scrollX+2,40*l+scrollY,36,40),20!==world[l- -1][e]&&31!==world[l- -1][e]&&(world[l][e]=0,spawnEntity(40*e+10,40*l+10,0,31));break;case 32:if(options._3D){if(opaqueBlocks[world[l-1][e]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(217,239,255),!opaqueBlocks[world[l-1][e-1]]&&r>200?(quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,r+30,o,40*e+scrollX,o),opaqueBlocks[world[l-1][e+1]]||(fill(0,0,0,25),triangle(r+30,o,40*e+scrollX+40,40*l+scrollY,r+30,40*l+scrollY))):!opaqueBlocks[world[l-1][e+1]]&&r<160?(quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,40*e+scrollX+40,o,r,o),opaqueBlocks[world[l-1][e-1]]||(fill(0,0,0,25),triangle(r,o,40*e+scrollX,40*l+scrollY,r,40*l+scrollY))):o>200&&(quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,r+30,o,r,o),opaqueBlocks[world[l-1][e+1]]||(fill(0,0,0,25),triangle(r+30,o,40*e+scrollX+40,40*l+scrollY,r+30,40*l+scrollY)),opaqueBlocks[world[l-1][e-1]]||(fill(0,0,0,25),triangle(r,o,40*e+scrollX,40*l+scrollY,r,40*l+scrollY)))}if(opaqueBlocks[world[l][e-1]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(171,219,255),!opaqueBlocks[world[l-1][e-1]]&&o>200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,40*l+scrollY,r,o+35):!opaqueBlocks[world[l+1][e-1]]&&o<160?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,o,r,40*l+scrollY+40):r>200&&quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,o,r,o+35)}if(opaqueBlocks[world[l][e+1]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(156,204,240),r<170&&(!opaqueBlocks[world[l-1][e+1]]&&o>200?quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,o+35):!opaqueBlocks[world[l+1][e+1]]&&o<160?quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,40*l+scrollY+40):r<170&&quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,o+35))}if(l<39&&opaqueBlocks[world[l+1][e]]){var r=40*e+scrollX,o=40*l+scrollY+40;r+=(200-r)/4,o+=(200-o)/7,fill(116,171,214),!opaqueBlocks[world[l+1][e-1]]&&r>200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,r+30,o,40*e+scrollX,o):!opaqueBlocks[world[l+1][e+1]]&&r<200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,o,r,o):o<200&&quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,r+30,o,r,o)}}fill(199,230,255),rect(40*e+scrollX,40*l+scrollY,40,40),stroke(255),line(40*e+scrollX+10,40*l+scrollY+30,40*e+scrollX+20,40*l+scrollY+20),line(40*e+scrollX+5,40*l+scrollY+15,40*e+scrollX+15,40*l+scrollY+5),stroke(92,171,255),line(40*e+scrollX+25,40*l+scrollY+35,40*e+scrollX+35,40*l+scrollY+25),line(40*e+scrollX+20,40*l+scrollY+15,40*e+scrollX+30,40*l+scrollY+5);break;case 33:if(stroke(71),options._3D){if(opaqueBlocks[world[l-1][e]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(140),!opaqueBlocks[world[l-1][e-1]]&&r>200?quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,r+30,o,40*e+scrollX,o):!opaqueBlocks[world[l-1][e+1]]&&r<200?quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,40*e+scrollX+40,o,r,o):o>200&&quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,r+30,o,r,o)}if(opaqueBlocks[world[l][e-1]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(100),!opaqueBlocks[world[l-1][e-1]]&&o>200?(quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,40*l+scrollY,r,o+35),fill(150),quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY+20,r,o+19,r,o+35)):!opaqueBlocks[world[l+1][e-1]]&&o<160?(quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,o,r,40*l+scrollY+40),fill(150),quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY+20,r,o+19,r,40*l+scrollY+40)):r>200&&(quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,o,r,o+35),fill(150),quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY+20,r,o+19,r,o+35))}if(opaqueBlocks[world[l][e+1]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(90),r<170&&(!opaqueBlocks[world[l-1][e+1]]&&o>200?(quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,o+35),fill(120),quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+20,r+31,o+19,r+31,o+35)):!opaqueBlocks[world[l+1][e+1]]&&o<160?(quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,40*l+scrollY+40),fill(120),quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+20,r+31,o+19,r+31,40*l+scrollY+40)):r<170&&(quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,o+35),fill(120),quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+20,r+31,o+19,r+31,o+35)))}if(opaqueBlocks[world[l+1][e]]){var r=40*e+scrollX,o=40*l+scrollY+40;r+=(200-r)/4,o+=(200-o)/7,fill(70),!opaqueBlocks[world[l+1][e-1]]&&r>200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,r+30,o,40*e+scrollX,o):!opaqueBlocks[world[l+1][e+1]]&&r<200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,o,r,o):o<200&&quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,r+30,o,r,o)}}fill(0),strokeWeight(2),stroke(71,71,71),fill(120),rect(40*e+scrollX,40*l+scrollY,40,20),fill(0),ellipse(40*e+scrollX+20,40*l+scrollY+20,30,25),fill(168),rect(40*e+scrollX,40*l+20+scrollY,40,20),fill(0),specs[l][e][3]>1?specs[l][e][10]>0&&(specs[l][e][3]-=.5):specs[l][e][3]>0?(15===specs[l][e][4]&&explode(e,l),specs[l][e][7]=furnaceRecipes[specs[l][e][4]],specs[l][e][8]++,specs[l][e][5]--,specs[l][e][3]-=1):(specs[l][e][3]=0,furnaceRecipes[specs[l][e][4]]&&specs[l][e][10]>0&&(specs[l][e][3]=50)),specs[l][e][1]<=0&&(specs[l][e][0]=0),specs[l][e][5]<=0&&(specs[l][e][4]=0),null!==burnValues[specs[l][e][0]]&&null!==furnaceRecipes[specs[l][e][4]]&&0===specs[l][e][10]&&(specs[l][e][11]=burnValues[specs[l][e][0]],specs[l][e][10]=5*burnValues[specs[l][e][0]],specs[l][e][1]--),specs[l][e][10]>0?(fill(255,0,0),specs[l][e][10]-=.05):fill(0);for(var u=[],h=[],p=0;p<4;p++)u[p]=15*sin(60*p+90)+40*e+scrollX+20,h[p]=17*cos(60*p+90)+40*l+scrollY+40;if(furnaceRecipes[specs[l][e][4]]||(specs[l][e][3]=50),bezier(u[0],h[0],u[1],h[1],u[2],h[2],u[3],h[3]),noStroke(),specs[l][e][10]<0&&(specs[l][e][10]=0),specs[l][e][10]>0)for(p=3;p>=0;p--){fill(255,255-55*p,0);for(v=0;v<4;v++)u[v]=sin(60*v+90)*(4*p-1)+40*e+scrollX+20,h[v]=cos(60*v+90)*(4*p-1)+40*l+scrollY+40;bezier(u[0],h[0],u[1],h[1],u[2],h[2],u[3],h[3])}break;case 34:if(fill(184,133,57),stroke(120,83,44),strokeWeight(2),34!==world[l][e-1])if(34===world[l][e- -1]){if(options._3D){if(opaqueBlocks[world[l-1][e]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(209,149,65),!opaqueBlocks[world[l-1][e-1]]&&r>200?quad(40*e+scrollX+3,40*l+scrollY+5,40*e+scrollX+77,40*l+scrollY+5,r+57,o+5,r+2,o+5):!opaqueBlocks[world[l-1][e+1]]&&r<200?quad(40*e+scrollX+3,40*l+scrollY+5,40*e+scrollX+77,40*l+scrollY+5,r+57,o+5,r+2,o+5):o>200&&quad(40*e+scrollX+3,40*l+scrollY+5,40*e+scrollX+77,40*l+scrollY+5,r+57,o+5,r+2,o+5)}if(opaqueBlocks[world[l][e-1]]&&40*e+scrollX>200){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(166,117,48),!opaqueBlocks[world[l-1][e-1]]&&o>200?(quad(40*e+scrollX+2,40*l+scrollY+40,40*e+scrollX+2,40*l+scrollY+5,r+3,o+5,r+3,o+35),line(40*e+scrollX+3,40*l+scrollY+13,r+3,o+12),line(40*e+scrollX+3,40*l+scrollY+23,r+3,o+21),line(40*e+scrollX+3,40*l+scrollY+33,r+3,o+30)):!opaqueBlocks[world[l+1][e-1]]&&o<160?(quad(40*e+scrollX+2,40*l+scrollY+40,40*e+scrollX+2,40*l+scrollY+5,r+3,o+5,r+3,40*l+scrollY+40),line(40*e+scrollX+3,40*l+scrollY+13,r+3,o+12),line(40*e+scrollX+3,40*l+scrollY+23,r+3,o+21),line(40*e+scrollX+3,40*l+scrollY+33,r+3,o+30)):r>200&&(quad(40*e+scrollX+2,40*l+scrollY+40,40*e+scrollX+2,40*l+scrollY+5,r+3,o+5,r+3,o+35),line(40*e+scrollX+3,40*l+scrollY+13,r+3,o+12),line(40*e+scrollX+3,40*l+scrollY+23,r+3,o+21),line(40*e+scrollX+3,40*l+scrollY+33,r+3,o+30))}if(opaqueBlocks[world[l][e+1]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(148,95,35),r<170&&(!opaqueBlocks[world[l-1][e+1]]&&o>200?(quad(40*e+scrollX+78,40*l+scrollY+40,40*e+scrollX+78,40*l+scrollY+5,r+58,o+5,r+58,o+35),line(40*e+scrollX+77,40*l+scrollY+13,r+58,o+12),line(40*e+scrollX+77,40*l+scrollY+23,r+58,o+21),line(40*e+scrollX+77,40*l+scrollY+33,r+58,o+30)):!opaqueBlocks[world[l+1][e+1]]&&o<160?(quad(40*e+scrollX+78,40*l+scrollY+40,40*e+scrollX+78,40*l+scrollY+5,r+58,o+5,r+58,40*l+scrollY+40),line(40*e+scrollX+77,40*l+scrollY+13,r+58,o+12),line(40*e+scrollX+77,40*l+scrollY+23,r+58,o+21),line(40*e+scrollX+77,40*l+scrollY+33,r+58,o+30)):r<170&&(quad(40*e+scrollX+78,40*l+scrollY+40,40*e+scrollX+78,40*l+scrollY+5,r+58,o+5,r+58,o+35),line(40*e+scrollX+77,40*l+scrollY+13,r+58,o+12),line(40*e+scrollX+77,40*l+scrollY+23,r+58,o+21),line(40*e+scrollX+77,40*l+scrollY+33,r+58,o+30)))}}fill(184,133,57),rect(40*e+scrollX+3,40*l+scrollY+5,74,35),line(40*e+scrollX+5,40*l+10+scrollY+3,40*e+74+scrollX,40*l+10+scrollY+3),line(40*e+scrollX+5,40*l+20+scrollY+3,40*e+74+scrollX,40*l+20+scrollY+3),line(40*e+scrollX+5,40*l+30+scrollY+3,40*e+74+scrollX,40*l+30+scrollY+3),fill(225),stroke(200),rect(40*e+scrollX+37,40*l+scrollY+10,6,10)}else{if(options._3D){if(opaqueBlocks[world[l-1][e]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(209,149,65),!opaqueBlocks[world[l-1][e-1]]&&r>200?quad(40*e+scrollX+3,40*l+scrollY+5,40*e+scrollX+37,40*l+scrollY+5,r+28,o+5,r+2,o+5):!opaqueBlocks[world[l-1][e+1]]&&r<200?quad(40*e+scrollX+3,40*l+scrollY+5,40*e+scrollX+37,40*l+scrollY+5,r+28,o+5,r+2,o+5):o>200&&quad(40*e+scrollX+3,40*l+scrollY+5,40*e+scrollX+37,40*l+scrollY+5,r+28,o+5,r+2,o+5)}if(opaqueBlocks[world[l][e-1]]&&40*e+scrollX>200){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(166,117,48),!opaqueBlocks[world[l-1][e-1]]&&o>200?(quad(40*e+scrollX+2,40*l+scrollY+40,40*e+scrollX+2,40*l+scrollY+5,r+3,o+5,r+3,o+35),line(40*e+scrollX+3,40*l+scrollY+13,r+3,o+12),line(40*e+scrollX+3,40*l+scrollY+23,r+3,o+21),line(40*e+scrollX+3,40*l+scrollY+33,r+3,o+30)):!opaqueBlocks[world[l+1][e-1]]&&o<160?(quad(40*e+scrollX+2,40*l+scrollY+40,40*e+scrollX+2,40*l+scrollY+5,r+3,o+5,r+3,40*l+scrollY+40),line(40*e+scrollX+3,40*l+scrollY+13,r+3,o+12),line(40*e+scrollX+3,40*l+scrollY+23,r+3,o+21),line(40*e+scrollX+3,40*l+scrollY+33,r+3,o+30)):r>200&&(quad(40*e+scrollX+2,40*l+scrollY+40,40*e+scrollX+2,40*l+scrollY+5,r+3,o+5,r+3,o+35),line(40*e+scrollX+3,40*l+scrollY+13,r+3,o+12),line(40*e+scrollX+3,40*l+scrollY+23,r+3,o+21),line(40*e+scrollX+3,40*l+scrollY+33,r+3,o+30))}if(opaqueBlocks[world[l][e+1]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(148,95,35),r<170&&(!opaqueBlocks[world[l-1][e+1]]&&o>200?(quad(40*e+scrollX+38,40*l+scrollY+40,40*e+scrollX+38,40*l+scrollY+5,r+29,o+5,r+29,o+35),line(40*e+scrollX+37,40*l+scrollY+13,r+29,o+12),line(40*e+scrollX+37,40*l+scrollY+23,r+29,o+21),line(40*e+scrollX+37,40*l+scrollY+33,r+29,o+30)):!opaqueBlocks[world[l+1][e+1]]&&o<160?(quad(40*e+scrollX+38,40*l+scrollY+40,40*e+scrollX+38,40*l+scrollY+5,r+29,o+5,r+29,40*l+scrollY+40),line(40*e+scrollX+37,40*l+scrollY+13,r+29,o+12),line(40*e+scrollX+37,40*l+scrollY+23,r+29,o+21),line(40*e+scrollX+37,40*l+scrollY+33,r+29,o+30)):r<170&&(quad(40*e+scrollX+38,40*l+scrollY+40,40*e+scrollX+38,40*l+scrollY+5,r+29,o+5,r+29,o+35),line(40*e+scrollX+37,40*l+scrollY+13,r+29,o+12),line(40*e+scrollX+37,40*l+scrollY+23,r+29,o+21),line(40*e+scrollX+37,40*l+scrollY+33,r+29,o+30)))}}fill(184,133,57),rect(40*e+scrollX+3,40*l+scrollY+5,34,35),line(40*e+scrollX+5,40*l+10+scrollY+3,40*e+34+scrollX,40*l+10+scrollY+3),line(40*e+scrollX+5,40*l+20+scrollY+3,40*e+34+scrollX,40*l+20+scrollY+3),line(40*e+scrollX+5,40*l+30+scrollY+3,40*e+34+scrollX,40*l+30+scrollY+3),fill(225),stroke(200),rect(40*e+scrollX+17,40*l+scrollY+10,6,10)}noStroke();break;case 35:if(options._3D){if(stroke(49,105,0),opaqueBlocks[world[l-1][e]]){var r=40*e+scrollX,o=40*l+scrollY;if(r+=(200-r)/4,o+=(200-o)/7,fill(140),!opaqueBlocks[world[l-1][e-1]]&&r>200){quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,r+30,o,40*e+scrollX,o),line(40*e+scrollX+20,40*l+scrollY,r+17,o);var t=40*e+scrollX,s=40*l+scrollY;t+=(200-r)/6,s+=(200-o)/10,line(t,s,t+36,s)}else if(!opaqueBlocks[world[l-1][e+1]]&&r<200){quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,40*e+scrollX+40,o,r,o),line(40*e+scrollX+20,40*l+scrollY,r+17,o);var t=40*e+scrollX,s=40*l+scrollY;t+=(200-r)/6,s+=(200-o)/10,line(t,s,t+36,s)}else if(o>200){quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,r+30,o,r,o),line(40*e+scrollX+20,40*l+scrollY,r+16,o);var t=40*e+scrollX,s=40*l+scrollY;t+=(200-r)/6,s+=(200-o)/10,line(t,s,t+36,s)}}if(opaqueBlocks[world[l][e-1]]){var r=40*e+scrollX,o=40*l+scrollY;if(r+=(200-r)/4,o+=(200-o)/7,fill(100),!opaqueBlocks[world[l-1][e-1]]&&o>200){quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,40*l+scrollY,r,o+35),line(40*e+scrollX,40*l+scrollY+20,r,o+16);var t=40*e+scrollX,s=40*l+scrollY;t+=(200-r)/6,s+=(200-o)/10,line(t,s,t,s+36)}else if(!opaqueBlocks[world[l+1][e-1]]&&o<160){quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,o,r,40*l+scrollY+40),line(40*e+scrollX,40*l+scrollY+20,r,o+16);var t=40*e+scrollX,s=40*l+scrollY;t+=(200-r)/6,s+=(200-o)/10,line(t,s,t,s+36)}else if(r>200){quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,o,r,o+35),line(40*e+scrollX,40*l+scrollY+20,r,o+16);var t=40*e+scrollX,s=40*l+scrollY;t+=(200-r)/6,s+=(200-o)/10,line(t,s,t,s+36)}}if(opaqueBlocks[world[l][e+1]]){var r=40*e+scrollX,o=40*l+scrollY;if(r+=(200-r)/4,o+=(200-o)/7,fill(90),r<170)if(!opaqueBlocks[world[l-1][e+1]]&&o>200){quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,o+35);var t=40*e+scrollX,s=40*l+scrollY;line(40*e+scrollX+40,40*l+scrollY+20,r+30,o+16),t+=(200-r)/6,s+=(200-o)/10,line(t+36,s,t+36,s+36)}else if(!opaqueBlocks[world[l+1][e+1]]&&o<200){quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,o+35);var t=40*e+scrollX,s=40*l+scrollY;line(40*e+scrollX+40,40*l+scrollY+20,r+30,o+16),t+=(200-r)/6,s+=(200-o)/10,line(t+36,s,t+36,s+36)}else if(r<170){quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,o+35);var t=40*e+scrollX,s=40*l+scrollY;line(40*e+scrollX+40,40*l+scrollY+20,r+30,o+16),t+=(200-r)/6,s+=(200-o)/10,line(t+36,s,t+36,s+36)}}if(opaqueBlocks[world[l+1][e]]){var r=40*e+scrollX,o=40*l+scrollY+40;r+=(200-r)/4,o+=(200-o)/7,fill(70),!opaqueBlocks[world[l+1][e-1]]&&r>200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,r+30,o,40*e+scrollX,o):!opaqueBlocks[world[l+1][e+1]]&&r<200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,o,r,o):o<200&&quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,r+30,o,r,o)}}fill(122,122,122),strokeWeight(2),stroke(49,105,0),rect(40*e+scrollX,40*l+scrollY,20,20),rect(40*e+20+scrollX,40*l+scrollY,20,20),rect(40*e+scrollX,40*l+20+scrollY,20,20),rect(40*e+20+scrollX,40*l+20+scrollY,20,20),noStroke(),fill(166,194,134),triangle(40*e+scrollX+5,40*l+scrollY,40*e+scrollX+13,40*l+scrollY,40*e+scrollX+9,40*l+scrollY+15),triangle(40*e+scrollX+25,40*l+scrollY+10,40*e+scrollX+33,40*l+scrollY+10,40*e+scrollX+29,40*l+scrollY+20),triangle(40*e+scrollX+10,40*l+scrollY+25,40*e+scrollX+20,40*l+scrollY+25,40*e+scrollX+15,40*l+scrollY+40);break;case 36:if(options._3D){if(opaqueBlocks[world[l-1][e]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,stroke(0,76,77),noFill(),strokeWeight(5),!opaqueBlocks[world[l-1][e-1]]&&r>200?quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,r+30,o,40*e+scrollX,o):!opaqueBlocks[world[l-1][e+1]]&&r<200?quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,40*e+scrollX+40,o,r,o):o>200&&quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,r+30,o,r,o)}if(opaqueBlocks[world[l][e-1]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,stroke(0,76,77),noFill(),strokeWeight(5),!opaqueBlocks[world[l-1][e-1]]&&o>200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,40*l+scrollY,r,o+35):!opaqueBlocks[world[l+1][e-1]]&&o<160?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,o,r,40*l+scrollY+40):r>200&&quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,o,r,o+35)}if(opaqueBlocks[world[l][e+1]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,stroke(0,76,77),noFill(),strokeWeight(5),r<170&&(!opaqueBlocks[world[l-1][e+1]]&&o>200?quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,o+35):!opaqueBlocks[world[l+1][e+1]]&&o<160?quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,40*l+scrollY+40):r<170&&quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,o+35))}if(opaqueBlocks[world[l+1][e]]){var r=40*e+scrollX,o=40*l+scrollY+40;r+=(200-r)/4,o+=(200-o)/7,stroke(0,76,77),noFill(),strokeWeight(5),!opaqueBlocks[world[l+1][e-1]]&&r>200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,r+30,o,40*e+scrollX,o):!opaqueBlocks[world[l+1][e+1]]&&r<200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,o,r,o):o<200&&quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,r+30,o,r,o)}}noStroke(),drawFlame(40*e+scrollX,40*l+scrollY+5,2),fill(0,64,66),rect(40*e+scrollX,40*l+scrollY,5,40),rect(40*e+scrollX,40*l+scrollY,40,5),rect(40*e+scrollX+35,40*l+scrollY,5,40),rect(40*e+scrollX,40*l+scrollY+35,40,5),stroke(0,64,66),strokeWeight(3),line(40*e+scrollX+10,40*l+scrollY+2,40*e+scrollX+10,40*l+scrollY+37),line(40*e+scrollX+28,40*l+scrollY+2,40*e+scrollX+28,40*l+scrollY+37),line(40*e+scrollX+2,40*l+scrollY+10,40*e+scrollX+35,40*l+scrollY+10),line(40*e+scrollX+2,40*l+scrollY+28,40*e+scrollX+35,40*l+scrollY+28),round(random(0,100))||dist(e,l,posB,posA)<10&&(nether?spawnMobs(40*e+random(-120,120),40*l-40,9):spawnMobs(40*e+random(-120,120),40*l-40,2));break;case 37:if(stroke(140),options._3D){if(opaqueBlocks[world[l-1][e]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(240),!opaqueBlocks[world[l-1][e-1]]&&r>200?quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,r+30,o,40*e+scrollX,o):!opaqueBlocks[world[l-1][e+1]]&&r<200?quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,40*e+scrollX+40,o,r,o):o>200&&quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,r+30,o,r,o)}if(opaqueBlocks[world[l][e-1]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(210),!opaqueBlocks[world[l-1][e-1]]&&o>200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,40*l+scrollY,r,o+35):!opaqueBlocks[world[l+1][e-1]]&&o<160?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,o,r,40*l+scrollY+40):r>200&&quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,o,r,o+35)}if(opaqueBlocks[world[l][e+1]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(200),r<170&&(!opaqueBlocks[world[l-1][e+1]]&&o>200?quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,o+35):!opaqueBlocks[world[l+1][e+1]]&&o<160?quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,40*l+scrollY+40):r<170&&quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,o+35))}if(opaqueBlocks[world[l+1][e]]){var r=40*e+scrollX,o=40*l+scrollY+40;r+=(200-r)/4,o+=(200-o)/7,fill(180),!opaqueBlocks[world[l+1][e-1]]&&r>200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,r+30,o,40*e+scrollX,o):!opaqueBlocks[world[l+1][e+1]]&&r<200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,o,r,o):o<200&&quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,r+30,o,r,o)}}fill(230),stroke(140),rect(40*e+scrollX,40*l+scrollY,40,40);break;case 38:if(stroke(209,157,0),options._3D){if(opaqueBlocks[world[l-1][e]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(255,244,122),!opaqueBlocks[world[l-1][e-1]]&&r>200?quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,r+30,o,40*e+scrollX,o):!opaqueBlocks[world[l-1][e+1]]&&r<200?quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,40*e+scrollX+40,o,r,o):o>200&&quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,r+30,o,r,o)}if(opaqueBlocks[world[l][e-1]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(227,208,0),!opaqueBlocks[world[l-1][e-1]]&&o>200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,40*l+scrollY,r,o+35):!opaqueBlocks[world[l+1][e-1]]&&o<160?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,o,r,40*l+scrollY+40):r>200&&quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,o,r,o+35)}if(opaqueBlocks[world[l][e+1]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(214,196,0),r<170&&(!opaqueBlocks[world[l-1][e+1]]&&o>200?quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,o+35):!opaqueBlocks[world[l+1][e+1]]&&o<160?quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,40*l+scrollY+40):r<170&&quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,o+35))}if(opaqueBlocks[world[l+1][e]]){var r=40*e+scrollX,o=40*l+scrollY+40;r+=(200-r)/4,o+=(200-o)/7,fill(196,180,0),!opaqueBlocks[world[l+1][e-1]]&&r>200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,r+30,o,40*e+scrollX,o):!opaqueBlocks[world[l+1][e+1]]&&r<200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,o,r,o):o<200&&quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,r+30,o,r,o)}}fill(255,234,0),stroke(209,157,0),rect(40*e+scrollX,40*l+scrollY,40,40);break;case 39:if(stroke(0,148,148),fill(0,255,255),options._3D){if(opaqueBlocks[world[l-1][e]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(148,255,255),!opaqueBlocks[world[l-1][e-1]]&&r>200?quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,r+30,o,40*e+scrollX,o):!opaqueBlocks[world[l-1][e+1]]&&r<200?quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,40*e+scrollX+40,o,r,o):o>200&&quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,r+30,o,r,o)}if(opaqueBlocks[world[l][e-1]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(0,224,224),!opaqueBlocks[world[l-1][e-1]]&&o>200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,40*l+scrollY,r,o+35):!opaqueBlocks[world[l+1][e-1]]&&o<160?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,o,r,40*l+scrollY+40):r>200&&quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,o,r,o+35)}if(opaqueBlocks[world[l][e+1]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(0,212,212),r<170&&(!opaqueBlocks[world[l-1][e+1]]&&o>200?quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,o+35):!opaqueBlocks[world[l+1][e+1]]&&o<160?quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,40*l+scrollY+40):r<170&&quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,o+35))}if(opaqueBlocks[world[l+1][e]]){var r=40*e+scrollX,o=40*l+scrollY+40;r+=(200-r)/4,o+=(200-o)/7,fill(0,196,196),!opaqueBlocks[world[l+1][e-1]]&&r>200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,r+30,o,40*e+scrollX,o):!opaqueBlocks[world[l+1][e+1]]&&r<200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,o,r,o):o<200&&quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,r+30,o,r,o)}}stroke(0,148,148),fill(0,255,255),rect(40*e+scrollX,40*l+scrollY,40,40);break;case 40:fill(120,83,44);var r=40*e+scrollX,o=40*l+scrollY;solidBlocks[world[l+1][e]]?(rect(r+16,o+16,8,30),fill(255,251,181),rect(r+16,o+8,8,8)):solidBlocks[world[l][e-1]]?(quad(r,o+40,r,o+25,r+5,o+16,r+13,o+16),fill(255,251,181),quad(r+13,o+16,r+5,o+16,r+9,o+8,r+18,o+8)):solidBlocks[world[l][e+1]]?(quad(r+40,o+40,r+40,o+25,r+35,o+16,r+27,o+16),fill(255,251,181),quad(r+27,o+16,r+35,o+16,r+31,o+8,r+22,o+8)):(world[l][e]=0,spawnEntity(40*e+random(0,20),40*l+10,0,40));break;case 41:fill(115,255,136),rect(40*e+scrollX+3,40*l+scrollY,5,40),rect(40*e+scrollX+13,40*l+scrollY,5,40),rect(40*e+scrollX+23,40*l+scrollY,5,40),rect(40*e+scrollX+33,40*l+scrollY,5,40),round(random(0,5e3))||41===world[l+2][e]||(world[l-1][e]=41),(20!==world[l- -1][e]&&2!==world[l- -1][e]&&3!==world[l- -1][e]||11!==world[l- -1][e-1]&&12!==world[l- -1][e-1]&&11!==world[l- -1][e- -1]&&12!==world[l- -1][e- -1])&&41!==world[l- -1][e]&&(world[l][e]=0,spawnEntity(40*e+random(0,20),40*l+10,0,41));break;case 42:if(power[l][e]<=15&&power[l][e]>=0||(power[l][e]=0),(power[l+1][e]>=2||power[l][e-1]>=2&&solidBlocks[world[l][e-1]]||power[l][e+1]>=2&&solidBlocks[world[l][e+1]])&&(power[l][e]=15),solidBlocks[world[l][e+1]]&&power[l][e]>0&&(power[l][e+1]=1),solidBlocks[world[l][e-1]]&&power[l][e]>0&&(power[l][e-1]=1),fill(10*power[l][e]+105,0,0),0===power[l][e]&&fill(75,0,0),options._3D){var r=40*e+scrollX,o=40*l+scrollY+40;r+=(200-r)/6;var t=40*e+scrollX,s=40*l+scrollY+40;t+=(200-t)/8,s+=(200-s)/15,(o+=(200-o)/11)>200&&(!opaqueBlocks[world[l][e-1]]&&r>200?quad(40*e+scrollX,s,t+40,s,r+30,o,40*e+scrollX,o):!opaqueBlocks[world[l][e+1]]&&r<200?quad(t,s,40*e+scrollX+40,s,40*e+scrollX+40,o,r,o):o>200&&quad(t,s,t+35,s,r+33,o,r,o))}else rect(40*e+scrollX,40*l+scrollY+35,40,5);if(42===world[l-1][e-1]&&!solidBlocks[world[l-1][e]]){if(options._3D){var r=40*e+scrollX,o=40*l+scrollY+40;if(r+=(200-r)/6,o+=(200-o)/11,r<200){var t=40*e+scrollX,s=40*l+scrollY+40;t+=(200-t)/8,s+=(200-s)/15,!opaqueBlocks[world[l-1][e-1]]&&r>200?quad(t,s,t,s-36,r,o-35,r,o):!opaqueBlocks[world[l+1][e-1]]&&o<200?quad(t,40*l+scrollY+40,t,s-36,r,o-35,r,40*l+scrollY+40):r<200&&quad(t,s,t,s-36,r,o-35,r,o)}}else rect(40*e+scrollX,40*l+scrollY-5,5,40);0!==power[l][e]&&void 0!==power[l][e]&&power[l-1][e-1]<power[l][e]&&(power[l-1][e-1]=power[l][e]-1)}if(42===world[l-1][e+1]&&!solidBlocks[world[l-1][e]]){if(options._3D){var r=40*e+scrollX+40,o=40*l+scrollY+40;if(r+=(200-r)/6,o+=(200-o)/11,r>200){var t=40*e+scrollX+40,s=40*l+scrollY+40;t+=(200-t)/8,s+=(200-s)/15,!opaqueBlocks[world[l-1][e-1]]&&r>200?quad(t,s,t,s-36,r,o-35,r,o):!opaqueBlocks[world[l+1][e-1]]&&o<200?quad(t,40*l+scrollY+40,t,s-36,r,o-35,r,40*l+scrollY+40):r>200&&quad(t,s,t,s-36,r,o-35,r,o)}}else rect(40*e+scrollX+35,40*l+scrollY-5,5,40);0!==power[l][e]&&void 0!==power[l][e]&&power[l][e]>power[l-1][e+1]&&(power[l-1][e+1]=power[l][e]-1)}0!==power[l][e]&&void 0!==power[l][e]&&(42===world[l][e+1]&&power[l][e+1]<power[l][e]&&(power[l][e+1]=power[l][e]-1),42===world[l][e-1]&&power[l][e-1]<power[l][e]&&(power[l][e-1]=power[l][e]-1),42===world[l+1][e+1]&&power[l+1][e+1]<power[l][e]&&(power[l+1][e+1]=power[l][e]-1),42===world[l+1][e-1]&&power[l+1][e-1]<power[l][e]&&(power[l+1][e-1]=power[l][e]-1),power[l+1][e]<=1&&(power[l+1][e]=1)),power[l][e]<15?power[l][e]<power[l][e-1]&&power[l][e]<power[l][e+1]&&power[l][e]<power[l-1][e-1]&&power[l][e]<power[l-1][e+1]&&power[l][e]<power[l+1][e-1]&&power[l][e]<power[l+1][e+1]&&(power[l][e]=0):42!==world[l][e-1]&&power[l][e-1]<2&&42!==world[l][e+1]&&power[l][e+1]<2&&power[l+1][e]<2&&power[l-1][e]<2&&(power[l][e]=0),power[l][e]<power[l][e+1]&&power[l][e]<power[l][e-1]&&power[l][e]<power[l-1][e+1]&&power[l][e]<power[l-1][e+1]&&power[l][e]<power[l+1][e+1]&&power[l][e]<power[l+1][e+1]&&(power[l][e]=0),solidBlocks[world[l+1][e]]||(spawnEntity(40*e+random(0,20),40*l+10,0,42),world[l][e]=0);break;case 43:if(options._3D){if(opaqueBlocks[world[l-1][e]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(140),!opaqueBlocks[world[l-1][e-1]]&&r>200?quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,r+30,o,40*e+scrollX,o):!opaqueBlocks[world[l-1][e+1]]&&r<200?quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,40*e+scrollX+40,o,r,o):o>200&&quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,r+30,o,r,o)}if(opaqueBlocks[world[l][e-1]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(100),!opaqueBlocks[world[l-1][e-1]]&&o>200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,40*l+scrollY,r,o+35):!opaqueBlocks[world[l+1][e-1]]&&o<160?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,o,r,40*l+scrollY+40):r>200&&quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,o,r,o+35)}if(opaqueBlocks[world[l][e+1]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(90),r<170&&(!opaqueBlocks[world[l-1][e+1]]&&o>200?quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,o+35):!opaqueBlocks[world[l+1][e+1]]&&o<160?quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,40*l+scrollY+40):r<170&&quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,o+35))}if(opaqueBlocks[world[l+1][e]]){var r=40*e+scrollX,o=40*l+scrollY+40;r+=(200-r)/4,o+=(200-o)/7,fill(70),!opaqueBlocks[world[l+1][e-1]]&&r>200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,r+30,o,40*e+scrollX,o):!opaqueBlocks[world[l+1][e+1]]&&r<200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,o,r,o):o<200&&quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,r+30,o,r,o)}}fill(122,122,122),rect(40*e+scrollX,40*l+scrollY,40,40),fill(200,0,0),l!==posA2- -1||0!==dist(posB2,0,e,0)&&0!==dist(posB,0,e,0)||(specs[l][e]=1e3),specs[l][e]>0&&(specs[l][e]--,fill(255,0,0)),ellipse(40*e+10+scrollX,40*l+10+scrollY,8,8),ellipse(40*e+28+scrollX,40*l+12+scrollY,10,10),ellipse(40*e+20+scrollX,40*l+18+scrollY,6,6),ellipse(40*e+10+scrollX,40*l+24+scrollY,12,8),ellipse(40*e+28+scrollX,40*l+30+scrollY,18,14);break;case 44:power[l][e]>0&&(42===world[l][e-1]&&(power[l][e-1]=15),42===world[l][e+1]&&(power[l][e+1]=15),42===world[l+1][e]&&(power[l+1][e]=15),solidBlocks[world[l-1][e]]&&(power[l-1][e]=2)),power[l][e]=1,fill(120,83,44);var r=40*e+scrollX,o=40*l+scrollY;solidBlocks[world[l+1][e]]?(power[l+1][e]>0&&(power[l][e]=0),rect(r+16,o+16,8,30),power[l][e]>0?(fill(255,0,0),ellipse(r+20,o+12,16,16),fill(255,181,181)):fill(100,0,0),rect(r+16,o+8,8,8)):solidBlocks[world[l][e-1]]?(power[l][e-1]>0&&(power[l][e]=0),quad(r,o+40,r,o+25,r+5,o+16,r+13,o+16),power[l][e]>0?(fill(255,0,0),ellipse(r+12,o+12,16,16),fill(255,181,181)):fill(100,0,0),quad(r+13,o+16,r+5,o+16,r+9,o+8,r+18,o+8)):solidBlocks[world[l][e+1]]?(power[l][e+1]>0&&(power[l][e]=0),quad(r+40,o+40,r+40,o+25,r+35,o+16,r+27,o+16),power[l][e]>0?(fill(255,0,0),ellipse(r+28,o+12,16,16),fill(255,181,181)):fill(100,0,0),quad(r+27,o+16,r+35,o+16,r+31,o+8,r+22,o+8)):(world[l][e]=0,spawnEntity(40*e+random(0,20),40*l+10,0,44));break;case 45:if(options._3D){if(opaqueBlocks[world[l-1][e]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(255,173,125),!opaqueBlocks[world[l-1][e-1]]&&r>200?quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,r+30,o,40*e+scrollX,o):!opaqueBlocks[world[l-1][e+1]]&&r<200?quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,40*e+scrollX+40,o,r,o):o>200&&quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,r+30,o,r,o)}if(opaqueBlocks[world[l][e-1]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(230,143,92),!opaqueBlocks[world[l-1][e-1]]&&o>200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,40*l+scrollY,r,o+35):!opaqueBlocks[world[l+1][e-1]]&&o<160?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,o,r,40*l+scrollY+40):r>200&&quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,o,r,o+35)}if(opaqueBlocks[world[l][e+1]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(222,126,77),r<170&&(!opaqueBlocks[world[l-1][e+1]]&&o>200?quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,o+35):!opaqueBlocks[world[l+1][e+1]]&&o<160?quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,40*l+scrollY+40):r<170&&quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,o+35))}if(opaqueBlocks[world[l+1][e]]){var r=40*e+scrollX,o=40*l+scrollY+40;r+=(200-r)/4,o+=(200-o)/7,fill(194,125,85),!opaqueBlocks[world[l+1][e-1]]&&r>200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,r+30,o,40*e+scrollX,o):!opaqueBlocks[world[l+1][e+1]]&&r<200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,o,r,o):o<200&&quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,r+30,o,r,o)}}strokeWeight(2),(getSpecs(l,e)>0||getSpecs(l,e)<=0)&&(specs[l][e]=[0,""]),fill(255,152,92),rect(40*e+scrollX,40*l+scrollY,40,40),stroke(181,91,38),fill(255,205,176),quad(40*e+scrollX+10,40*l+scrollY+1,40*e+scrollX+1,40*l+scrollY+10,40*e+scrollX+30,40*l+scrollY+39,40*e+scrollX+39,40*l+scrollY+30),quad(40*e+scrollX+30,40*l+scrollY+1,40*e+scrollX+39,40*l+scrollY+10,40*e+scrollX+10,40*l+scrollY+39,40*e+scrollX+1,40*l+scrollY+30),fill(245),stroke(225),rect(40*e+scrollX+10,40*l+scrollY+10,20,20),stroke(255,0,0),strokeWeight(3),point(40*e+scrollX+20,40*l+scrollY+20),point(40*e+scrollX+14,40*l+scrollY+14),point(40*e+scrollX+26,40*l+scrollY+14),stroke(0,200,0),point(40*e+scrollX+20,40*l+scrollY+14),point(40*e+scrollX+26,40*l+scrollY+26),stroke(255,200,0),point(40*e+scrollX+20,40*l+scrollY+26),point(40*e+scrollX+26,40*l+scrollY+20),point(40*e+scrollX+14,40*l+scrollY+20),point(40*e+scrollX+14,40*l+scrollY+26);var f=!1;if(getPower(l,e)>=1&&1===getSpecs(l,e)[0]){onInputBox&&(f=input),onInputBox=!0,"/"!==(input=getSpecs(l,e)[1]).substr(0,1)&&(input="/"+input);var m=input.split(" ");switch(m[0]){case"/say":for(var g="",p=1;p<m.length;p++)g+=m[p]+" ";broadcast("[@] "+g);break;case"/gamemode":m[1]<=1&&m[1]>=0?(gamemode=round(m[1]),broadcast("Your game mode has been updated.")):broadcast(m[1]+" is not a gamemode.");break;case"/help":broadcast("==========[ HELP ]=========="),broadcast("/give [data] [amount]"),broadcast("gives you item by data and amount"),broadcast("/clear"),broadcast("clears your inventory"),broadcast("/kill"),broadcast("Ouch! that look like it hurt!"),broadcast("/killall"),broadcast("kills everything. Good for dat lag"),broadcast("==========================");break;case"/me":for(var g="",p=1;p<m.length;p++)g+=m[p]+" ";broadcast("* "+"Steve "+g);break;case"/clear":for(var b=0,p=0;p<9;p++)b+=hotbarStacks[p],hotbar[p]=0,hotbarStacks[p]=0;for(p=0;p<6;p++)for(v=0;v<4;v++)b+=invStacks[p][v],invContents[p][v]=0,invStacks[p][v]=0;for(p=0;p<4;p++)armorSlots[p]&&(b++,armorSlots[p]=0,armorSpecs[p]=0);broadcast(b?"Cleared the inventory of "+"Steve, removing "+b+" items.":"Could not clear the inventory of "+"Steve, no items to remove.");break;case"/give":void 0!==m[1]&&m[1]>0&&m[1]<blocks||m[1]>=300&&m[1]<items?(m[2]?getItem(m[1]-0,m[2]-0):(getItem(m[1]-0,1),m[2]=1),broadcast(m[1]<300?"given "+"Steve "+m[2]+" of "+m[1]+" ("+tileNames[m[1]]+").":"given "+"Steve "+m[2]+" of "+m[1]+" ("+itemNames[m[1]-300]+").")):broadcast(m[1]+" is not a valid number.");break;case"/kill":health=0,broadcast("Ouch! That look like it hurt!");break;case"/killall":for(var k=0,p=0;p<mobs.length;p++)mobs.health[p]>0&&k++,mobs.health[p]=0;broadcast("An asteroid collides with the earth, obliterating "+k+" entities.");break;case"/time":if(void 0!==m[1]&&void 0!==m[2])switch(m[1]){case"set":time=m[2],broadcast("Time set to "+time);break;case"add":if((time+=m[2]-0)>2e4)for(;time>2e4;)time-=2e4;broadcast("Time set to "+time);break;default:broadcast("Usage: /time <set/add> <value>")}else broadcast("Usage: /time <set/add> <value>");break;default:broadcast("Unknown command. Type /help for help.")}!1===f?(onInputBox=!1,input=""):input=f,specs[l][e][0]=0}0===getPower(l,e)&&(specs[l][e][0]=1);break;case 46:if(void 0===specs[l][e]&&(specs[l][e]=0),opaqueBlocks[world[l-1][e]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,0===specs[l][e]?fill(112,78,56):fill(92,47,21),!opaqueBlocks[world[l-1][e-1]]&&r>200?quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,r+30,o,40*e+scrollX,o):!opaqueBlocks[world[l-1][e+1]]&&r<200?quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,40*e+scrollX+40,o,r,o):o>200&&quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,r+30,o,r,o)}if(opaqueBlocks[world[l][e-1]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(97,47,11),!opaqueBlocks[world[l-1][e-1]]&&o>200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,40*l+scrollY,r,o+35):!opaqueBlocks[world[l+1][e-1]]&&o<160?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,o,r,40*l+scrollY+40):r>200&&quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,o,r,o+35)}if(opaqueBlocks[world[l][e+1]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(90),r<170&&(fill(82,39,9),!opaqueBlocks[world[l-1][e+1]]&&o>200?quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,o+35):!opaqueBlocks[world[l+1][e+1]]&&o<160?quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,40*l+scrollY+40):r<170&&quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,o+35))}if(opaqueBlocks[world[l+1][e]]){var r=40*e+scrollX,o=40*l+scrollY+40;r+=(200-r)/4,o+=(200-o)/7,fill(61,28,7),!opaqueBlocks[world[l+1][e-1]]&&r>200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,r+30,o,40*e+scrollX,o):!opaqueBlocks[world[l+1][e+1]]&&r<200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,o,r,o):o<200&&quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,r+30,o,r,o)}fill(130,56,0),rect(40*e+scrollX,40*l+scrollY,40,40);var w=!1;if(!round(random(0,100))){for(p=-2;p<2;p++)for(v=-4;v<5;v++)11!==world[p+l][v+e]&&12!==world[p+l][v+e]||(w=!0);w?specs[l][e]=1:0===specs[l][e]?world[l][e]=3:specs[l][e]=0}break;case 47:fill(113,214,115),rect(40*e+scrollX,40*l+scrollY+20,5,20),rect(40*e+scrollX+10,40*l+scrollY+10,5,30),rect(40*e+scrollX+20,40*l+scrollY+13,5,27),rect(40*e+scrollX+30,40*l+scrollY+22,5,18),2!==world[l- -1][e]&&3!==world[l- -1][e]&&(world[l][e]=0);break;case 48:void 0===specs[l][e]&&(specs[l][e]=0);var X=3*specs[l][e];fill(113+2*X,214-2*X,0),7===specs[l][e]&&fill(176,141,0),rect(40*e+scrollX,40*l+scrollY+35-X,5,5+X),rect(40*e+scrollX+10,40*l+scrollY+25-X,5,15+X),rect(40*e+scrollX+20,40*l+scrollY+28-X,5,12+X),rect(40*e+scrollX+30,40*l+scrollY+37-X,5,3+X),46!==world[l- -1][e]&&(world[l][e]=0),round(random(0,200))||specs[l][e]<7&&specs[l][e]++;break;case 49:if(options._3D){if(opaqueBlocks[world[l-1][e]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(140),!opaqueBlocks[world[l-1][e-1]]&&r>200?quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,r+30,o,40*e+scrollX,o):!opaqueBlocks[world[l-1][e+1]]&&r<200?quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,40*e+scrollX+40,o,r,o):o>200&&quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,r+30,o,r,o)}if(opaqueBlocks[world[l][e-1]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(100),!opaqueBlocks[world[l-1][e-1]]&&o>200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,40*l+scrollY,r,o+35):!opaqueBlocks[world[l+1][e-1]]&&o<160?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,o,r,40*l+scrollY+40):r>200&&quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,o,r,o+35)}if(opaqueBlocks[world[l][e+1]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(90),r<170&&(!opaqueBlocks[world[l-1][e+1]]&&o>200?quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,o+35):!opaqueBlocks[world[l+1][e+1]]&&o<160?quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,40*l+scrollY+40):r<170&&quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,o+35))}if(opaqueBlocks[world[l+1][e]]){var r=40*e+scrollX,o=40*l+scrollY+40;r+=(200-r)/4,o+=(200-o)/7,fill(70),!opaqueBlocks[world[l+1][e-1]]&&r>200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,r+30,o,40*e+scrollX,o):!opaqueBlocks[world[l+1][e+1]]&&r<200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,o,r,o):o<200&&quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,r+30,o,r,o)}}fill(122,122,122),rect(40*e+scrollX,40*l+scrollY,40,40),fill(0,225,0),ellipse(40*e+10+scrollX,40*l+10+scrollY,8,8),ellipse(40*e+28+scrollX,40*l+12+scrollY,10,10),ellipse(40*e+20+scrollX,40*l+18+scrollY,6,6),ellipse(40*e+10+scrollX,40*l+24+scrollY,12,8),ellipse(40*e+28+scrollX,40*l+30+scrollY,18,14);break;case 50:if(stroke(0,150,0),fill(0,255,255),options._3D){if(opaqueBlocks[world[l-1][e]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(148,255,148),!opaqueBlocks[world[l-1][e-1]]&&r>200?quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,r+30,o,40*e+scrollX,o):!opaqueBlocks[world[l-1][e+1]]&&r<200?quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,40*e+scrollX+40,o,r,o):o>200&&quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,r+30,o,r,o)}if(opaqueBlocks[world[l][e-1]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(0,224,0),!opaqueBlocks[world[l-1][e-1]]&&o>200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,40*l+scrollY,r,o+35):!opaqueBlocks[world[l+1][e-1]]&&o<160?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,o,r,40*l+scrollY+40):r>200&&quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,o,r,o+35)}if(opaqueBlocks[world[l][e+1]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(0,212,0),r<170&&(!opaqueBlocks[world[l-1][e+1]]&&o>200?quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,o+35):!opaqueBlocks[world[l+1][e+1]]&&o<160?quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,40*l+scrollY+40):r<170&&quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,o+35))}if(opaqueBlocks[world[l+1][e]]){var r=40*e+scrollX,o=40*l+scrollY+40;r+=(200-r)/4,o+=(200-o)/7,fill(0,196,0),!opaqueBlocks[world[l+1][e-1]]&&r>200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,r+30,o,40*e+scrollX,o):!opaqueBlocks[world[l+1][e+1]]&&r<200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,o,r,o):o<200&&quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,r+30,o,r,o)}}fill(0,255,0),rect(40*e+scrollX,40*l+scrollY,40,40);var r=40*e+scrollX,o=40*l+scrollY;quad(r+20,o,r+40,o+20,r+20,o+40,r,o+20),rect(r+10,o+10,20,20);break;case 51:if(stroke(150,0,0),fill(0,255,255),options._3D){if(opaqueBlocks[world[l-1][e]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(255,148,148),!opaqueBlocks[world[l-1][e-1]]&&r>200?quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,r+30,o,40*e+scrollX,o):!opaqueBlocks[world[l-1][e+1]]&&r<200?quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,40*e+scrollX+40,o,r,o):o>200&&quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,r+30,o,r,o)}if(opaqueBlocks[world[l][e-1]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(225,0,0),!opaqueBlocks[world[l-1][e-1]]&&o>200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,40*l+scrollY,r,o+35):!opaqueBlocks[world[l+1][e-1]]&&o<160?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,o,r,40*l+scrollY+40):r>200&&quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,o,r,o+35)}if(opaqueBlocks[world[l][e+1]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(212,0,0),r<170&&(!opaqueBlocks[world[l-1][e+1]]&&o>200?quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,o+35):!opaqueBlocks[world[l+1][e+1]]&&o<160?quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,40*l+scrollY+40):r<170&&quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,o+35))}if(opaqueBlocks[world[l+1][e]]){var r=40*e+scrollX,o=40*l+scrollY+40;r+=(200-r)/4,o+=(200-o)/7,fill(196,0,0),!opaqueBlocks[world[l+1][e-1]]&&r>200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,r+30,o,40*e+scrollX,o):!opaqueBlocks[world[l+1][e+1]]&&r<200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,o,r,o):o<200&&quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,r+30,o,r,o)}}fill(255,0,0),rect(40*e+scrollX,40*l+scrollY,40,40),42===getBlock(l-1,e)&&(power[l-1][e]=15),42===getBlock(l+1,e)&&(power[l+1][e]=15),42===getBlock(l,e-1)&&(power[l][e-1]=15),42===getBlock(l,e+1)&&(power[l][e+1]=15);break;case 52:if(stroke(0),options._3D){if(opaqueBlocks[world[l-1][e]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(70),!opaqueBlocks[world[l-1][e-1]]&&r>200?quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,r+30,o,40*e+scrollX,o):!opaqueBlocks[world[l-1][e+1]]&&r<200?quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,40*e+scrollX+40,o,r,o):o>200&&quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,r+30,o,r,o)}if(opaqueBlocks[world[l][e-1]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(50),!opaqueBlocks[world[l-1][e-1]]&&o>200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,40*l+scrollY,r,o+35):!opaqueBlocks[world[l+1][e-1]]&&o<160?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,o,r,40*l+scrollY+40):r>200&&quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,o,r,o+35)}if(opaqueBlocks[world[l][e+1]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(30),r<170&&(!opaqueBlocks[world[l-1][e+1]]&&o>200?quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,o+35):!opaqueBlocks[world[l+1][e+1]]&&o<160?quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,40*l+scrollY+40):r<170&&quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,o+35))}if(opaqueBlocks[world[l+1][e]]){var r=40*e+scrollX,o=40*l+scrollY+40;r+=(200-r)/4,o+=(200-o)/7,fill(0),!opaqueBlocks[world[l+1][e-1]]&&r>200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,r+30,o,40*e+scrollX,o):!opaqueBlocks[world[l+1][e+1]]&&r<200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,o,r,o):o<200&&quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,r+30,o,r,o)}}fill(60),rect(40*e+scrollX,40*l+scrollY,40,40);break;case 53:if(stroke(0,0,150),options._3D){if(opaqueBlocks[world[l-1][e]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(100,100,255),!opaqueBlocks[world[l-1][e-1]]&&r>200?quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,r+30,o,40*e+scrollX,o):!opaqueBlocks[world[l-1][e+1]]&&r<200?quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,40*e+scrollX+40,o,r,o):o>200&&quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,r+30,o,r,o)}if(opaqueBlocks[world[l][e-1]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(0,0,255),!opaqueBlocks[world[l-1][e-1]]&&o>200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,40*l+scrollY,r,o+35):!opaqueBlocks[world[l+1][e-1]]&&o<160?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,o,r,40*l+scrollY+40):r>200&&quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,o,r,o+35)}if(opaqueBlocks[world[l][e+1]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(0,0,212),r<170&&(!opaqueBlocks[world[l-1][e+1]]&&o>200?quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,o+35):!opaqueBlocks[world[l+1][e+1]]&&o<160?quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,40*l+scrollY+40):r<170&&quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,o+35))}if(opaqueBlocks[world[l+1][e]]){var r=40*e+scrollX,o=40*l+scrollY+40;r+=(200-r)/4,o+=(200-o)/7,fill(0,0,196),!opaqueBlocks[world[l+1][e-1]]&&r>200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,r+30,o,40*e+scrollX,o):!opaqueBlocks[world[l+1][e+1]]&&r<200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,o,r,o):o<200&&quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,r+30,o,r,o)}}fill(50,50,255),rect(40*e+scrollX,40*l+scrollY,40,40);break;case 54:if(options._3D){if(opaqueBlocks[world[l-1][e]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(255),!opaqueBlocks[world[l-1][e-1]]&&r>200?quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,r+30,o,40*e+scrollX,o):!opaqueBlocks[world[l-1][e+1]]&&r<200?quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,40*e+scrollX+40,o,r,o):o>200&&quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,r+30,o,r,o)}if(opaqueBlocks[world[l][e-1]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(225),!opaqueBlocks[world[l-1][e-1]]&&o>200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,40*l+scrollY,r,o+35):!opaqueBlocks[world[l+1][e-1]]&&o<160?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,o,r,40*l+scrollY+40):r>200&&quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,o,r,o+35)}if(opaqueBlocks[world[l][e+1]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(200),r<170&&(!opaqueBlocks[world[l-1][e+1]]&&o>200?quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,o+35):!opaqueBlocks[world[l+1][e+1]]&&o<160?quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,40*l+scrollY+40):r<170&&quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,o+35))}if(opaqueBlocks[world[l+1][e]]){var r=40*e+scrollX,o=40*l+scrollY+40;r+=(200-r)/4,o+=(200-o)/7,fill(180),!opaqueBlocks[world[l+1][e-1]]&&r>200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,r+30,o,40*e+scrollX,o):!opaqueBlocks[world[l+1][e+1]]&&r<200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,o,r,o):o<200&&quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,r+30,o,r,o)}}fill(235),rect(40*e+scrollX,40*l+scrollY,40,40);break;case 55:if(options._3D){var r=40*e+scrollX,o=40*l+scrollY+20;if(r+=(200-r)/4,o+=(200-o)/7,fill(255,0,0),!opaqueBlocks[world[l][e-1]]&&r>200?quad(40*e+scrollX,40*l+scrollY+20,40*e+scrollX+40,40*l+scrollY+20,r+30,o,40*e+scrollX,o):!opaqueBlocks[world[l][e+1]]&&r<200?quad(40*e+scrollX,40*l+scrollY+20,40*e+scrollX+40,40*l+scrollY+20,40*e+scrollX+40,o,r,o):o>200&&quad(40*e+scrollX,40*l+scrollY+20,40*e+scrollX+40,40*l+scrollY+20,r+30,o,r,o),opaqueBlocks[world[l][e-1]]){var r=40*e+scrollX,o=40*l+scrollY+20;r+=(200-r)/4,o+=(200-o)/7,fill(225,0,0),!opaqueBlocks[world[l-1][e-1]]&&o>200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY+20,r,40*l+scrollY+20,r,o+35):!opaqueBlocks[world[l+1][e-1]]&&o<160?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY+20,r,o,r,40*l+scrollY+40):r>200&&quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY+20,r,o,r,o+17)}if(opaqueBlocks[world[l][e+1]]){var r=40*e+scrollX,o=40*l+scrollY+20;r+=(200-r)/4,o+=(200-o)/7,fill(200,0,0),r<170&&(!opaqueBlocks[world[l-1][e+1]]&&o>200?quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+20,r+31,o,r+31,o+35):!opaqueBlocks[world[l+1][e+1]]&&o<160?quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+20,r+31,o,r+31,40*l+scrollY+40):r<170&&quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+20,r+31,o,r+31,o+17))}if(opaqueBlocks[world[l+1][e]]){var r=40*e+scrollX,o=40*l+scrollY+40;r+=(200-r)/4,o+=(200-o)/7,fill(180,0,0),!opaqueBlocks[world[l+1][e-1]]&&r>200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,r+30,o,40*e+scrollX,o):!opaqueBlocks[world[l+1][e+1]]&&r<200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,o,r,o):o<200&&quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,r+30,o,r,o)}}fill(235,0,0),rect(40*e+scrollX,40*l+scrollY+20,40,20);break;case 56:if(options._3D){var r=40*e+scrollX,o=40*l+scrollY+20;if(r+=(200-r)/4,o+=(200-o)/7,stroke(225),fill(255),!opaqueBlocks[world[l][e-1]]&&r>200?quad(40*e+scrollX,40*l+scrollY+20,40*e+scrollX+40,40*l+scrollY+20,r+30,o,40*e+scrollX,o):!opaqueBlocks[world[l][e+1]]&&r<200?quad(40*e+scrollX,40*l+scrollY+20,40*e+scrollX+40,40*l+scrollY+20,40*e+scrollX+40,o,r,o):o>200&&quad(40*e+scrollX,40*l+scrollY+20,40*e+scrollX+40,40*l+scrollY+20,r+30,o,r,o),noStroke(),opaqueBlocks[world[l][e-1]]){var r=40*e+scrollX,o=40*l+scrollY+20;r+=(200-r)/4,o+=(200-o)/7,fill(225,0,0),!opaqueBlocks[world[l-1][e-1]]&&o>200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY+20,r,40*l+scrollY+20,r,o+35):!opaqueBlocks[world[l+1][e-1]]&&o<160?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY+20,r,o,r,40*l+scrollY+40):r>200&&quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY+20,r,o,r,o+17)}if(opaqueBlocks[world[l][e+1]]){var r=40*e+scrollX,o=40*l+scrollY+20;r+=(200-r)/4,o+=(200-o)/7,fill(200,0,0),r<170&&(!opaqueBlocks[world[l-1][e+1]]&&o>200?quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+20,r+31,o,r+31,o+35):!opaqueBlocks[world[l+1][e+1]]&&o<160?quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+20,r+31,o,r+31,40*l+scrollY+40):r<170&&quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+20,r+31,o,r+31,o+17))}if(opaqueBlocks[world[l+1][e]]){var r=40*e+scrollX,o=40*l+scrollY+40;r+=(200-r)/4,o+=(200-o)/7,fill(180,0,0),!opaqueBlocks[world[l+1][e-1]]&&r>200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,r+30,o,40*e+scrollX,o):!opaqueBlocks[world[l+1][e+1]]&&r<200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,o,r,o):o<200&&quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,r+30,o,r,o)}}fill(235,0,0),rect(40*e+scrollX,40*l+scrollY+20,40,20);break;case 57:if(options._3D){if(opaqueBlocks[world[l-1][e]]){var r=40*e+scrollX,o=40*l+scrollY;if(r+=(200-r)/4,o+=(200-o)/7,fill(125,0,50),!opaqueBlocks[world[l-1][e-1]]&&r>200){quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,r+30,o,40*e+scrollX,o),stroke(75,0,0),line(40*e+scrollX,o,r+30,o);var t=40*e+scrollX,s=40*l+scrollY;t+=(200-r)/4,s+=(200-o)/8,line(40*e+scrollX,s,t+32,s),t=40*e+scrollX,s=40*l+scrollY,t+=(200-r)/6,s+=(200-o)/12,line(40*e+scrollX,s,t+34,s),t=40*e+scrollX,s=40*l+scrollY,t+=(200-r)/10,s+=(200-o)/20,line(40*e+scrollX,s,t+36,s)}else if(!opaqueBlocks[world[l-1][e+1]]&&r<200){quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,40*e+scrollX+40,o,r,o),stroke(75,0,0),line(r,o,40*e+scrollX+40,o);var t=40*e+scrollX,s=40*l+scrollY;t+=(200-r)/4,s+=(200-o)/8,line(t,s,40*e+scrollX+40,s),t=40*e+scrollX,s=40*l+scrollY,t+=(200-r)/6,s+=(200-o)/12,line(t,s,40*e+scrollX+40,s),t=40*e+scrollX,s=40*l+scrollY,t+=(200-r)/10,s+=(200-o)/20,line(t,s,40*e+scrollX+40,s)}else if(o>200){quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,r+30,o,r,o),stroke(75,0,0),line(r,o+1,r+30,o+1);var t=40*e+scrollX,s=40*l+scrollY;t+=(200-r)/4,s+=(200-o)/8,line(t,s,t+32,s),t=40*e+scrollX,s=40*l+scrollY,t+=(200-r)/6,s+=(200-o)/12,line(t,s,t+34,s),t=40*e+scrollX,s=40*l+scrollY,t+=(200-r)/10,s+=(200-o)/20,line(t,s,t+36,s)}}if(noStroke(),opaqueBlocks[world[l][e-1]]){var r=40*e+scrollX,o=40*l+scrollY;o+=(200-o)/7,(r+=(200-r)/4)>200&&(fill(85,0,45),!opaqueBlocks[world[l-1][e-1]]&&o>200?(quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,40*l+scrollY,r,o+35),stroke(75,0,0),line(r,o,40*e+scrollX,40*l+scrollY),line(40*e+scrollX,40*l+scrollY+10,r,o+8),line(40*e+scrollX,40*l+scrollY+20,r,o+16),line(40*e+scrollX,40*l+scrollY+30,r,o+24)):!opaqueBlocks[world[l+1][e-1]]&&o<160?(quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,o,r,40*l+scrollY+40),stroke(75,0,0),line(r,o,40*e+scrollX,40*l+scrollY),line(40*e+scrollX,40*l+scrollY+10,r,o+8),line(40*e+scrollX,40*l+scrollY+20,r,o+16),line(40*e+scrollX,40*l+scrollY+30,r,o+24)):r>200&&(quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,o,r,o+35),stroke(75,0,0),line(r,o,40*e+scrollX,40*l+scrollY),line(40*e+scrollX,40*l+scrollY+10,r,o+8),line(40*e+scrollX,40*l+scrollY+20,r,o+16),line(40*e+scrollX,40*l+scrollY+30,r,o+24)))}if(noStroke(),opaqueBlocks[world[l][e+1]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(75,0,40),r<170&&(!opaqueBlocks[world[l-1][e+1]]&&o>200?(quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,o+35),stroke(75,0,0),line(r+30,o,40*e+scrollX+40,40*l+scrollY),line(40*e+scrollX+40,40*l+scrollY+10,r+30,o+8),line(40*e+scrollX+40,40*l+scrollY+20,r+30,o+16),line(40*e+scrollX+40,40*l+scrollY+30,r+30,o+24)):!opaqueBlocks[world[l+1][e+1]]&&o<160?(quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,40*l+scrollY+40),stroke(75,0,0),line(r+30,o,40*e+scrollX+40,40*l+scrollY),line(40*e+scrollX+40,40*l+scrollY+10,r+30,o+8),line(40*e+scrollX+40,40*l+scrollY+20,r+30,o+16),line(40*e+scrollX+40,40*l+scrollY+30,r+30,o+24)):r<170&&(quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,o+35),stroke(75,0,0),line(r+30,o,40*e+scrollX+40,40*l+scrollY),line(40*e+scrollX+40,40*l+scrollY+10,r+30,o+8),line(40*e+scrollX+40,40*l+scrollY+20,r+30,o+16),line(40*e+scrollX+40,40*l+scrollY+30,r+30,o+24)))}if(noStroke(),opaqueBlocks[world[l+1][e]]){var r=40*e+scrollX,o=40*l+scrollY+40;r+=(200-r)/4,o+=(200-o)/7,fill(60,0,20),!opaqueBlocks[world[l+1][e-1]]&&r>200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,r+30,o,40*e+scrollX,o):!opaqueBlocks[world[l+1][e+1]]&&r<200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,o,r,o):o<200&&quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,r+30,o,r,o)}}fill(100,0,50),rect(40*e+scrollX,40*l+scrollY,40,40),stroke(75,0,0),line(40*e+scrollX,40*l+scrollY,40*e+40+scrollX,40*l+scrollY),line(40*e+10+scrollX,40*l+scrollY,40*e+10+scrollX,40*l+10+scrollY),line(40*e+scrollX,40*l+10+scrollY,40*e+scrollX+40,40*l+scrollY+10),line(40*e+30+scrollX,40*l+scrollY,40*e+30+scrollX,40*l+10+scrollY),line(40*e+40+scrollX,40*l+20+scrollY,40*e+40+scrollX,40*l+20+scrollY),line(40*e+20+scrollX,40*l+10+scrollY,40*e+20+scrollX,40*l+20+scrollY),line(40*e+scrollX,40*l+20+scrollY,40*e+40+scrollX,40*l+20+scrollY),line(40*e+10+scrollX,40*l+20+scrollY,40*e+10+scrollX,40*l+30+scrollY),line(40*e+30+scrollX,40*l+20+scrollY,40*e+30+scrollX,40*l+30+scrollY),line(40*e+scrollX,40*l+30+scrollY,40*e+40+scrollX,40*l+30+scrollY),line(40*e+20+scrollX,40*l+30+scrollY,40*e+20+scrollX,40*l+40+scrollY),noStroke();break;case 58:if(options._3D){if(opaqueBlocks[world[l-1][e]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(255,237,191),!opaqueBlocks[world[l-1][e-1]]&&r>200?quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,r+30,o,40*e+scrollX,o):!opaqueBlocks[world[l-1][e+1]]&&r<200?quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,40*e+scrollX+40,o,r,o):o>200&&quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,r+30,o,r,o)}if(opaqueBlocks[world[l][e-1]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(209,188,134),!opaqueBlocks[world[l-1][e-1]]&&o>200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,40*l+scrollY,r,o+35):!opaqueBlocks[world[l+1][e-1]]&&o<160?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,o,r,40*l+scrollY+40):r>200&&quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,o,r,o+35)}if(opaqueBlocks[world[l][e+1]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(201,176,114),r<170&&(!opaqueBlocks[world[l-1][e+1]]&&o>200?quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,o+35):!opaqueBlocks[world[l+1][e+1]]&&o<160?quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,40*l+scrollY+40):r<170&&quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,o+35))}if(opaqueBlocks[world[l+1][e]]){var r=40*e+scrollX,o=40*l+scrollY+40;r+=(200-r)/4,o+=(200-o)/7,fill(173,151,97),!opaqueBlocks[world[l+1][e-1]]&&r>200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,r+30,o,40*e+scrollX,o):!opaqueBlocks[world[l+1][e+1]]&&r<200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,o,r,o):o<200&&quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,r+30,o,r,o)}}if(fill(255,230,166),rect(40*e+scrollX,40*l+scrollY,40,40),fill(0,105,105),rect(40*e+scrollX,40*l+scrollY,5,40),rect(40*e+scrollX,40*l+scrollY,40,5),rect(40*e+scrollX+35,40*l+scrollY,5,40),rect(40*e+scrollX,40*l+scrollY+35,40,5),stroke(0,105,105),void 0===specs[l][e]&&(specs[l][e]=0),specs[l][e]?(fill(0,255,50),rect(40*e+scrollX+13,40*l+scrollY+10,14,20),fill(0),rect(40*e+scrollX+18,40*l+scrollY+14,4,12)):(fill(0),rect(40*e+scrollX+13,40*l+scrollY+10,14,20)),0===world[l-1][e]){for(var Y=0,p=l-4;p<=l;p++)if(p===l-4||p===l)for(v=e-1;v<=e+1;v++)58===world[p][v]&&1===specs[p][v]&&Y++;else 58===world[p][e-2]&&1===specs[p][e-2]&&Y++,58===world[p][e+2]&&1===specs[p][e+2]&&Y++;if(12===Y)for(p=0;p<3;p++)for(v=0;v<3;v++)world[l-p-1][e-v+1]=60}break;case 59:if(options._3D){if(opaqueBlocks[world[l-1][e]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(255),!opaqueBlocks[world[l-1][e-1]]&&r>200?quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,r+30,o,40*e+scrollX,o):!opaqueBlocks[world[l-1][e+1]]&&r<200?quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,40*e+scrollX+40,o,r,o):o>200&&quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,r+30,o,r,o)}if(opaqueBlocks[world[l][e-1]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(245,245,145),!opaqueBlocks[world[l-1][e-1]]&&o>200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,40*l+scrollY,r,o+35):!opaqueBlocks[world[l+1][e-1]]&&o<160?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,o,r,40*l+scrollY+40):r>200&&quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,o,r,o+35)}if(opaqueBlocks[world[l][e+1]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(230,230,114),r<170&&(!opaqueBlocks[world[l-1][e+1]]&&o>200?quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,o+35):!opaqueBlocks[world[l+1][e+1]]&&o<160?quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,40*l+scrollY+40):r<170&&quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,o+35))}if(opaqueBlocks[world[l+1][e]]){var r=40*e+scrollX,o=40*l+scrollY+40;r+=(200-r)/4,o+=(200-o)/7,fill(200,200,90),!opaqueBlocks[world[l+1][e-1]]&&r>200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,r+30,o,40*e+scrollX,o):!opaqueBlocks[world[l+1][e+1]]&&r<200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,o,r,o):o<200&&quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,r+30,o,r,o)}}fill(255,255,206),rect(40*e+scrollX,40*l+scrollY,40,40);break;case 60:fill(56,0,25),rect(40*e+scrollX,40*l+scrollY,40,40);for(p=0;p<20;p++)for(var v=0;v<20;v++)round(random(0,20))||(fill(round(random(150,255))),ellipse(2*p+40*e+scrollX,2*v+40*l+scrollY,2,2));break;case 61:if(options._3D){if(opaqueBlocks[world[l-1][e]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(140),!opaqueBlocks[world[l-1][e-1]]&&r>200?quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,r+30,o,40*e+scrollX,o):!opaqueBlocks[world[l-1][e+1]]&&r<200?quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,40*e+scrollX+40,o,r,o):o>200&&quad(40*e+scrollX,40*l+scrollY,40*e+scrollX+40,40*l+scrollY,r+30,o,r,o)}if(opaqueBlocks[world[l][e-1]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(100),!opaqueBlocks[world[l-1][e-1]]&&o>200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,40*l+scrollY,r,o+35):!opaqueBlocks[world[l+1][e-1]]&&o<160?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,o,r,40*l+scrollY+40):r>200&&quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX,40*l+scrollY,r,o,r,o+35)}if(opaqueBlocks[world[l][e+1]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(90),r<170&&(!opaqueBlocks[world[l-1][e+1]]&&o>200?quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,o+35):!opaqueBlocks[world[l+1][e+1]]&&o<160?quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,40*l+scrollY+40):r<170&&quad(40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY,r+31,o,r+31,o+35))}if(opaqueBlocks[world[l+1][e]]){var r=40*e+scrollX,o=40*l+scrollY+40;r+=(200-r)/4,o+=(200-o)/7,fill(70),!opaqueBlocks[world[l+1][e-1]]&&r>200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,r+30,o,40*e+scrollX,o):!opaqueBlocks[world[l+1][e+1]]&&r<200?quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,40*e+scrollX+40,o,r,o):o<200&&quad(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40,r+30,o,r,o)}}fill(130),rect(40*e+scrollX,40*l+scrollY,40,40),stroke(100),line(40*e+scrollX,40*l+scrollY+20,40*e+scrollX+40,40*l+scrollY+20),line(40*e+scrollX,40*l+scrollY+40,40*e+scrollX+40,40*l+scrollY+40),line(40*e+scrollX,40*l+scrollY,40*e+scrollX,40*l+scrollY+20),line(40*e+scrollX+20,40*l+scrollY+20,40*e+scrollX+20,40*l+scrollY+40);break;default:fill(234,0,255),rect(40*e+scrollX,40*l+scrollY,40,40),stroke(164,0,179),strokeWeight(4),line(40*e+scrollX+2,40*l+scrollY+2,40*e+scrollX+2,40*l+scrollY+37),line(40*e+scrollX+2,40*l+scrollY+2,40*e+scrollX+37,40*l+scrollY+2),strokeWeight(2)}if(strokeWeight(2),noStroke(),l>0&&l<39){if(opaqueBlocks[world[l][e]]&&options._3D){r=40*e+scrollX;r+=(200-r)/4;o=40*l+scrollY;o+=(200-o)/7,!opaqueBlocks[world[l][e-1]]&&l>=14&&opaqueBlocks[world[l-1][e]]&&(fill(0,0,0,35),opaqueBlocks[world[l-1][e-1]]?triangle(r,o+34,r,o,r+30,o+34):rect(r,o,30,34)),l>=14&&!opaqueBlocks[world[l-1][e]]&&(fill(0,0,0,35),opaqueBlocks[world[l][e-1]]&&opaqueBlocks[world[l-1][e-1]]?triangle(r,o,r+30,o,r+30,o+34):rect(r,o,30,34)),!opaqueBlocks[world[l-1][e-1]]&&opaqueBlocks[world[l][e-1]]&&opaqueBlocks[world[l-1][e]]&&l>=14&&(fill(0,0,0,35),rect(r,o,30,34))}if(!opaqueBlocks[world[l][e]]&&void 0!==world[l][e]&&options._3D){if(!opaqueBlocks[world[l-1][e-1]]&&opaqueBlocks[world[l-1][e]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(0,0,0,75),o>200&&(r<200?triangle(40*e+scrollX,40*l+scrollY,r,o,r+30,o):r<270&&triangle(40*e+scrollX,40*l+scrollY,40*e+scrollX,o,r+30,o))}if(!opaqueBlocks[world[l-1][e-1]]&&opaqueBlocks[world[l][e-1]]){var r=40*e+scrollX,o=40*l+scrollY;r+=(200-r)/4,o+=(200-o)/7,fill(0,0,0,50),r>200&&(o<200?triangle(40*e+scrollX,40*l+scrollY,r,o,r,o+35):triangle(40*e+scrollX,40*l+scrollY,r,40*l+scrollY,r,o+35))}}}fill(255,0,0),0!==world[l][e]&&round(random(0,.75)),solidBlocks[world[l][e]]&&(power[l][e]=0),void 0===power[l][e]&&(power[l][e]=0)}catch(e){}},drawWorld=function(){var e=round(scrollX/40-scrollX/20+5),l=round(scrollY/40-scrollY/20+4);l<=6&&(l=7);var r=function(){for(var e=0;e<mobs.length;e++)if(mobs.nether[e]===nether&&mobs.end[e]===end&&mobs.health[e]&&0!==mobs.distance[e])switch(mobs.type[e]){case 7:l=560+scrollY;l+=(200-l)/(mobs.distance[e]/2+.3+1)+5;r=mobs.x[e]/2.97+scrollX/3;r+=(200-r)/(mobs.distance[e]/1.5+.3+1),round(random(0,500))&&(1!==mobs.specs[e][1]||round(random(0,200)))||(mobs.distance[e]=0,1===mobs.specs[e][1]&&(mouseX<200?mobs.x[e]=40*posB+80:mobs.x[e]=40*posB-80,mobs.y[e]=40*posA-40)),fill(25),rect(r,l-55,10,25),rect(r-2,l-45,2,30),rect(r+10,l-45,2,30),rect(r+2,l-30,2,30),rect(r+6,l-30,2,30),fill(255,0,255),rect(r,l-49,3.5,1),rect(r+6.5,l-49,3.5,1),noStroke();break;case 8:var l=mobs.y[e]-10*mobs.distance[e]+scrollY;l+=(200-l)/(9-mobs.distance[e]);var r=mobs.x[e]+scrollX;r+=(200-r)/((9-mobs.distance[e])/1.5);var o=sin(5*time),t=[];void 0===mobs.specs[e]&&(mobs.specs[e]=0);for(i=0;i<13;i++)t[i]=sin(5*time-10*i);if(mobs.state[e]<2){translate(r+30,l-5+3*o),1===mobs.state[e]&&(translate(-60,0),scale(-1,1));for(i=0;i<12;i++)fill(50),rect(10*i,t[12-i]*i,10,10),fill(75),rect(10*i+2,t[12-i]*i-4,6,4);resetMatrix(),translate(r-80,l-5+3*o),1===mobs.state[e]&&(translate(160,0),scale(-1,1));for(i=0;i<5;i++)fill(50),rect(10*i,-t[2*i]*(4-i),10,10),fill(75),rect(10*i+2,-t[2*i]*(4-i)-4,6,4);fill(50),rect(-20,4*-o-5,20,20),fill(255,0,255),rect(-15,4*-o,3,5),fill(255,100,255),triangle(-20,4*-o+5,-15,4*-o,-15,4*-o+5),fill(50),rect(-40,4*-o+5,20,5),rect(-35,4*-o+2,4,3),translate(-20,4*-o+10),rotate(10*-o-10),rect(0,0,-20,5),rotate(10*o+10),translate(20,4*o-10),fill(75),rect(-10,4*-o-9,6,4),resetMatrix(),translate(r-30,l-10+3*o),1===mobs.state[e]&&(translate(60,0),scale(-1,1)),fill(50),rect(0,0,60,20),translate(40,20),rotate(-50+o),rect(0,0,20,35),translate(5,35),rotate(-35),rect(0,0,15,25),translate(13,28),rotate(135),rect(0,0,25,7),resetMatrix(),translate(r-20,l+3*o),1===mobs.state[e]&&(translate(40,0),scale(-1,1)),rotate(45),rect(0,0,30,8),rotate(-45),rect(15,13,6,20),resetMatrix(),translate(r-30,l-10+3*o),1===mobs.state[e]&&(translate(60,0),scale(-1,1)),fill(75),rect(3,-7,15,7),rect(22.5,-7,15,7),rect(42,-7,15,7),translate(0,2),fill(10),triangle(8,0,8,35*-o+2,47,35*-o+2),fill(125),rect(3,0,5,35*-o),fill(150),rect(3,35*-o,44,4),rect(3,35*-o,5,35*-t[4]),fill(25),triangle(8,35*-o-35*t[4],8,35*-o+2,47,35*-o+2)}else{translate(r,l);var s=4*(7-mobs.distance[e]);fill(50),rect(-20-s,-10-s/2,40+2*s,20+s),rect(-20-s,9+s/2,15+s/2,20+s/2),rect(20+s,9+s/2,-15-s/2,20+s/2),fill(45),2===mobs.state[e]&&(translate(0,5),rect(-10-s/2,-10-s/2,20+s,20+s),fill(255,0,255),rect(-8-s/5,-4-s/5,3+s/10,3+s/10),rect(8+s/5,-4-s/5,-3-s/10,3+s/10),fill(255,100,255),triangle(-5-s/10,-4-s/5,-5-s/10,-1-s/10,-2,-1-s/10),triangle(5+s/10,-4-s/5,5+s/10,-1-s/10,2,-1-s/10),fill(40),rect(-8-s/4,-1-s/10,16+s/2,5+s/5),rect(-8-s/4,4-s/5-5*o+5,16+s/2,5+s/2.5),translate(0,-5)),fill(75),rect(-2,-16-s/1.5,4,6+s/3),translate(-20-s,-10-s/2),rotate(35*-o),fill(125),rect(0,0,-50-s,5+s/5),translate(-50-s,0),rotate(35*-t[4]),rect(0,0,-50-s,5+s/5),resetMatrix(),translate(20+s+r,-10-s/2+l),rotate(35*o),rect(0,0,50+s,5+s/5),translate(50+s,0),rotate(35*t[4]),rect(0,0,50+s,5+s/5)}if(resetMatrix(),-1===mobs.state[e]){translate(r,l),rotate(mobs.specs[e]);for(i=0;i<19;i++)fill(255,255,255,10),ellipse(0,0,i*mobs.specs[e]/10,i*mobs.specs[e]/10),1&i&&(rotate(40),fill(255,0,255,mobs.specs[e]/2-100),triangle(0,0,-400,-2e3,400,-2e3));if(resetMatrix(),++mobs.specs[e]>=400){mobs.health[e]=0,background(255);for(var i=7;i<12;i++)for(var a=17;a<22;a++)i>7&&i<11?world[i][a]=17===a||21===a?10:60:a>17&&a<21&&(world[i][a]=10)}}dist(40*posB+scrollX,0,r,0)<10&&!round(random(0,20))&&mobs.state[e]<2&&mobs.state[e]>=0&&(mobs.state[e]=2,mobs.y[e]=40*posA),2===mobs.state[e]&&(mobs.distance[e]<=1&&mPressed&&mouseButton===LEFT&&dist(mouseX,mouseY,r,l)<50&&(mPressed=!1,mobs.health[e]--,317===hotbar[blockSelected]&&(mobs.health[e]=0),hotbar[blockSelected]>311&&hotbar[blockSelected]<317&&(hotbarSpecs[blockSelected]--,mobs.health[e]-=(hotbar[blockSelected]-310)/3),mobs.health[e]<=0&&(mobs.health[e]=1,mobs.state[e]=-1,mobs.distance[e]=7)),mobs.distance[e]<=.1?(0===gamemode&&r<400&&r>0&&l<400&&l>0&&(health-=10)<=0&&(death="enderdragon"),mobs.state[e]=3):mobs.distance[e]-=.025),3===mobs.state[e]&&(mobs.distance[e]>=7?mobs.state[e]=1:mobs.distance[e]+=.05),mobs.x[e]<=0&&(mobs.state[e]=1),mobs.x[e]>=1600&&(mobs.state[e]=0),0===mobs.state[e]&&(mobs.x[e]-=5,mobs.y[e]=20*sin(2*time)+416),1===mobs.state[e]&&(mobs.x[e]+=5,mobs.y[e]=20*sin(2*time)+416),noStroke()}};noStroke();n=560+scrollX;n+=(200-n)/4;c=560+scrollY;if(c+=(200-c)/7,nether){fill(117,23,2);s=560+scrollY;s+=(209-s)/1.2,quad(0,s,0,c,400,c,400,s),fill(56,10,0);c=160+scrollY;c+=(200-c)/7;s=160+scrollY;s+=(209-s)/1.2,quad(0,s,0,c,400,c,400,s);for(var o=round(e/8),t=0;t<5;t++)for(i=o-10;i<o+20;i++){if((a=i)>=10)for(;a>=10;)a-=10;if(a<0)for(;a<0;)a+=10;if(1===lavaCol[t][a]){c=560+scrollY;c+=(200-c)/(t/10+.3+1);n=100*i+scrollX/3;n+=(200-n)/(t/5+.3+1),fill(235+5*t,125+2*t,0),rect(n,c-100-20*t,12.5+1.5*t,108+20*t),rect(n-20-1.5*t,c-t,52.5+3*t,8+t),rect(n-40-2*t,c-t/2+4,92.5+4*t,4+t/2)}}r();c=160+scrollY;c+=(200-c)/7,fill(99,21,2),rect(0,0,400,c);c=560+scrollY;c+=(200-c)/7,rect(0,c,400,400-c)}else if(end){fill(255);s=560+scrollY;s+=(209-s)/1.2,quad(0,s,0,c,400,c,400,s),r();for(t=0;t<5;t++)for(i=0;i<10;i++)if(obsidianPillars[t][i]>=1){noStroke();c=560+scrollY;c+=(200-c)/(t/10+.3+1);n=100*i+scrollX/3;n+=(200-n)/(t/5+.3+1),fill(40+2*t,0,50+2*t),rect(n,c-70-20*t,12.5+1.5*t,78+20*t),2===obsidianPillars[t][i]&&(fill(255,0,255),ellipse(n+(12.5+1.5*t)/2,c-75-20*t,5,5),noFill(),stroke(208,230,232),translate(n+(12.5+1.5*t)/2,c-75-20*t-3*sin(5*time+50*t)),rotate(3*(time+10*t)),rect(-5,-5,10,10),resetMatrix())}noStroke(),r();c=560+scrollY;c+=(200-c)/7,fill(255,255,200),rect(0,c,400,400-c)}else{fill(75,195,0);var s=560+scrollY;s+=(209-s)/1.2,quad(0,s,0,c,400,c,400,s),r();for(var o=round(e/8),t=0;t<5;t++)for(var i=o-10;i<o+20;i++){var a=i;if(a>=10)for(;a>=10;)a-=10;if(a<0)for(;a<0;)a+=10;if(1===trees[t][a]){c=560+scrollY;c+=(200-c)/(t/10+.3+1);var n=100*i+scrollX/3;n+=(200-n)/(t/5+.3+1),fill(0,150+11*t,0),rect(n-25-3*t,c-62.5-6*t,62.5+6*t,37.5+t),rect(n-12.5-1.5*t,c-75-7.5*t,40+3*t,12.5+2*t),fill(70+5*t,30+2*t,0),rect(n,c-50-5*t,12.5+1.5*t,58+5*t)}}r(),c=560+scrollY,c+=(200-c)/7,fill(120,50,0),rect(0,c,400,138),fill(70,180,0),rect(0,c,400,8);var c=720+scrollY;c+=(200-c)/7,fill(115),rect(0,c,400,400-c)}for(d=l+6;d>l;d--)for(u=e-8;u<e;u++)drawBlock(u,d);for(d=l-6;d<=l;d++)for(u=e-8;u<e;u++)drawBlock(u,d);for(d=l+6;d>l;d--)for(u=e+8;u>=e;u--)drawBlock(u,d);for(d=l-6;d<=l;d++)for(u=e+8;u>=e;u--)drawBlock(u,d);for(var d=world.length-1;d>=0;d--)for(var u=round(scrollX/40-scrollX/20-5);u<round(scrollX/40-scrollX/20- -5)+8;u++)noStroke(),0===world[d][u]&&(specs[d][u]=0,power[d][u]=0)},keys=[],sunPos=100;draw=function(){try{textAlign(LEFT,BOTTOM);for(A=0;A<40;A++)flameY[A]-=flameSpeed[A]/3,flameY[A]<random(0,5)&&(flameY[A]=15,flameX[A]=random(3,17));if(!1===bennimusStudios&&!onTitleScreen&&!onPoem){place=scrollX/20-scrollX/10,heartsShowing?(background(10,0,56),!1===shieldsShowing?shieldsShowing=1e3:(--shieldsShowing<0&&(heartsShowing=!1,shieldsShowing=!1,onFire=!0),strokeWeight(5),fill(255,255,255),stroke(184,184,184),rect(300,400-shieldsShowing/10-200,50,50))):(sunPos--,time++,night=time>1e4,2e4===time&&(time=0),strokeWeight(2),!1===nether&&!1===end?night?(background(10,0,56),fill(255,255,255),stroke(209,209,209),strokeWeight(5),time<=15e3?(sunPos-=.5,rect(300,sunPos/70+100,50,50)):time>=15e3&&(sunPos=1e3,rect(300,(time-3e3)/50-150,50,50))):(time>=0&&time<250||time>9500&&time<=1e4?background(255,209,94):background(189,206,255),fill(253,255,191),stroke(255,255,255),strokeWeight(5),time<=5e3?(sunPos-=.5,rect(300,sunPos/70+100,50,50)):time>=5e3&&(sunPos=1e3,rect(300,(time+3e3)/50-150,50,50))):nether?background(173,43,0):end&&background(61,0,92)),strokeWeight(2),noStroke(),pigmanTimer>0?(madPigmen=!0,pigmanTimer--):madPigmen=!1,nether||end||!options.clouds||(cloudX>400&&(cloudX=0),fill(255),night?fill(38,21,84):time<250&&fill(250,232,205),cloudX+=.25,rect(cloudX+150,15,125,15),rect(cloudX-250,15,125,15),rect(cloudX+200,35,180,30),rect(cloudX-200,35,180,30),rect(cloudX-300,30,170,20),rect(cloudX+100,30,170,20)),drawWorld();var e=blockTargeted[1],l=blockTargeted[0];e===blockTargeted[1]&&l===blockTargeted[0]&&null!==blockStrength&&blockStrength<selDurability/7*6&&(stroke(0),strokeWeight(3),line(40*e+scrollX+20,40*l+scrollY+20,40*e+scrollX+11,40*l+scrollY+37),blockStrength<selDurability/7*5&&(line(40*e+scrollX+20,40*l+scrollY+20,40*e+scrollX+35,40*l+scrollY+11),blockStrength<selDurability/7*4&&line(40*e+scrollX+28,40*l+scrollY+15,40*e+scrollX+33,40*l+scrollY+34),blockStrength<selDurability/7*3&&line(40*e+scrollX+6,40*l+scrollY+15,40*e+scrollX+20,40*l+scrollY+20),blockStrength<selDurability/7*2&&line(40*e+scrollX+14,40*l+scrollY+17,40*e+scrollX+20,40*l+scrollY+7),blockStrength<selDurability/7&&line(40*e+scrollX+25,40*l+scrollY+27,40*e+scrollX+14,40*l+scrollY+32)),strokeWeight(2));for(var r,o,t,s,i=0;i<entity.length;i++)switch(r=entity.x[i]+scrollX,o=entity.y[i]+scrollY,t=(entity.y[i]/40).toFixed(0,0),s=(entity.x[i]/40).toFixed(0,0),entity.type[i]){case 0:var n=dist(s,t,posB,posA);drawBlocks(entity.type2[i],r,o),solidBlocks[world[t][s]]||(entity.y[i]+=5),n<2&&!isDead&&(entity.type[i]=null,getItem(entity.type2[i],1));break;case 1:if(drawBlocks(340,r,o),entity.type2[i]++,entity.y[i]-=entity.type2[i],entity.type2[i]>=20){for(A=0;A<100;A++)spawnEntity(r,o,2,[random(0,360),random(1,5),500]);fill(random(50,255),random(50,255),random(50,255),50),ellipse(r,o,100,100),entity.type[i]=null}break;case 2:fill(random(50,255),random(50,255),random(50,255),entity.type2[i][2]),ellipse(r-scrollX,o-scrollY,5,5),entity.x[i]+=sin(entity.type2[i][0])*entity.type2[i][1],entity.y[i]+=cos(entity.type2[i][0])*entity.type2[i][1],entity.type2[i][2]>0?entity.type2[i][2]-=10:entity.type[i]=null}nether?round(random(0,100))||options.peaceful||spawnMobs(random(0,40*(world[0].length-1)),480,4):end?(dragonSpawned||(spawnMobs(380,380,8,7),dragonSpawned=!0),round(random(0,500))||options.peaceful||spawnMobs(random(0,40*(world[0].length-1)),480,7)):(round(random(0,500))||spawnMobs(random(0,40*(world[0].length-1)),480,0),round(random(0,100))||night&&!options.peaceful&&spawnMobs(random(0,40*(world[0].length-1)),480,1),round(random(0,500))||spawnMobs(random(0,40*(world[0].length-1)),480,3),round(random(0,100))||night&&!options.peaceful&&spawnMobs(random(0,40*(world[0].length-1)),440,2),round(random(0,500))||spawnMobs(random(0,40*(world[0].length-1)),440,6),round(random(0,100))||night&&!options.peaceful&&spawnMobs(random(0,40*(world[0].length-1)),480,7));for(var d,u,p,f,m=0;m<mobs.length;m++)if(d=mobs.x[m],u=mobs.y[m],p=(u/40).toFixed(0,0),f=(d/40).toFixed(0,0),8===mobs.type[m]&&mobs.health[m]>0&&mobs.end[m]===end&&mobs.nether[m]===nether&&(fill(50,0,50),rect(50,25,300,10,5),fill(255,0,255),rect(50,25,1.5*mobs.health[m],10,5),text("Ender Dragon",165,20)),mobs.nether[m]===nether&&mobs.end[m]===end&&dist(f,p,posB,posA)<10&&0===mobs.distance[m]&&mobs.health[m]>0){switch(mobs.type[m]){case 0:if(noStroke(),fill(255,181,181),resetMatrix(),mobs.direction[m],RIGHT,translate(mobs.x[m]+scrollX+20,mobs.y[m]+scrollY+40),0!==mobs.state[m]&&rotate(15*sin(30*time)),fill(179,127,127),rect(-5,0,10,15),resetMatrix(),translate(mobs.x[m]+scrollX-10,mobs.y[m]+scrollY+40),0!==mobs.state[m]&&rotate(15*-sin(30*time)),rect(-5,0,10,15),resetMatrix(),fill(255,181,181),rect(mobs.x[m]+scrollX-15,mobs.y[m]+scrollY+25,40,20),translate(mobs.x[m]+scrollX-10,mobs.y[m]+scrollY+40),0!==mobs.state[m]&&rotate(15*sin(30*time)),rect(-5,0,10,15),resetMatrix(),translate(mobs.x[m]+scrollX+20,mobs.y[m]+scrollY+40),0!==mobs.state[m]&&rotate(15*-sin(30*time)),rect(-5,0,10,15),resetMatrix(),dist(f,p,posB,posA)<4){var e=posX-2*posX+195,l=posY-2*posY+135;mobs.direction[m]===LEFT?translate(d+scrollX-10,u+scrollY+30):translate(d+scrollX+25,u+scrollY+30),rotate(atan2(u-l,d-e)),rect(-10,-10,20,20),posB<f?(rect(-14,-2,6,8),fill(255),rect(-10,-6,5,3),fill(0),rect(-8,-6,3,3),0===mobs.state[m]&&(mobs.direction[m]=LEFT)):(rect(-14,-6,6,8),fill(255),rect(-10,3,5,3),fill(0),rect(-8,3,3,3),0===mobs.state[m]&&(mobs.direction[m]=RIGHT))}else mobs.direction===LEFT?translate(d+scrollX+10,u+scrollY+30):translate(d+scrollX-10,u+scrollY+30),direction===RIGHT&&scale(-1,1),mobs.headPos[m]=0,rect(-10,-10,20,20),rect(-14,-2,6,8),fill(255),rect(-10,-6,5,3),fill(0),rect(-8,-6,3,3);resetMatrix(),round(random(0,100))||(mobs.state[m]=round(random(0,2)+.5)),round(random(0,25))||(mobs.state[m]=0),0!==mobs.state[m]&&(mobs.legPos[m]=10*sin(time)),solidBlocks[world[p- -1][f]]||11===world[p- -1][f]||12===world[p- -1][f]||(mobs.y[m]+=10);break;case 1:if(night||round(random(0,500))||(mobs.health[m]=0),options.peaceful&&(mobs.health[m]=0),void 0===mobs.specs[m][0]&&(mobs.specs[m][0]=0),dist(f,p,posB,posA)<2&&0===mobs.specs[m][0]&&(mobs.specs[m][0]=25),1===mobs.specs[m][0]&&(explode(f,p),health<=0&&(death="creeper"),mobs.health[m]=0),noStroke(),translate(mobs.x[m]+scrollX+10,mobs.y[m]+scrollY+40),0!==mobs.state[m]&&rotate(15*sin(30*time)),fill(0,100,0),mobs.specs[m][0]>1&&1&time&&fill(150),rect(-5,0,10,15),resetMatrix(),translate(mobs.x[m]+scrollX-10,mobs.y[m]+scrollY+40),0!==mobs.state[m]&&rotate(15*-sin(30*time)),rect(-5,0,10,15),resetMatrix(),fill(0,225,0),mobs.specs[m][0]>1&&1&time&&fill(255),rect(mobs.x[m]+scrollX-7,mobs.y[m]+scrollY,14,40),translate(mobs.x[m]+scrollX-10,mobs.y[m]+scrollY+40),0!==mobs.state[m]&&rotate(15*sin(30*time)),rect(-5,0,10,15),resetMatrix(),translate(mobs.x[m]+scrollX+10,mobs.y[m]+scrollY+40),0!==mobs.state[m]&&rotate(15*-sin(30*time)),rect(-5,0,10,15),resetMatrix(),dist(f,p,posB,posA)<10){var e=posX-2*posX+195,l=posY-2*posY+135;translate(d+scrollX,u+scrollY),rotate(atan2(u-l,d-e)),rect(-10,-10,20,20),posB<f?(fill(0),rect(-8,-6,5,5),0===mobs.state[m]&&(mobs.direction[m]=LEFT)):(fill(0),rect(-10,1,5,5),0===mobs.state[m]&&(mobs.direction[m]=RIGHT))}else translate(d+scrollX,u+scrollY),direction===RIGHT&&scale(-1,1),mobs.headPos[m]=0,rect(-10,-10,20,20),fill(0),rect(-8,-6,3,3);resetMatrix(),round(random(0,100))||(mobs.state[m]=round(random(0,2)+.5)),round(random(0,50))||(mobs.state[m]=0),solidBlocks[world[p- -1][f]]||11===world[p- -1][f]||12===world[p- -1][f]||(mobs.y[m]+=10),dist(f,p,posB,posA)<10&&(mobs.state[m]=f<posB?1:2),mobs.specs[m][0]>=1&&(mobs.specs[m][0]--,mobs.state[m]=0);break;case 2:night||(mobs.health[m]-=.1,drawFlame(d+scrollX-20,u+scrollY-20,3)),options.peaceful&&(mobs.health[m]=0),noStroke(),resetMatrix();var k=scrollX+d,w=scrollY+u-20;direction=mouseX>k?LEFT:RIGHT,legPos=0!==mobs.state[m]?30*sin(30*time):0,translate(k+10,w+50),rotate(-legPos),fill(15,0,110),rect(-6,0,12,30),resetMatrix(),fill(0,135,9),translate(k,w),mobs.direction[m]===LEFT&&(scale(-1,1),translate(-20,0)),rect(0,0,20,20),fill(4,82,0),triangle(0,5,15,5,0,10),rect(0,0,20,5),fill(33,33,33),rect(15,7,5,3),fill(0,201,201),rect(4,20,12,30),noStroke(),resetMatrix(),translate(k+10,w+50),rotate(legPos),fill(23,0,156),rect(-6,0,12,30),resetMatrix(),translate(k+10,w+22),fill(0,189,189),rect(-5,0,10,10),fill(0,120,4),mobs.direction[m]===LEFT?rect(-25,0,20,10):rect(5,0,20,10),resetMatrix(),night||drawFlame(d+scrollX-20,u+scrollY+5,3),dist(f,p,posB,posA)<10&&(mobs.direction=f<posB?RIGHT:LEFT),dist(f,p,posB,posA)<10&&(mobs.state[m]=posB<f?2:1,dist(f,p,posB,posA)<1&&(health-=3)<=0&&!isDead&&(death="zombie")),round(random(0,100))||(mobs.state[m]=round(random(0,2)+.5)),round(random(0,50))||(mobs.state[m]=0),solidBlocks[world[p- -1][f]]||11===world[p- -1][f]||12===world[p- -1][f]||(mobs.y[m]+=10);break;case 3:if(noStroke(),fill(255,181,181),resetMatrix(),translate(mobs.x[m]+scrollX+20,mobs.y[m]+scrollY+25),0!==mobs.state[m]&&rotate(15*sin(30*time)),fill(48,25,0),rect(-5,0,10,30),resetMatrix(),translate(mobs.x[m]+scrollX-10,mobs.y[m]+scrollY+25),0!==mobs.state[m]&&rotate(15*-sin(30*time)),rect(-5,0,10,30),resetMatrix(),fill(97,50,0),rect(mobs.x[m]+scrollX-15,mobs.y[m]+scrollY+10,40,25),fill(200),arc(mobs.x[m]+scrollX,mobs.y[m]+scrollY+10,20,15,0,180),arc(mobs.x[m]+scrollX+5,mobs.y[m]+scrollY+35,15,15,180,360),fill(97,50,0),translate(mobs.x[m]+scrollX-10,mobs.y[m]+scrollY+25),0!==mobs.state[m]&&rotate(15*sin(30*time)),rect(-5,0,10,30),resetMatrix(),translate(mobs.x[m]+scrollX+20,mobs.y[m]+scrollY+25),0!==mobs.state[m]&&rotate(15*-sin(30*time)),rect(-5,0,10,30),resetMatrix(),dist(f,p,posB,posA)<4){var e=posX-2*posX+195,l=posY-2*posY+135;mobs.direction[m]===LEFT?translate(d+scrollX-10,u+scrollY+15):translate(d+scrollX+25,u+scrollY+15),rotate(atan2(u-l,d-e)),rect(-10,-10,20,20),posB<f?(fill(50),rect(-10,0,6,10),fill(100),rect(-6,-12,3,4),fill(255),rect(-10,-6,5,3),fill(0),rect(-8,-6,3,3),0===mobs.state[m]&&(mobs.direction[m]=LEFT)):(fill(50),rect(-10,-10,6,10),fill(100),rect(-6,8,3,4),fill(255),rect(-10,3,5,3),fill(0),rect(-8,3,3,3),0===mobs.state[m]&&(mobs.direction[m]=RIGHT))}else mobs.direction===LEFT?translate(d+scrollX+10,u+scrollY+15):translate(d+scrollX-10,u+scrollY+15),direction===RIGHT&&scale(-1,1),mobs.headPos[m]=0,rect(-10,-10,20,20),fill(50),rect(-10,0,6,10),fill(100),rect(-6,-12,3,4),fill(255),rect(-10,-6,5,3),fill(0),rect(-8,-6,3,3);resetMatrix(),round(random(0,100))||(mobs.state[m]=round(random(0,2)+.5)),round(random(0,50))||(mobs.state[m]=0),solidBlocks[world[p- -1][f]]||11===world[p- -1][f]||12===world[p- -1][f]||(mobs.y[m]+=10),0===dist(f,p,b,a)&&mPressed&&mouseButton===RIGHT&&337===hotbar[blockSelected]&&(1===hotbarStacks[blockSelected]?hotbar[blockSelected]=338:(hotbarStacks[blockSelected]--,getItem(338,1)),mPressed=!1);break;case 4:options.peaceful&&(mobs.health[m]=0),noStroke(),resetMatrix();var k=scrollX+d,w=scrollY+u-20;direction=mouseX>k?LEFT:RIGHT,legPos=0!==mobs.state[m]?30*sin(30*time):0,translate(k+10,w+50),rotate(-legPos),fill(255,107,102),rect(-6,0,12,30),resetMatrix(),fill(255,127,125),translate(k,w),mobs.direction[m]===LEFT&&(scale(-1,1),translate(-20,0)),rect(0,0,20,20),fill(33,33,33),rect(15,7,5,3),fill(255,127,125),rect(4,20,12,30),noStroke(),resetMatrix(),translate(k+10,w+50),rotate(legPos),fill(255,127,125),rect(-6,0,12,30),resetMatrix(),translate(k+10,w+22),fill(255,127,125),rect(-5,0,10,10),fill(255,127,125),mobs.direction[m]===LEFT?(rect(-25,0,20,10),translate(-35,-15),rotate(-45),drawBlocks(315,0,0)):(rect(5,0,20,10),translate(10,-15),rotate(-45),drawBlocks(315,0,0)),resetMatrix(),dist(f,p,posB,posA)<10&&(mobs.direction=f<posB?RIGHT:LEFT),dist(f,p,posB,posA)<10&&madPigmen&&(mobs.state[m]=posB<f?2:1,dist(f,p,posB,posA)<1&&(health-=9)<=0&&(death="pigman")),round(random(0,100))||(mobs.state[m]=round(random(0,2)+.5)),round(random(0,50))||(mobs.state[m]=0),solidBlocks[world[p- -1][f]]||11===world[p- -1][f]||12===world[p- -1][f]||(mobs.y[m]+=10);break;case 5:noStroke(),resetMatrix();var k=scrollX+d,w=scrollY+u-20;direction=mouseX>k?LEFT:RIGHT,legPos=0!==mobs.state[m]?15*sin(30*time):0,translate(k+10,w+50),rotate(-legPos),fill(77,55,0),rect(-6,0,12,30),resetMatrix(),translate(k,w),fill(194,153,87),mobs.direction[m]===LEFT&&(scale(-1,1),translate(-20,0)),rect(0,-5,20,25),fill(143,112,62),rect(20,10,5,11),fill(110,78,28),rect(13,4,8,3),fill(255),rect(15,7,5,3),fill(0,150,0),rect(17,7,3,3),fill(122,84,46),rect(4,20,12,30),noStroke(),resetMatrix(),translate(k+10,w+50),rotate(legPos),fill(92,62,31),rect(-6,0,12,30),fill(133,92,52),resetMatrix(),translate(k,w),rect(3,19,14,40),resetMatrix(),translate(k+12,w+22),rect(-5,0,10,10),fill(117,78,40),rotate(45),rect(0,0,20,10),resetMatrix(),round(random(0,100))||(mobs.state[m]=round(random(0,2)+.5)),round(random(0,50))||(mobs.state[m]=0),solidBlocks[world[p- -1][f]]||11===world[p- -1][f]||12===world[p- -1][f]||(mobs.y[m]+=10),mPressed&&mouseButton===RIGHT&&dist(mouseX,mouseY,d+scrollX+10,u+scrollY+20)<=40&&(isTrading=!0,mobSelected=m);break;case 6:if(noStroke(),resetMatrix(),translate(mobs.x[m]+scrollX+20,mobs.y[m]+scrollY+25),0!==mobs.state[m]&&rotate(15*sin(30*time)),fill(217,164,137),rect(-5,0,10,30),mobs.specs[m]&&(fill(217),rect(-7,0,14,20)),resetMatrix(),fill(217,164,137),translate(mobs.x[m]+scrollX-10,mobs.y[m]+scrollY+25),0!==mobs.state[m]&&rotate(15*-sin(30*time)),rect(-5,0,10,30),mobs.specs[m]&&(fill(217),rect(-7,0,14,20)),resetMatrix(),fill(242,209,191),translate(mobs.x[m]+scrollX-15,mobs.y[m]+scrollY+15),rect(0,0,40,20),fill(245),mobs.specs[m]&&rect(-3,-5,45,25),ellipse(5,2,3,3),ellipse(23,15,3,3),ellipse(15,10,3,3),ellipse(34,5,3,3),ellipse(25,5,3,3),fill(242,209,191),resetMatrix(),translate(mobs.x[m]+scrollX-10,mobs.y[m]+scrollY+25),0!==mobs.state[m]&&rotate(15*sin(30*time)),rect(-5,0,10,30),mobs.specs[m]&&(fill(255),rect(-7,0,14,20)),resetMatrix(),fill(242,209,191),translate(mobs.x[m]+scrollX+20,mobs.y[m]+scrollY+25),0!==mobs.state[m]&&rotate(15*-sin(30*time)),rect(-5,0,10,30),mobs.specs[m]&&(fill(255),rect(-7,0,14,20)),fill(242,209,191),resetMatrix(),dist(f,p,posB,posA)<4){var e=posX-2*posX+195,l=posY-2*posY+135;mobs.direction[m]===LEFT?translate(d+scrollX-10,u+scrollY+15):translate(d+scrollX+25,u+scrollY+15),rotate(atan2(u-l,d-e)),rect(-10,-10,20,20),posB<f?(mobs.specs[m]&&(fill(255),rect(0,-12,12,24)),fill(240,180,180),rect(-10,0,6,10),fill(255),rect(-10,-6,5,3),fill(0),rect(-8,-6,3,3),0===mobs.state[m]&&(mobs.direction[m]=LEFT)):(mobs.specs[m]&&(fill(255),rect(0,-12,12,24)),fill(240,180,180),rect(-10,-10,6,10),fill(255),rect(-10,3,5,3),fill(0),rect(-8,3,3,3),0===mobs.state[m]&&(mobs.direction[m]=RIGHT))}else mobs.direction===LEFT?translate(d+scrollX+10,u+scrollY+15):translate(d+scrollX-10,u+scrollY+15),direction===RIGHT&&scale(-1,1),mobs.headPos[m]=0,rect(-10,-10,20,20),mobs.specs[m]&&(fill(255),rect(0,-12,12,24)),fill(240,180,180),rect(-10,0,6,10),fill(255),rect(-10,-6,5,3),fill(0),rect(-8,-6,3,3);if(resetMatrix(),round(random(0,100))||(mobs.state[m]=round(random(0,2)+.5)),round(random(0,50))||(mobs.state[m]=0),solidBlocks[world[p- -1][f]]||11===world[p- -1][f]||12===world[p- -1][f]||(mobs.y[m]+=10),mPressed&&mouseButton===RIGHT&&dist(mouseX,mouseY,d+scrollX+10,u+scrollY+20)<=30&&mobs.specs[m]>=1&&350===hotbar[blockSelected]){mobs.specs[m]=0;for(A=0;A<random(1,3);A++)spawnEntity(mobs.x[m]+random(0,40),mobs.y[m]+20,0,54);0===gamemode&&hotbarSpecs[blockSelected]--,mPressed=!1}break;case 7:options.peaceful&&(mobs.health[m]=0),noStroke(),resetMatrix();var k=scrollX+d,w=scrollY+u-60;fill(0),legPos=0!==mobs.state[m]?15*sin(30*time):0,translate(k+10,w+25),rotate(legPos),rect(-3,-3,6,60),resetMatrix(),translate(k+10,w+50),rotate(-legPos),rect(-3,0,6,60),resetMatrix(),fill(25),translate(k,w),mobs.direction[m]===LEFT&&(scale(-1,1),translate(-20,0)),1===mobs.specs[m][1]&&(round(random(0,100))||(mobs.distance[m]=1),translate(0,-15),rect(0,20,3,15),rect(0,30,20,5)),rect(0,0,20,20),fill(255,0,255),rect(15,9,5,3),fill(25),1===mobs.specs[m][1]&&translate(0,15),rect(4,20,12,30),noStroke(),resetMatrix(),translate(k+10,w+50),rotate(legPos),fill(35),rect(-3,0,6,60),resetMatrix(),translate(k+10,w+25),mobs.specs[m][0]||rotate(-legPos),rect(-3,-3,6,60),resetMatrix(),dist(f,p,posB,posA)<10&&mobs.specs[m][1]&&(mobs.direction=f<posB?RIGHT:LEFT),dist(f,p,posB,posA)<10&&mobs.specs[m][1]&&(mobs.state[m]=posB<f?2:1,dist(f,p,posB,posA)<1&&(health-=7)<=0&&!isDead&&(mobs.specs[m][1]=0,death="enderman")),round(random(0,100))||(mobs.state[m]=round(random(0,2)+.5)),round(random(0,50))||(mobs.state[m]=0),solidBlocks[world[p- -1][f]]||11===world[p- -1][f]||12===world[p- -1][f]||(mobs.y[m]+=10);break;case 9:void 0===mobs.specs[m]&&(mobs.specs[m]=200),mobs.specs[m]>200&&drawFlame(d+scrollX-20,u+scrollY-20,3),options.peaceful&&(mobs.health[m]=0),noStroke(),resetMatrix();var k=scrollX+d,w=scrollY+u-20;direction=mouseX>k?LEFT:RIGHT,fill(255,200,0),translate(k,w),mobs.direction[m]===LEFT&&(scale(-1,1),translate(-20,0)),rect(0,0,20,20),fill(100,75,0),rect(0,13,20,7),fill(255,255,200),rect(15,7,5,3),fill(100,75,0),rect(17,7,3,3),noStroke(),resetMatrix(),translate(k+10,w+20),fill(255,200,0);for(A=0;A<4;A++)rect(20*sin(15*time+90*A),-10,5,20),rect(15*-sin(15*time+90*A+45),0,5,20),rect(10*sin(15*time+90*A),20,5,20);resetMatrix(),mobs.specs[m]>200&&drawFlame(d+scrollX-20,u+scrollY+5,3),dist(f,p,posB,posA)<10&&(mobs.specs[m]++,mobs.direction=f<posB?RIGHT:LEFT,mobs.specs[m]>=300&&(mobs.specs[m]=0,fill(255,150,0),ellipse(k,w,400,400),dist(f,p,posB,posA)<5&&1===gamemode&&(onFire=!0,(health-=5)<=0&&!isDead&&(death="blaze")))),dist(f,p,posB,posA)<10&&(mobs.state[m]=0),round(random(0,100))||(mobs.state[m]=round(random(0,2)+.5)),round(random(0,50))||(mobs.state[m]=0),solidBlocks[world[p- -1][f]]||11===world[p- -1][f]||12===world[p- -1][f]||(mobs.y[m]+=10)}switch(mobs.state[m]){case 1:solidBlocks[world[p][f]]||(mobs.x[m]+=3);break;case 2:solidBlocks[world[p][f-1]]||(mobs.x[m]-=3)}if(11!==world[p- -1][f]&&12!==world[p- -1][f]&&11!==world[p][f]&&12!==world[p][f]||(mobs.y[m]-=2),0===dist(f,p,b,a)&&mPressed&&mouseButton===LEFT&&(4===mobs.type[m]&&(pigmanTimer=5e3),7===mobs.type[m]&&(mobs.specs[m][1]=1,round(random(0,1))||(mobs.distance[m]=1)),mobs.health[m]--,f<posB?mobs.x[m]-=5:mobs.x[m]+=5,mobs.y[m]-=10,mPressed=!1,hotbar[blockSelected]>311&&hotbar[blockSelected]<317&&(hotbarSpecs[blockSelected]--,mobs.health[m]-=2*(hotbar[blockSelected]-310)),mobs.health[m]<=0)){switch(mobs.type[m]){case 0:for(A=0;A<random(0,3);A++)spawnEntity(mobs.x[m]+random(0,40),mobs.y[m]+20,0,317);break;case 1:for(A=0;A<random(0,3);A++)spawnEntity(mobs.x[m]+random(0,40),mobs.y[m]+20,0,318);break;case 2:spawnEntity(mobs.x[m]+random(0,40),mobs.y[m]+20,0,348),round(random(0,40))||(round(random(0,5))?spawnEntity(mobs.x[m]+random(0,40),mobs.y[m]+20,0,302):spawnEntity(mobs.x[m]+random(0,40),mobs.y[m]+20,0,314));break;case 3:for(A=0;A<random(0,3);A++)spawnEntity(mobs.x[m]+random(0,40),mobs.y[m]+20,0,336);break;case 4:for(A=0;A<random(0,3);A++)spawnEntity(mobs.x[m]+random(0,40),mobs.y[m]+20,0,319);for(A=0;A<round(random(0,1));A++)spawnEntity(mobs.x[m]+random(0,40),mobs.y[m]+20,0,303);round(random(0,40))||spawnEntity(mobs.x[m]+random(0,40),mobs.y[m]+20,0,315);break;case 6:mobs.specs[m]&&spawnEntity(mobs.x[m]+random(0,40),mobs.y[m]+20,0,54);break;case 7:round(random(0,1))||spawnEntity(mobs.x[m]+random(0,40),mobs.y[m]+20,0,352);break;case 9:round(random(0,1))||spawnEntity(mobs.x[m]+random(0,40),mobs.y[m]+20,0,353)}}}for(A=0;A<mobs.length;A++)2!==mobs.type[A]&&1!==mobs.type[A]||night||round(random(0,500))||(mobs.health[A]=0);hungerTimer>0?hungerTimer--:(hungerTimer=2e3,satration>0?satration--:hunger>0&&hunger--),hunger>20&&(hunger=20),isSprinting&&(hungerTimer-=9),options.peaceful&&(hunger=20),hunger<=6&&(isSprinting=!1),hunger<=0&&starveTimer<=0?(health--,death="hunger",starveTimer=100):hunger<=0&&starveTimer--,posA=(posY/40-posY/20+4).toFixed(0,0),posB=(posX/40-posX/20+5).toFixed(0,0),posA2=((posY-30)/40-(posY-30)/20).toFixed(0,0),posB2=((posX+30)/40-(posX+30)/20+5).toFixed(0,0),0===gamemode&&(fall=20,minJump=inWater||11===world[posA][posB]||12===world[posA][posB]||11===world[posA][posB2]||12===world[posA][posB2]?18:inLava?19:0,jump>minJump&&jump--,jump<minJump&&jump++,inWater=11===world[posA2][posB]||12===world[posA2][posB],playerSpeed=8,13===world[posA][posB]||14===world[posA][posB]?(onFire=!0,inLava=!0):inLava=!1,17===world[posA][posB]&&(onFire=!0),solidBlocks[world[posA- -1][posB]]||solidBlocks[world[posA- -1][posB2]]?(jump=20,blocksFallen>5&&(health-=2*blocksFallen),blocksFallen=0,fallTix=0):(fallTix>10&&blocksFallen++,posY-=fall-jump),health>20&&(health=20),inWater&&(onFire=!1)),noStroke(),resetMatrix();var k=scrollX-posX+195,w=scrollY-posY+135;if(onFire&&(drawFlame(k-18,w+30,3),(c=random(0,400))>399.5&&(onFire=!1),fireTix<10?fireTix++:(--health<=0&&(death="fire"),fireTix=0)),direction=mouseX>k?LEFT:RIGHT,keys[65]||keys[68]?(legPos=30*sin(30*time),armPos=15*sin(30*time)):(legPos=0,mPressed||(armPos=0)),(solidBlocks[world[posA2- -2][posB]]||solidBlocks[world[posA2- -2][posB2]])&&(jump=18),!isDead&&!isSleeping){if(translate(k+10,w+50),rotate(-legPos),fill(15,0,110),rect(-6,0,12,30),armorSlots[2]>0){switch(armorSlots[2]){case 322:fill(225),stroke(150);break;case 326:fill(255,213,0),stroke(191,150,0);break;case 330:fill(0,255,255),stroke(0,168,168);break;case 334:fill(189,120,0),stroke(125,75,0)}rect(-6,0,11,25,30),noStroke()}if(armorSlots[3]>0){switch(armorSlots[3]){case 323:fill(225),stroke(150);break;case 327:fill(255,213,0),stroke(191,150,0);break;case 331:fill(0,255,255),stroke(0,168,168);break;case 335:fill(189,120,0),stroke(125,75,0)}rect(-7,20,14,13,30),noStroke()}if(resetMatrix(),translate(k+10,w+22),rotate(-armPos),fill(0,122,122),rect(-5,0,10,10),fill(143,105,43),rect(-5,10,10,20),resetMatrix(),fill(199,154,77),translate(k,w),direction===RIGHT&&(scale(-1,1),translate(-20,0)),rect(0,0,20,20),fill(117,84,0),triangle(0,5,15,5,0,10),rect(0,0,20,5),fill(255),rect(15,7,5,3),fill(108,0,196),rect(17,7,3,3),fill(0,201,201),rect(4,20,12,30),armorSlots[1]>0){switch(armorSlots[1]){case 321:fill(225),stroke(150);break;case 325:fill(255,213,0),stroke(191,150,0);break;case 329:fill(0,255,255),stroke(0,168,168);break;case 333:fill(189,120,0),stroke(125,75,0)}rect(2,20,16,35,15),noStroke()}if(armorSlots[0]>0){switch(armorSlots[0]){case 320:fill(225),stroke(150);break;case 324:fill(255,213,0),stroke(191,150,0);break;case 328:fill(0,255,255),stroke(0,168,168);break;case 332:fill(189,120,0),stroke(125,75,0)}rect(-2,-3,25,8,30)}if(noStroke(),mPressed&&mouseButton===LEFT&&armTimer<=0&&(armTimer=5),armTimer>0&&armTimer--,resetMatrix(),translate(k+10,w+50),rotate(legPos),fill(23,0,156),rect(-6,0,12,30),armorSlots[2]>0){switch(armorSlots[2]){case 322:fill(225),stroke(150);break;case 326:fill(255,213,0),stroke(191,150,0);break;case 330:fill(0,255,255),stroke(0,168,168);break;case 334:fill(189,120,0),stroke(125,75,0)}rect(-6,-3,11,28,30),noStroke()}if(armorSlots[3]>0){switch(armorSlots[3]){case 323:fill(225),stroke(150);break;case 327:fill(255,213,0),stroke(191,150,0);break;case 331:fill(0,255,255),stroke(0,168,168);break;case 335:fill(189,120,0),stroke(125,75,0)}rect(-7,20,14,13,30),noStroke()}if(resetMatrix(),translate(k+10,w+22),armTimer>0?direction===RIGHT?rotate(10*armTimer):rotate(10*-armTimer):rotate(armPos),fill(0,189,189),rect(-5,0,10,10),fill(199,154,77),rect(-5,10,10,20),armorSlots[1]>0){switch(armorSlots[1]){case 321:fill(225),stroke(150);break;case 325:fill(255,213,0),stroke(191,150,0);break;case 329:fill(0,255,255),stroke(0,168,168);break;case 333:fill(189,120,0),stroke(125,75,0)}rect(-8,-3,15,15,15),noStroke()}direction===RIGHT&&scale(-1,1),hotbar[blockSelected]>300?drawBlocks(hotbar[blockSelected],6,10):(scale(.75,.75),drawBlocks(hotbar[blockSelected],6,20)),resetMatrix(),onFire&&drawFlame(k-20,w,3)}if(posA2=((posY+10)/40-(posY+10)/20+4).toFixed(0,0),posA2=((posY-30)/40-(posY-30)/20+4).toFixed(0,0),place+50>world[0].length&&genWorld(),!1===hide){fill(199),stroke(0,0,0),rect(10,350,380,50),fill(230,230,230),rect(43*blockSelected+15,361,30,30),noStroke();for(A=0;A<9;A++){ne=43*A+20;if(noStroke(),drawBlocks(hotbar[A],ne,366),noStroke(),null!==itemDurabilities[hotbar[A]]&&hotbarSpecs[A]!==itemDurabilities[hotbar[A]]){U=255/itemDurabilities[hotbar[A]];fill(255-hotbarSpecs[A]*U,hotbarSpecs[A]*U,0),rect(ne,388,hotbarSpecs[A]/(itemDurabilities[hotbar[A]]/20),3),hotbarSpecs[A]<=0&&(hotbarSpecs[A]=0,hotbarStacks[A]=0,hotbar[A]=0)}fill(0),text(A+1,ne-7,363),fill(255),textSize(15),0!==hotbarStacks[A]&&1!==hotbarStacks[A]&&text(hotbarStacks[A],ne+20,389),0===hotbarStacks[A]&&(hotbar[A]=0),textSize(12)}}if(!isDead){if(shake=2===shake?-2:2,0===gamemode){if(inWater){drownCount++;for(var X=0;X<oxygen;X++)noFill(),stroke(0,196,230,150),ellipse(400-16*X-40,302,16,16);drownCount>50&&(oxygen--,drownCount=0,oxygen<0&&(health-=2)<=0&&(death="water"))}else oxygen=10;for(var Y=0;Y<armor/2;Y++)image(shield,16*Y+24,300,8,12);for(ie=0;ie<(armor-1)/2;ie++)image(shield,16*ie+20,292,16,24);stroke(0),fill(204,122,0);for(A=0;A<hunger/2;A++)stroke(237),strokeWeight(2),translate(400-16*A-40+2,324),line(0,0,-5,5),stroke(110,66,0),strokeWeight(1),rotate(45),ellipse(0,0,8,10),resetMatrix(),noStroke(),A===round(hunger/2)-1&&A!==hunger/2-1&&(fill(255,0,0),ellipse(400-16*A-40+4,322,5,5),fill(225),ellipse(400-16*A-40+4,322,2,2))}if(!1===inventory&&!1===news&&!1===isCrafting&&!1===isSmelting){if(a=(mouseY/40+.5-scrollY/40).toFixed(0,0)-1,b=(mouseX/40+.5-scrollX/40).toFixed(0,0)-1,mPressed&&mouseButton===RIGHT&&hotbar[blockSelected]<300&&0!==hotbar[blockSelected]&&(60!==hotbar[blockSelected]||!nether))if(0===world[a][b]||11===world[a][b]||12===world[a][b]||13===world[a][b]||14===world[a][b]){if(world[a][b]=hotbar[blockSelected],armTimer=5,33===world[a][b]){var v=[0,0,0,50,0,0,0,0,0,0,0,0];specs[a][b]=v}else 55===world[a][b]&&(posB>b&&0===world[a][b-1]?world[a][b-1]=56:0===world[a][b- -1]?world[a][b- -1]=56:0===gamemode&&spawnEntity(40*b,40*a,0,56));if(34===world[a][b]){var y=[[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]]];specs[a][b]=y}0===gamemode&&(itemDurabilities[hotbar[blockSelected]]?hotbarSpecs[blockSelected]--:11===hotbar[blockSelected]||13===hotbar[blockSelected]?(hotbar[blockSelected]=337,mPressed=!1):hotbarStacks[blockSelected]--),28===world[a][b]&&(specs[a][b]=1,specs[a-1][b]=1,world[a-1][b]=29)}else 15===world[a][b]&&17===hotbar[blockSelected]&&0===specs[a][b]&&(specs[a][b]=100);mPressed&&mouseButton===RIGHT&&(55!==world[a][b]&&56!==world[a][b]||(dist(posB,posA,b,a)<=2?night?isSleeping=!0:broadcast("You can only sleep at night."):broadcast("You are not near enough to the bed."),mPressed=!1),11!==world[a][b]&&13!==world[a][b]||337!==hotbar[blockSelected]||(0===gamemode&&(1===hotbarStacks[blockSelected]?hotbar[blockSelected]=world[a][b]:(hotbarStacks[blockSelected]--,getItem(world[a][b],1))),world[a][b]=0,mPressed=!1),355===hotbar[blockSelected]&&58===world[a][b]&&0===specs[a][b]&&(specs[a][b]=1,0===gamemode&&hotbarStacks[blockSelected]--,mPressed=!1),340===hotbar[blockSelected]&&(spawnEntity(40*b,40*a,1,0),0===gamemode&&hotbarStacks[blockSelected]--,mPressed=!1),33===world[a][b]&&(isSmelting=!0,blockTargeted=[a,b],mPressed=!1),45===world[a][b]&&(onCommandBlock=!0,blockTargeted=[a,b],input=specs[a][b][1],mPressed=!1),34===world[a][b]&&(onChest=!0,blockTargeted=[a,b],mPressed=!1),(3===world[a][b]||2===world[a][b])&&hotbar[blockSelected]>=341&&hotbar[blockSelected]<=345&&opaqueBlocks[world[a-1][b]]&&(world[a][b]=46,armTimer=5,0===gamemode&&hotbarSpecs[blockSelected]--),27===world[a][b]?isCrafting=!0:26===world[a][b]&&305===hotbar[blockSelected]?(heartsShowing=!0,hotbarStacks[blockSelected]--,!1!==shieldsShowing&&(shieldsShowing+=1e3)):28===world[a][b]?(0===specs[a][b]?(specs[a][b]=1,specs[a-1][b]=1):1===specs[a][b]&&(specs[a][b]=0,specs[a-1][b]=0),mouseButton=2):29===world[a][b]&&(0===specs[a][b]?(specs[a][b]=1,specs[a- -1][b]=1):1===specs[a][b]&&(specs[a][b]=0,specs[a- -1][b]=0),mouseButton=2),348===hotbar[blockSelected]&&(hunger-=4,satration=1,mPressed=!1,hotbarStacks[blockSelected]--),317===hotbar[blockSelected]&&hunger<20&&(hunger+=3,satration<2?satration+=2:satration++,hotbarStacks[blockSelected]--,mPressed=!1),319===hotbar[blockSelected]&&hunger<20&&(hunger+=8,satration+=satration<2?13:3,hotbarStacks[blockSelected]--,mPressed=!1),347===hotbar[blockSelected]&&hunger<20&&(hunger+=5,satration+=satration<2?5:2,hotbarStacks[blockSelected]--,mPressed=!1))}else if(!0===inventory){for(var S=[[],[],[]],A=0;A<3;A++)for(ne=0;ne<3;ne++)S[A][ne]=craftingGrid[3*A+ne];if(mouseX>=70&&mouseX<=90&&mouseY>=280&&mPressed&&mouseY<=300&&invScroll>0)invScroll--;else if(mouseX>=95&&mouseX<=115&&mouseY>=280&&mouseY<=300&&mPressed&&invScroll<allBlocks.length-6)invScroll++;else if(mouseY<350){if(mouseX<220){if(a=(mouseY/40+.5).toFixed(0,0)-1,b=(mouseX/40+.75).toFixed(0,0)-2,a<7&&b<5&&a>0&&b>0)if(0===gamemode){if(setTag(invContents[a-1][b-1]),mPressed){if(invContents[a-1][b-1]===holdingBlock)for(;holdingStacks<maxStacks[holdingBlock]&&invStacks[a-1][b-1]>0;)invStacks[a-1][b-1]--,holdingStacks++;var x=holdingBlock,B=holdingStacks,q=holdingSpecs;holdingBlock=invContents[a-1][b-1],holdingStacks=invStacks[a-1][b-1],holdingSpecs=invSpecs[a-1][b-1],invContents[a-1][b-1]=x,invStacks[a-1][b-1]=B,invSpecs[a-1][b-1]=q,mPressed=!1}}else setTag(allBlocks[a-1+invScroll][b-1]),mPressed&&(0===holdingBlock?(holdingBlock=allBlocks[a-1+invScroll][b-1],holdingStacks=1,keys[SHIFT]&&(holdingStacks=maxStacks[allBlocks[a-1+invScroll][b-1]])):holdingBlock=0,holdingSpecs=itemDurabilities[holdingBlock]?itemDurabilities[holdingBlock]:0,keyCode=0,mPressed=!1)}else if(a=(mouseY/30).toFixed(0,0)-2,b=(mouseX/30).toFixed(0,0)-9,mouseY<200&&mouseX>210&&b<2&&b>=0&&a<2&&a>=0&&(setTag(S[a][b]),mPressed&&(0===S[a][b]?(craftingGrid[3*a+b]=holdingBlock,holdingStacks--,keyCode=0,mPressed=!1):0!==holdingBlock&&holdingBlock!==S[a][b]||(holdingBlock=craftingGrid[3*a+b],holdingStacks++,craftingGrid[3*a+b]=0,mPressed=!1))),mouseX>255&&mouseX<295&&mouseY>140&&mouseY<180)setTag(craftedItem),mPressed&&0!==craftedItem&&(keys[SHIFT]?(getItem(craftedItem,craftedStacks),craftedItem=0,craftedStacks=0,craftingGrid=[0,0,0,0,0,0,0,0,0]):0===holdingBlock&&(holdingBlock=craftedItem,holdingStacks=craftedStacks,holdingSpecs=itemDurabilities[craftedItem],craftingGrid=[0,0,0,0,0,0,0,0,0],mPressed=!1));else if(mouseX>240&&mouseX<310&&mouseY>185&&mouseY<255&&(a=((mouseY-175)/30).toFixed(0,0)-1,b=((mouseX-225)/35).toFixed(0,0)-1,setTag(armorSlots[2*a+b]),mPressed&&a>=0&&a<=1&&b>=0&&b<=1))if(0===holdingBlock)holdingBlock=armorSlots[2*a+b],holdingSpecs=armorSpecs[2*a+b],holdingStacks=1,armorSlots[2*a+b]=0,armorSpecs[2*a+b]=0,mPressed=!1;else if(holdingBlock>=320&&holdingBlock<=335){var T=holdingBlock;if(T>300)for(;T>3;)T-=4;if(T===2*a+b){var x=holdingBlock,E=holdingSpecs;holdingBlock=armorSlots[2*a+b],holdingSpecs=armorSpecs[2*a+b],armorSlots[2*a+b]=x,armorSpecs[2*a+b]=E,mPressed=!1}}}else if((b=(mouseX/40).toFixed(0,0))>0&&b<=9&&(setTag(hotbar[b-1]),mPressed)){if(hotbar[b-1]===holdingBlock)for(;holdingStacks<maxStacks[holdingBlock]&&hotbarStacks[b-1]>0;)hotbarStacks[b-1]--,holdingStacks++;var x=holdingBlock,B=holdingStacks,q=holdingSpecs;holdingBlock=hotbar[b-1],holdingStacks=hotbarStacks[b-1],holdingSpecs=hotbarSpecs[b-1],hotbar[b-1]=x,hotbarStacks[b-1]=B,hotbarSpecs[b-1]=q,keyCode=0,mPressed=!1}}if(onCommandBlock&&(void 0===input&&(input=""),fill(0,0,0,100),rect(0,0,400,400),fill(255),strokeWeight(2),stroke(0),button(210,300,100,25,1,!0,"Set Command"),button(90,300,100,25,0,!0,"Cancel"),textAlign(LEFT,BOTTOM),onInputBox=!0,fill(100),rect(50,175,300,30),functions[0]&&(onCommandBlock=!1,onInputBox=!1),functions[1]&&(keyCode=ENTER,keyPressed())),onChest){z=specs[blockTargeted[0]][blockTargeted[1]];if(mouseY<350){if(mouseX<200){if(a=((mouseY-60)/40).toFixed(0,0),(b=((mouseX-50)/40).toFixed(0,0))<1&&(b=0),a<1&&(a=0),a<6&&b<4&&a>=0&&b>=0&&(setTag(invContents[a][b]),mPressed)){if(invContents[a][b]===holdingBlock)for(;holdingStacks<maxStacks[holdingBlock]&&invStacks[a][b]>0;)invStacks[a][b]--,holdingStacks++;var x=holdingBlock,B=holdingStacks,q=holdingSpecs;holdingBlock=invContents[a][b],holdingStacks=invStacks[a][b],holdingSpecs=invSpecs[a][b],invContents[a][b]=x,invStacks[a][b]=B,invSpecs[a][b]=q,mPressed=!1}}else if(a=((mouseY-220)/40).toFixed(0,0)- -4,b=((mouseX-60)/40).toFixed(0,0)-4,a<6&&b<4&&a>=0&&b>=0&&(setTag(z[0][a][b]),mPressed)){if(z[0][a][b]===holdingBlock)for(;holdingStacks<maxStacks[holdingBlock]&&z[1][a][b]>0;)z[1][a][b]--,holdingStacks++;var x=holdingBlock,B=holdingStacks,q=holdingSpecs;holdingBlock=z[0][a][b],holdingStacks=z[1][a][b],holdingSpecs=z[2][a][b],z[0][a][b]=x,z[1][a][b]=B,z[2][a][b]=q,mPressed=!1}}else if((b=(mouseX/40).toFixed(0,0))>0&&b<=9&&(setTag(hotbar[b-1]),mPressed)){if(hotbar[b-1]===holdingBlock)for(;holdingStacks<maxStacks[holdingBlock]&&hotbarStacks[b-1]>0;)hotbarStacks[b-1]--,holdingStacks++;var x=holdingBlock,B=holdingStacks,q=holdingSpecs;holdingBlock=hotbar[b-1],holdingStacks=hotbarStacks[b-1],holdingSpecs=hotbarSpecs[b-1],hotbar[b-1]=x,hotbarStacks[b-1]=B,hotbarSpecs[b-1]=q,keyCode=0,mPressed=!1}mPressed=!1}if(!0===isTrading)if(mouseY<350)if(mouseX<220){if(a=(mouseY/40+.5).toFixed(0,0)-1,b=(mouseX/40+.75).toFixed(0,0)-2,a<7&&b<5&&a>0&&b>0&&(setTag(invContents[a-1][b-1]),mPressed)){if(invContents[a-1][b-1]===holdingBlock)for(;holdingStacks<maxStacks[holdingBlock]&&invStacks[a-1][b-1]>0;)invStacks[a-1][b-1]--,holdingStacks++;var x=holdingBlock,B=holdingStacks,q=holdingSpecs;holdingBlock=invContents[a-1][b-1],holdingStacks=invStacks[a-1][b-1],holdingSpecs=invSpecs[a-1][b-1],invContents[a-1][b-1]=x,invStacks[a-1][b-1]=B,invSpecs[a-1][b-1]=q,mPressed=!1}}else{if(mouseX>255&&mouseX<295&&mouseY>240&&mouseY<280&&mPressed&&tradingSlots[0]===mobs.specs[mobSelected][0]&&tradingSlots[1]===mobs.specs[mobSelected][1]&&(keys[SHIFT]?getItem(mobs.specs[mobSelected][2],mobs.specs[mobSelected][5]):0===holdingBlock&&(holdingBlock=mobs.specs[mobSelected][2],holdingStacks=mobs.specs[mobSelected][5],holdingSpecs=itemDurabilities[mobs.specs[mobSelected][2]]),mPressed=!1,tradingSlots[2]-=mobs.specs[mobSelected][3],tradingSlots[3]-=mobs.specs[mobSelected][4],tradingSlots[2]<=0&&(tradingSlots[0]=0),tradingSlots[3]<=0&&(tradingSlots[1]=0)),mouseX>255&&mouseX<295&&mouseY>100&&mouseY<140&&mPressed){var x=holdingBlock,B=holdingStacks,q=holdingSpecs;holdingBlock=tradingSlots[1],holdingStacks=tradingSlots[3],holdingSpecs=tradingSlots[5],tradingSlots[1]=x,tradingSlots[3]=B,tradingSlots[5]=q,mPressed=!1}if(mouseX>255&&mouseX<295&&mouseY>50&&mouseY<90&&mPressed){var x=holdingBlock,B=holdingStacks,q=holdingSpecs;holdingBlock=tradingSlots[0],holdingStacks=tradingSlots[2],holdingSpecs=tradingSlots[4],tradingSlots[0]=x,tradingSlots[2]=B,tradingSlots[4]=q,mPressed=!1}}else if((b=(mouseX/40).toFixed(0,0))>0&&b<=9&&(setTag(hotbar[b-1]),mPressed)){if(hotbar[b-1]===holdingBlock)for(;holdingStacks<maxStacks[holdingBlock]&&hotbarStacks[b-1]>0;)hotbarStacks[b-1]--,holdingStacks++;var x=holdingBlock,B=holdingStacks,q=holdingSpecs;holdingBlock=hotbar[b-1],holdingStacks=hotbarStacks[b-1],holdingSpecs=hotbarSpecs[b-1],hotbar[b-1]=x,hotbarStacks[b-1]=B,hotbarSpecs[b-1]=q,keyCode=0,mPressed=!1}if(!0===isCrafting){for(var S=[[],[],[]],A=0;A<3;A++)for(ne=0;ne<3;ne++)S[A][ne]=craftingGrid[3*A+ne];if(mouseY<350)if(mouseX<220){if(a=(mouseY/40+.5).toFixed(0,0)-1,b=(mouseX/40+.75).toFixed(0,0)-2,a<7&&b<5&&a>0&&b>0&&(setTag(invContents[a-1][b-1]),mPressed)){if(invContents[a-1][b-1]===holdingBlock)for(;holdingStacks<maxStacks[holdingBlock]&&invStacks[a-1][b-1]>0;)invStacks[a-1][b-1]--,holdingStacks++;var x=holdingBlock,B=holdingStacks,q=holdingSpecs;holdingBlock=invContents[a-1][b-1],holdingStacks=invStacks[a-1][b-1],holdingSpecs=invSpecs[a-1][b-1],invContents[a-1][b-1]=x,invStacks[a-1][b-1]=B,invSpecs[a-1][b-1]=q,mPressed=!1}}else a=(mouseY/30).toFixed(0,0)-2,b=(mouseX/30).toFixed(0,0)-9,mouseY<200&&mouseX>210&&b<3&&b>=0&&a<3&&a>=0&&(setTag(S[a][b]),mPressed&&(0===S[a][b]?(craftingGrid[3*a+b]=holdingBlock,holdingStacks--,keyCode=0,mPressed=!1):0!==holdingBlock&&holdingBlock!==S[a][b]||(holdingBlock=craftingGrid[3*a+b],holdingStacks++,craftingGrid[3*a+b]=0,mPressed=!1))),mouseX>270&&mouseX<315&&mouseY>225&&mouseY<270&&(setTag(craftedItem),mPressed&&(keys[SHIFT]?(getItem(craftedItem,craftedStacks),craftedItem=0,craftedStacks=0,craftingGrid=[0,0,0,0,0,0,0,0,0]):0===holdingBlock&&(holdingBlock=craftedItem,holdingStacks=craftedStacks,holdingSpecs=itemDurabilities[craftedItem],craftingGrid=[0,0,0,0,0,0,0,0,0],mPressed=!1)));else if((b=(mouseX/40).toFixed(0,0))>0&&b<=9&&(setTag(hotbar[b-1]),mPressed)){if(hotbar[b-1]===holdingBlock)for(;holdingStacks<maxStacks[holdingBlock]&&hotbarStacks[b-1]>0;)hotbarStacks[b-1]--,holdingStacks++;var x=holdingBlock,B=holdingStacks,q=holdingSpecs;holdingBlock=hotbar[b-1],holdingStacks=hotbarStacks[b-1],holdingSpecs=hotbarSpecs[b-1],hotbar[b-1]=x,hotbarStacks[b-1]=B,hotbarSpecs[b-1]=q,keyCode=0,mPressed=!1}}if(isSmelting)if(mouseY<350)if(mouseX<220){if(a=(mouseY/40+.5).toFixed(0,0)-1,b=(mouseX/40+.75).toFixed(0,0)-2,a<7&&b<5&&a>0&&b>0&&(setTag(invContents[a-1][b-1]),mPressed)){if(invContents[a-1][b-1]===holdingBlock)for(;holdingStacks<maxStacks[holdingBlock]&&invStacks[a-1][b-1]>0;)invStacks[a-1][b-1]--,holdingStacks++;var x=holdingBlock,B=holdingStacks,q=holdingSpecs;holdingBlock=invContents[a-1][b-1],holdingStacks=invStacks[a-1][b-1],holdingSpecs=invSpecs[a-1][b-1],invContents[a-1][b-1]=x,invStacks[a-1][b-1]=B,invSpecs[a-1][b-1]=q,mPressed=!1}}else{for(var P=specs[blockTargeted[0]][blockTargeted[1]],A=0;A<=10;A++)void 0===specs[blockTargeted[0]][blockTargeted[1]][A]&&(specs[blockTargeted[0]][blockTargeted[1]][A]=0);var C=P[0],M=P[1],I=P[2],R=P[3],D=P[4],L=P[5],_=P[6],F=P[7],O=P[8],N=P[9],G=P[10];if(mouseX>255&&mouseX<295&&mouseY>240&&mouseY<280&&mPressed&&(keys[SHIFT]?(getItem(F,O),F=0,O=0):0===holdingBlock&&(holdingBlock=F,holdingStacks=O,F=0,O=0,holdingSpecs=itemDurabilities[F]),mPressed=!1),mouseX>255&&mouseX<295&&mouseY>130&&mouseY<170&&mPressed){var x=holdingBlock,B=holdingStacks,q=holdingSpecs;holdingBlock=C,holdingStacks=M,holdingSpecs=I,C=x,M=B,I=q,mPressed=!1}if(mouseX>255&&mouseX<295&&mouseY>50&&mouseY<90&&mPressed){var x=holdingBlock,B=holdingStacks,q=holdingSpecs;holdingBlock=D,holdingStacks=L,holdingSpecs=_,D=x,L=B,_=q,mPressed=!1}specs[blockTargeted[0]][blockTargeted[1]][0]=C,specs[blockTargeted[0]][blockTargeted[1]][1]=M,specs[blockTargeted[0]][blockTargeted[1]][2]=I,specs[blockTargeted[0]][blockTargeted[1]][3]=R,specs[blockTargeted[0]][blockTargeted[1]][4]=D,specs[blockTargeted[0]][blockTargeted[1]][5]=L,specs[blockTargeted[0]][blockTargeted[1]][6]=_,specs[blockTargeted[0]][blockTargeted[1]][7]=F,specs[blockTargeted[0]][blockTargeted[1]][8]=O,specs[blockTargeted[0]][blockTargeted[1]][9]=N,specs[blockTargeted[0]][blockTargeted[1]][10]=G}else if((b=(mouseX/40).toFixed(0,0))>0&&b<=9&&(setTag(hotbar[b-1]),mPressed)){if(hotbar[b-1]===holdingBlock)for(;holdingStacks<maxStacks[holdingBlock]&&hotbarStacks[b-1]>0;)hotbarStacks[b-1]--,holdingStacks++;var x=holdingBlock,B=holdingStacks,q=holdingSpecs;holdingBlock=hotbar[b-1],holdingStacks=hotbarStacks[b-1],holdingSpecs=hotbarSpecs[b-1],hotbar[b-1]=x,hotbarStacks[b-1]=B,hotbarSpecs[b-1]=q,keyCode=0,mPressed=!1}if(0!==holdingStacks&&0!==holdingBlock||(holdingBlock=0,holdingStacks=0,holdingSpecs=0),keys[112]&&(hide=!1===hide,keyCode=0),keyTimer>0&&!1===isSprinting&&keyTimer--,inventory||isCrafting||isSmelting||onChest||onCommandBlock||isTrading||(keys[68]&&(posB2=((posX+30)/40-(posX+30)/20+6).toFixed(0,0),(!solidBlocks[world[posA][posB2]]||28===world[posA][posB2]&&0===specs[posA][posB2]||29===world[posA][posB2]&&0===specs[posA][posB2])&&(!solidBlocks[world[posA2][posB2]]||28===world[posA2][posB2]&&0===specs[posA2][posB2]||29===world[posA2][posB2]&&0===specs[posA2][posB2])&&(!solidBlocks[world[posA2-1][posB2]]||28===world[posA2-1][posB2]&&0===specs[posA2-1][posB-1]||29===world[posA2-1][posB2]&&0===specs[posA2-1][posB2])&&0===gamemode||1===gamemode?(keyTimer>0&&(isSprinting=!0,playerSpeed*=1.5),posX-=playerSpeed,isSprinting&&(playerSpeed/=1.5)):(isSprinting=!1,31!==world[posA2][posB2]&&31!==world[posA][posB2]||(health-=1)),posB2=((posX+30)/40-(posX+30)/20+5).toFixed(0,0)),keys[65]&&((!solidBlocks[world[posA][posB-1]]||28===world[posA][posB-1]&&0===specs[posA][posB-1]||29===world[posA][posB-1]&&0===specs[posA][posB-1])&&(!solidBlocks[world[posA2][posB-1]]||28===world[posA2][posB-1]&&0===specs[posA2][posB-1]||29===world[posA2][posB-1]&&0===specs[posA2][posB-1])&&(!solidBlocks[world[posA2-1][posB-1]]||28===world[posA2-1][posB-1]&&0===specs[posA2-1][posB-1]||29===world[posA2-1][posB-1]&&0===specs[posA2-1][posB-1])&&0===gamemode||1===gamemode?(keyTimer>0&&(isSprinting=!0,playerSpeed*=1.5),posX+=playerSpeed,isSprinting&&(playerSpeed/=1.5)):(31!==world[posA2][posB-1]&&31!==world[posA][posB-1]||(health-=1),isSprinting=!1)),(keys[16]||keys[83])&&(30!==world[posA- -1][posB]&&0!==world[posA- -1][posB]&&1!==gamemode||onInputBox||(posY-=playerSpeed),isSitting=!isSitting,keyCode=0),(keys[32]||keys[87])&&(0===gamemode?(solidBlocks[world[posA-2][posB]]||(inWater||11===world[posA2][posB]||12===world[posA2][posB]||11===world[posA2][posB2]||12===world[posA2][posB2]?(jump=23,(solidBlocks[world[posA- -1][posB]]||solidBlocks[world[posA- -1][posB2]])&&(posY+=6)):inLava||13===world[posA2][posB]||14===world[posA2][posB]||13===world[posA2][posB2]||14===world[posA2][posB2]?(onFire=!0,jump=23,(solidBlocks[world[posA- -1][posB]]||solidBlocks[world[posA- -1][posB2]])&&(posY+=6)):(solidBlocks[world[posA- -1][posB]]||solidBlocks[world[posA- -1][posB2]])&&(jump=30,posY+=6)),30===world[posA][posB]&&(posY+=playerSpeed)):posY+=playerSpeed),keys[115]&&(health-=4,broadcast("Ouch..."),keys[115]=!1)),posX<-10&&!(end&&posX<-1190)&&(scrollX=posX),posY<0&&posY>-1187&&(scrollY=posY),1===gamemode&&(hunger=20,satration=5),keyCode>48&&keyCode<58&&!1===onInputBox&&(blockSelected=keyCode-49),mPressed||(blockStrength=null),mPressed&&3===mouseButton&&1===gamemode){if(0!==world[a][b]){for(var H=!1,A=0;A<9;A++)0!==hotbar[A]&&hotbar[A]!==world[a][b]||H||(blockSelected=A,H=!0);hotbar[blockSelected]!==world[a][b]&&(hotbar[blockSelected]=world[a][b],hotbarStacks[blockSelected]=1)}mPressed=!1}if(!mPressed||mouseButton!==LEFT||!1!==inventory||!1!==news||18===world[a][b]||isCrafting||isSmelting||onChest||onCommandBlock)mPressed&&!1===inventory&&!1===news&&18===world[a][b]&&(!1===nether?(overWorld=world,world=netherWorld,nether=!0):!0===nether&&(netherWorld=world,world=overWorld,nether=!1));else if(world[a][b]<10||world[a][b]>14){if(null===blockStrength){selDurability=blockDurability[world[a][b]],1===gamemode&&(selDurability=0);for(A=307;A<=311;A++)hotbar[blockSelected]===A&&(selDurability/=hotbar[blockSelected]-305+blockDurability[world[a][b]]/50);blockTargeted=[a,b],blockStrength=selDurability}if(blockStrength<=0){switch(world[a][b]){case 28:world[a-1][b]=0;break;case 29:world[a- -1][b]=0;break;case 55:56===world[a][b-1]&&(world[a][b-1]=0),56===world[a][b- -1]&&(world[a][b- -1]=0);break;case 56:55===world[a][b-1]&&(world[a][b-1]=0),55===world[a][b- -1]&&(world[a][b- -1]=0)}if(0===gamemode)switch(world[a][b]){case 1:hotbar[blockSelected]>=307&&hotbar[blockSelected]<=311&&spawnEntity(40*b+random(0,20),40*a+10,0,4);break;case 2:case 3:spawnEntity(40*b+random(0,20),40*a+10,0,3);break;case 4:hotbar[blockSelected]>=307&&hotbar[blockSelected]<=311&&spawnEntity(40*b+random(0,20),40*a+10,0,4);break;case 5:spawnEntity(40*b+random(0,20),40*a+10,0,5);break;case 6:hotbar[blockSelected]>=307&&hotbar[blockSelected]<=311&&spawnEntity(40*b+random(0,20),40*a+10,0,6);break;case 7:spawnEntity(40*b+random(0,20),40*a+10,0,7);break;case 8:311===hotbar[blockSelected]&&spawnEntity(40*b+random(0,20),40*a+10,0,8);break;case 9:(c=random(0,5))>4.5&&spawnEntity(40*b+random(0,20),40*a+10,0,16);break;case 15:spawnEntity(40*b+random(0,20),40*a+10,0,15);break;case 16:spawnEntity(40*b+random(0,20),40*a+10,0,16);break;case 19:hotbar[blockSelected]>=307&&hotbar[blockSelected]<=311&&spawnEntity(40*b+random(0,20),40*a+10,0,19);break;case 20:spawnEntity(40*b+random(0,20),40*a+10,0,20);break;case 21:(c=random(0,5))>4?spawnEntity(40*b+random(0,20),40*a+10,0,306):spawnEntity(40*b+random(0,20),40*a+10,0,21);break;case 22:hotbar[blockSelected]>=307&&hotbar[blockSelected]<=311&&spawnEntity(40*b+random(0,20),40*a+10,0,301);break;case 23:hotbar[blockSelected]>=308&&hotbar[blockSelected]<=311&&spawnEntity(40*b+random(0,20),40*a+10,0,23);break;case 24:hotbar[blockSelected]>=309&&hotbar[blockSelected]<=311&&spawnEntity(40*b+random(0,20),40*a+10,0,24);break;case 25:if(hotbar[blockSelected]>=309&&hotbar[blockSelected]<=311){c=round(random(4,5));for(A=0;A<c;A++)spawnEntity(40*b+random(0,20),40*a+10,0,304)}break;case 26:hotbar[blockSelected]>=309&&hotbar[blockSelected]<=311&&spawnEntity(40*b+random(0,20),40*a+10,0,305);break;case 27:spawnEntity(40*b+random(0,20),40*a+10,0,27);break;case 28:spawnEntity(40*b+random(0,20),40*a+10,0,28),world[a-1][b]=0;break;case 29:spawnEntity(40*b+random(0,20),40*a+10,0,28),world[a- -1][b]=0;break;case 30:spawnEntity(40*b+random(0,20),40*a+10,0,30);break;case 31:spawnEntity(40*b+random(0,20),40*a+10,0,31);break;case 33:spawnEntity(40*b+random(0,20),40*a+10,0,33);for(A=0;A<specs[a][b][1];A++)spawnEntity(40*b+random(0,20),40*a+10,0,specs[a][b][0]);for(A=0;A<specs[a][b][5];A++)spawnEntity(40*b+random(0,20),40*a+10,0,specs[a][b][4]);for(A=0;A<specs[a][b][8];A++)spawnEntity(40*b+random(0,20),40*a+10,0,specs[a][b][7]);break;case 34:if(spawnEntity(40*b+random(0,20),40*a+10,0,34),null!==specs[a][b]||0!==specs[a][b])for(A=0;A<6;A++)for(ne=0;ne<4;ne++)for(ae=0;ae<specs[a][b][1][A][ne];ae++)spawnEntity(40*b+random(0,20),40*a+10,0,specs[a][b][0][A][ne]);break;case 35:hotbar[blockSelected]>=307&&hotbar[blockSelected]<=311&&spawnEntity(40*b+random(0,20),40*a+10,0,35);break;case 37:hotbar[blockSelected]>=308&&hotbar[blockSelected]<=311&&spawnEntity(40*b+random(0,20),40*a+10,0,37);break;case 38:hotbar[blockSelected]>=309&&hotbar[blockSelected]<=311&&spawnEntity(40*b+random(0,20),40*a+10,0,38);break;case 39:hotbar[blockSelected]>=307&&hotbar[blockSelected]<=311&&spawnEntity(40*b+random(0,20),40*a+10,0,39);break;case 40:spawnEntity(40*b+random(0,20),40*a+10,0,40);break;case 41:spawnEntity(40*b+random(0,20),40*a+10,0,41);break;case 42:spawnEntity(40*b+random(0,20),40*a+10,0,42);break;case 43:if(hotbar[blockSelected]>=309&&hotbar[blockSelected]<=311)for(A=0;A<random(3,6);A++)spawnEntity(40*b+random(0,20),40*a+10,0,42);break;case 44:spawnEntity(40*b+random(0,20),40*a+10,0,44);break;case 46:spawnEntity(40*b+random(0,20),40*a+10,0,3);break;case 47:round(random(0,3))||spawnEntity(40*b+random(0,20),40*a+10,0,48);break;case 48:switch(specs[a][b]){case 0:case 1:case 2:spawnEntity(40*b+random(0,20),40*a+10,0,48);break;case 3:case 4:case 5:case 6:case 7:for(A=0;A<round(random(1,2));A++)spawnEntity(40*b+random(0,20),40*a+10,0,48);7===specs[a][b]&&spawnEntity(40*b+random(0,20),40*a+10,0,346)}break;case 49:spawnEntity(40*b+random(0,20),40*a+10,0,349);break;case 50:spawnEntity(40*b+random(0,20),40*a+10,0,50);break;case 51:spawnEntity(40*b+random(0,20),40*a+10,0,51);break;case 52:spawnEntity(40*b+random(0,20),40*a+10,0,52);break;case 53:spawnEntity(40*b+random(0,20),40*a+10,0,53);break;case 54:spawnEntity(40*b+random(0,20),40*a+10,0,54);break;case 57:spawnEntity(40*b+random(0,20),40*a+10,0,57);break;case 59:spawnEntity(40*b+random(0,20),40*a+10,0,59)}blockStrength=null,0!==world[a][b]&&(hotbar[blockSelected]>=307&&hotbar[blockSelected]<=311?hotbarSpecs[blockSelected]--:hotbar[blockSelected]>=312&&hotbar[blockSelected]<=316&&(hotbarSpecs[blockSelected]-=2)),world[a][b]=0}else null!==blockStrength&&(blockTargeted[0]===a&&blockTargeted[1]===b?blockStrength--:blockStrength=null)}mPressed&&!1===inventory&&!1===news&&60===world[a][b]&&(!1===end?(overWorld=world,world=endWorld,end=!0,posX=-176,posY=-228):!0===end&&(onPoem=!0)),noStroke(),keys[84]&&(onInputBox||(onInputBox=!0),keys[84]=!1)}if(textSize(15),onInputBox)if(onCommandBlock)textSize(20),fill(255),inputTimer<=0?inputTimer=25:inputTimer--,inputTimer>10?text(input+"_",60,200):text(input,60,200);else{fill(0,0,0,60),rect(0,385,400,15),inputTimer<=0?inputTimer=25:inputTimer--,fill(255),inputTimer>10?text(input+"_",5,395):text(input,5,395),textAlign(LEFT,BOTTOM);for(A=messages.length-20;A<messages.length;A++)void 0!==messages[A]&&(fill(0,0,0,60),rect(0,15*A-15*messages.length+300,300,15),fill(255),text(messages[A],5,15*A-15*messages.length+313),msgTimers[A]--)}else for(A=messages.length-10;A<messages.length;A++)void 0!==messages[A]&&msgTimers[A]>0&&(msgTimers[A]>20?fill(0,0,0,60):fill(0,0,0,3*msgTimers[A]),rect(0,15*A-15*messages.length+300,300,15),msgTimers[A]>10?fill(255):fill(255,255,255,25.5*msgTimers[A]),text(messages[A],5,15*A-15*messages.length+313),msgTimers[A]--);textSize(12),!0===nether||!0===night||!0===end?fill(255,255,255):fill(0,0,0),keyIsPressed&&114===keyCode&&!1===debugMenu?(debugMenu=!0,keyCode=0):keyIsPressed&&114===keyCode&&(debugMenu=!1,keyCode=0),69===keyCode&&(isCrafting||isSmelting||isTrading)&&!onInputBox&&(isSmelting=!1,isCrafting=!1,isTrading=!1,keyCode=0),69!==keyCode||!1!==inventory||!1!==isCrafting||!1!==isSmelting||onInputBox||isTrading||(inventory=!0,keyCode=0);for(var S=[[],[],[]],j=0;j<3;j++)for(m=0;m<3;m++)S[m][j]=craftingGrid[j+3*m];if(onChest){var z=specs[blockTargeted[0]][blockTargeted[1]];69===keyCode&&(onChest=!1,keyCode=0),isCrafting=!1,isSmelting=!1,e2open=!1,fill(199,199,199),stroke(0,0,0),strokeWeight(3),rect(25,10,350,300),textSize(20),fill(0,0,0),text("Chest:",30,30),textSize(12),strokeWeight(2),line(200,30,200,285),noStroke(),drawInventory(40,50,40);for(A=0;A<4;A++)for(ne=0;ne<6;ne++)drawBlocks(z[0][ne][A],40*A+210,40*ne+50),z[1][ne][A]>1&&(textSize(15),fill(255),text(z[1][ne][A],40*A+230,40*ne+73)),textSize(12);if(stroke(0,0,0),strokeWeight(2),drawBlocks(holdingBlock,mouseX-10,mouseY-10),null!==itemTag&&""!==itemTag){stroke(54,0,171),fill(0,0,0);oe=itemTag.split().length;rect(mouseX,mouseY-15,85*oe,15),fill(255,255,255),text(itemTag,mouseX,mouseY)}fill(255),holdingStacks>1&&(textSize(15),text(holdingStacks,mouseX+10,mouseY+13),textSize(12))}if(!0===inventory){if(69===keyCode&&(inventory=!1,keyCode=0),onChest=!1,isCrafting=!1,isSmelting=!1,e2open=!1,fill(199,199,199),stroke(0,0,0),strokeWeight(3),rect(50,10,300,300),textSize(20),fill(0,0,0),text("Inventory:",60,30),textSize(12),strokeWeight(2),noStroke(),0===gamemode)drawInventory(70,50,40);else for(var V=0;V<4;V++)for(var W=0;W<6;W++)g=40*V+70,h=40*W+50,noStroke(),drawBlocks(allBlocks[W+invScroll][V],g,h);for(le=0;le<2;le++)for(re=0;re<2;re++)strokeWeight(2),stroke(0,0,0),fill(222,222,222),rect(35*le+240,35*re+40,35,35),fill(0,0,0),noStroke(),drawBlocks(S[re][le],35*le+250,35*re+50);1===gamemode&&(fill(100),stroke(0),rect(70,280,20,20),rect(95,280,20,20),fill(225),triangle(72,295,88,295,80,285),triangle(97,285,113,285,105,295),stroke(0,0,0)),fill(100),rect(240,250,70,45),image(skin,250,220,50,90),fill(222,222,222);for(le=0;le<2;le++)for(re=0;re<2;re++){if(strokeWeight(2),stroke(0),rect(35*le+240,30*re+190,35,30),fill(0,0,0),noStroke(),drawBlocks(armorSlots[2*re+le],35*le+250,30*re+195),null!==itemDurabilities[armorSlots[2*re+le]]&&armorSpecs[2*re+le]!==itemDurabilities[armorSlots[2*re+le]]){var U=255/itemDurabilities[armorSlots[2*re+le]];fill(255-armorSpecs[2*re+le]*U,armorSpecs[2*re+le]*U,0),rect(35*le+250,30*re+216,armorSpecs[2*re+le]/(itemDurabilities[armorSlots[2*re+le]]/20),3),armorSpecs[2*re+le]<=0&&(armorSlots[2*re+le]=0,armorSpecs[2*re+le]=0)}fill(222,222,222),stroke(0)}rect(255,140,40,40),drawBlocks(craftedItem,265,150),drawBlocks(holdingBlock,mouseX-10,mouseY-10),null!==itemTag&&""!==itemTag&&void 0!==itemTag&&(stroke(54,0,171),fill(0,0,0),rect(mouseX,mouseY-15,85,15),fill(255,255,255),text(itemTag,mouseX,mouseY)),fill(255),holdingStacks>1&&(textSize(15),text(holdingStacks,mouseX+10,mouseY+13),textSize(12)),textSize(15),craftedStacks>1&&text(craftedStacks,285,177);for(var $=!1,A=0;A<recipes.length;A++)if(!$)for(ne=0;ne<recipes[A].length;ne++)if(recipes[A].length>0){te=!0;for(ae=0;ae<9;ae++)craftingGrid[ae]!==recipes[A][ne][ae]&&te&&(te=!1);te&&(craftedItem=A,craftedStacks=recipeAmounts[A],$=!0)}$||(craftedItem=0,craftedStacks=0)}if(isTrading){fill(199,199,199),stroke(0,0,0),strokeWeight(3),rect(50,10,300,300),textSize(20),fill(0,0,0),text("Villager:",60,30),textSize(12),strokeWeight(2),noStroke(),drawInventory(70,50,40),noStroke(),fill(222),stroke(0),triangle(265,170,285,170,275,220),triangle(305,170,325,170,315,220),rect(255,50,40,40),rect(255,100,40,40),rect(255,240,40,40);var K=mobs.specs[mobSelected];drawBlocks(K[0],305,60),drawBlocks(K[1],305,110),drawBlocks(K[2],305,250),drawBlocks(tradingSlots[0],265,60),drawBlocks(tradingSlots[1],265,110),K[0]===tradingSlots[0]&&K[1]===tradingSlots[1]&&tradingSlots[2]>=K[3]&&tradingSlots[3]>=K[4]&&drawBlocks(K[2],265,250),fill(255),textSize(15),K[5]>1&&(text(K[5],325,275),K[0]===tradingSlots[0]&&K[1]===tradingSlots[1]&&text(K[5],285,275)),K[4]>1&&text(K[4],325,135),K[3]>1&&text(K[3],325,85),tradingSlots[2]>1&&text(tradingSlots[2],285,85),tradingSlots[3]>1&&text(tradingSlots[3],285,135),drawBlocks(holdingBlock,mouseX-10,mouseY-10),null!==itemTag&&""!==itemTag&&(stroke(54,0,171),fill(0,0,0),rect(mouseX,mouseY-15,85,15),fill(255,255,255),text(itemTag,mouseX,mouseY)),fill(255),holdingStacks>1&&(textSize(15),text(holdingStacks,mouseX+10,mouseY+13),textSize(12)),textSize(15)}if(isSmelting){var C=(P=specs[blockTargeted[0]][blockTargeted[1]])[0],M=P[1],I=P[2],R=P[3],D=P[4],L=P[5],_=P[6],F=P[7],O=P[8],N=P[9],G=P[10],Z=P[11];fill(199,199,199),stroke(0,0,0),strokeWeight(3),rect(50,10,300,300),textSize(20),fill(0,0,0),text("Furnace:",60,30),textSize(12),strokeWeight(2),noStroke(),drawInventory(70,50,40),noStroke(),fill(173,49,0);var Q=G/Z*5;triangle(275,120,280,120-Q,285,120),triangle(265,120,270,120-Q,275,120),fill(227,170,0),triangle(277,120,280,122-Q/1.2,283,120),triangle(267,120,270,122-Q/1.2,273,120),fill(222),stroke(0),R>0&&R<49&&triangle(265,180,285,180,275,231-R),rect(255,50,40,40),rect(255,130,40,40),rect(255,240,40,40),drawBlocks(D,265,60),drawBlocks(F,265,250),drawBlocks(C,265,140),fill(255),textSize(15),O>1&&text(O,285,275),M>1&&text(M,285,165),L>1&&text(L,285,85),drawBlocks(holdingBlock,mouseX-10,mouseY-10),null!==itemTag&&""!==itemTag&&(stroke(54,0,171),fill(0,0,0),rect(mouseX,mouseY-15,85,15),fill(255,255,255),text(itemTag,mouseX,mouseY)),fill(255),holdingStacks>1&&(textSize(15),text(holdingStacks,mouseX+10,mouseY+13),textSize(12)),textSize(15),specs[blockTargeted[0]][blockTargeted[1]][0]=C,specs[blockTargeted[0]][blockTargeted[1]][1]=M,specs[blockTargeted[0]][blockTargeted[1]][2]=I,specs[blockTargeted[0]][blockTargeted[1]][3]=R,specs[blockTargeted[0]][blockTargeted[1]][4]=D,specs[blockTargeted[0]][blockTargeted[1]][5]=L,specs[blockTargeted[0]][blockTargeted[1]][6]=_,specs[blockTargeted[0]][blockTargeted[1]][7]=F,specs[blockTargeted[0]][blockTargeted[1]][8]=O,specs[blockTargeted[0]][blockTargeted[1]][9]=N,specs[blockTargeted[0]][blockTargeted[1]][10]=G}for(re=0;re<2;re++)for(le=0;le<2;le++)armorSpecs[2*re+le]<=0&&(armorSlots[2*re+le]=0,armorSpecs[2*re+le]=0);!0===e2open&&!1===news&&(fill(189,189,189),stroke(0,0,0),strokeWeight(3),rect(100,0,300,50),textSize(20),fill(0,0,0),text("Press E to open your inventory",110,30),textSize(12),strokeWeight(2),noStroke());for(var J=0;J<4;J++)for(var ee=0;ee<6;ee++)0===invStacks[ee][J]&&(invContents[ee][J]=0),0===invContents[ee][J]&&(invSpecs[ee][J]=0);if(health<=0&&(isDead=!0),!0===news&&(fill(189,189,189),stroke(0,0,0),strokeWeight(3),rect(100,100,200,200),textSize(20),fill(0,0,0),text("News:",110,120),textSize(15),text("Prepare to get ENDED",110,130,180,160),textSize(12),text(NEWS,110,180,180,140),textSize(10),text("Press Enter to close",110,290),textSize(12),strokeWeight(2)),isSleeping&&(night||(isSleeping=!1),sleepTimer>=100?(time=0,isSleeping=!1,spawnpoint=[posX,posY],sleepTimer=0):(sleepTimer++,fill(0,0,0,2.55*sleepTimer),rect(0,0,400,400))),keys[ENTER]&&news&&(news=!1),isCrafting){fill(199,199,199),stroke(0,0,0),strokeWeight(3),rect(50,10,300,300),textSize(20),fill(0,0,0),text("Crafting:",60,30),textSize(12),strokeWeight(2),noStroke(),drawInventory(70,50,40);for(var le=0;le<3;le++)for(var re=0;re<3;re++)strokeWeight(2),stroke(0,0,0),fill(222,222,222),rect(35*le+240,35*re+40,35,35),fill(0,0,0),noStroke(),drawBlocks(S[re][le],35*le+250,35*re+50);if(stroke(0,0,0),fill(222,222,222),rect(270,225,45,45),drawBlocks(craftedItem,283,238),drawBlocks(holdingBlock,mouseX-10,mouseY-10),fill(255),holdingStacks>1&&(textSize(15),text(holdingStacks,mouseX+10,mouseY+13),textSize(12)),null!==itemTag&&""!==itemTag){stroke(54,0,171),fill(0,0,0);var oe=1;rect(mouseX,mouseY-15,85*oe,15),fill(255,255,255),text(itemTag,mouseX,mouseY)}textSize(15),fill(255,255,255),craftedStacks>1&&text(craftedStacks,303,270);for(var te,$=!1,A=0;A<recipes.length;A++)if(!$)for(ne=0;ne<recipes[A].length;ne++)if(recipes[A].length>0){te=!0;for(ae=0;ae<9;ae++)craftingGrid[ae]!==recipes[A][ne][ae]&&te&&(te=!1);te&&(craftedItem=A,craftedStacks=recipeAmounts[A],$=!0)}$||(craftedItem=0,craftedStacks=0)}scale(.25,.25),noStroke(),fill(255,255,255),ellipse(1500,100,125,125),fill(255,213,168),rect(1465,91,30,68),ellipse(1480,91,30,30),rect(1480,103,45,15),rect(1480,76,45,15),ellipse(1526,83.5,20,14),ellipse(1526,110.5,20,14),stroke(0,0,0),strokeWeight(5),point(1480,87),line(1527,100,1562,100),line(1537,100,1537,91),noStroke(),fill(255,0,0),ellipse(1537,83,10,10),fill(143,143,143),rect(1525,95,25,15),stroke(255,0,0),noFill(),strokeWeight(12),ellipse(1500,100,125,125),scale(4,4),!0===debugMenu&&(!0===nether||!0===night?fill(255,255,255):fill(0,0,0),text("Minecraft Khan Academy edition "+"1.14",10,20),text("Bennimus Studios",10,30),text("Key Code: "+keyCode,10,50),text("Mouse Button: "+mouseButton,10,60),text("Inventory: "+inventory,10,70),text("Current block: "+world[a][b],10,80),text("Time: "+time,120,50),text("Sun Pos: "+sunPos.toFixed(0,0),120,60),text("Crouching: "+isSitting,120,70),text("Blocks generated: "+world[0].length,120,80),text("Asteroids spawned: "+mobs.length,120,90),text("Position: "+place,240,50),text("Jump: "+jump,240,60),text("Inside block: "+world[posA][posB],240,70),text("Blocks fallen: "+blocksFallen,240,80),text("x: "+posB+" (cursor "+b+")",10,100),text("y: "+posA+" (cursor "+a+")",10,110),text("x2: "+posB2,10,120),text("y2: "+posA2,10,130),text("Key ticks: "+keyTimer,240,90),text("Sprinting: "+isSprinting,240,100)),lastItemSelected=hotbar[blockSelected],!1===hide&&!1===isDead?(noStroke(),fill(255),rect(mouseX-5,mouseY-1,10,2),rect(mouseX-1,mouseY-5,2,10)):!1===hide&&cursor(ARROW)}if(0===gamemode){var se=oldHealth-health;armor=0;for(A=0;A<4;A++)switch(armorSlots[A]){case 320:armor+=2;break;case 321:armor+=6;break;case 322:armor+=5;break;case 323:case 324:armor+=2;break;case 325:armor+=5;break;case 326:armor+=3;break;case 327:armor++;break;case 328:armor+=3;break;case 329:armor+=8;break;case 330:armor+=6;break;case 331:armor+=3;break;case 332:armor++;break;case 333:armor+=3;break;case 334:armor+=2;break;case 335:armor++}if(damageTimer>0&&damageTimer--,damageTimer>0&&se>0&&(health=oldHealth,isDead=!1,damageTimer<=0&&(health-=se,health+=round(se*(armor/20)*.8))),health<=0&&1!==gamemode&&(isDead=!0),se>0&&0===damageTimer){damageTimer=20,health+=.8*round(se*(armor/20));for(A=0;A<4;A++)armorSpecs[A]>0&&armorSpecs[A]--}if(oldHealth=health,options.peaceful&&!isDead&&(regenTix<=0?(regenTix=50,health++):regenTix--),hunger>=18&&!isDead&&(regenTix2<=0?(regenTix2=100,health++):regenTix2--),health>20&&(health=20),oldHealth>20&&(oldHealth=20),noCursor(),health>0&&(isDead=!1),!bennimusStudios){for(ie=0;ie<health/2;ie++)health<=4?health<3?image(heart,16*ie+20,317+shake,12,20):!1===shaken?(shaken=!0,image(heart,16*ie+25,317+shake,12,20)):(image(heart,16*ie+25,317-shake,12,20),shaken=!1):image(heart,16*ie+23,317,12,20);for(var ie=0;ie<(health-1)/2;ie++)health<=4?health<3?image(heart,16*ie+20,312+shake,19,28):!1===shaken?(shaken=!0,image(heart,16*ie+20,312+shake,19,28)):(image(heart,16*ie+20,312-shake,19,28),shaken=!1):image(heart,16*ie+20,312,19,28)}if(health<=0&&!deathmessageShown){switch(death){case"tnt":broadcast("Steve"+" blew up");break;case"creeper":broadcast("Steve"+" was blown up by Creeper");break;case"zombie":broadcast("Steve"+" was slain by Zombie");break;case"pigman":broadcast("Steve"+" was slain by Zombie Pigman");break;case"enderman":broadcast("Steve"+" was slain by Enderman");break;case"enderdragon":broadcast("Steve"+" was ended");break;case"blaze":broadcast("Steve"+" was slain by Blaze");break;case"water":broadcast("Steve"+" drowned");break;case"fire":broadcast("Steve"+" burned up in a fire");break;case"hunger":broadcast("Steve"+" starved to death")}deathmessageShown=!0}}else health=20;if(posB>world[0].length&&(background(105,42,0),textAlign(CENTER,CENTER),fill(225),textSize(20),text("Building Terrain...",200,150),stroke(0,100,0),line(150,200,250,200),stroke(0,255,0),line(150,200,-(posB-world[0].length)/1.8+250,200),textAlign(TOP,LEFT)),noCursor(),onPoem){cursor(ARROW),health=20,hunger=20,background(75,25,0),fill(255,0,0);for(A=0;A<endPoem.length;A++)"1"===endPoem[A].substr(0,1)?fill(0,158,158):"2"===endPoem[A].substr(0,1)&&fill(0,158,0),text(endPoem[A].substr(1),20,420-poemScroll+100*A,360,100);button(10,10,40,20,0,!0,"Skip"),(++poemScroll>=8e3||functions[0])&&(poemScroll=0,onPoem=!1,endWorld=world,world=overWorld,end=!1)}if(!1===bennimusStudios&&isDead&&1!==gamemode){for(A=0;A<6;A++)for(ne=0;ne<4;ne++){for(var ae=0;ae<invStacks[A][ne];ae++)spawnEntity(40*posB+random(-100,100),40*posA,0,invContents[A][ne]);invContents[A][ne]=0,invStacks[A][ne]=0}for(A=0;A<9;A++){for(var ne=0;ne<hotbarStacks[A];ne++)spawnEntity(40*posB+random(-100,100),40*posA,0,hotbar[A]);hotbar[A]=0,hotbarStacks[A]=0}for(A=0;A<4;A++)spawnEntity(40*posB+random(-100,100),40*posA,0,armorSlots[A]),armorSlots[A]=0,armorSpecs[A]=0;noStroke(),fill(200,0,0,50),cursor(ARROW),rect(0,0,400,400),fill(255,255,255),textSize(30),text("You died.",140,100),textSize(20),strokeWeight(2),stroke(0),button(150,200,100,50,0,!0,"Respawn"),textSize(12),functions[0]&&(health=20,hunger=20,satration=5,posX=spawnpoint[0],posY=spawnpoint[1],deathmessageShown=!1,nether&&(netherWorld=world,world=overWorld,nether=!1),end&&(endWorld=world,world=overWorld,end=!1))}if(bennimusStudios){if(++logoTix<70){noStroke(),background(255),fill(255,213,168),rect(130,160,60,137),ellipse(160,160,60,60),rect(160,194,70,30),rect(160,130,70,30),ellipse(230,145,40,29),ellipse(230,209,40,29),fill(255),ellipse(192,177,18,33),stroke(0,0,0),strokeWeight(10),point(161,162),line(255,187,325,187),line(275,187,275,162),noStroke(),fill(255,0,0),ellipse(275,154,20,20),fill(143,143,143),rect(250,177,50,30),stroke(0,0,0),stroke(255,0,0),noFill(),strokeWeight(25),ellipse(200,185,250,250),noStroke();for(A=0;A<40;A++)fill(A/2+212),rect(0,400-2*A,400,2);for(A=0;A<150;A++){var e=150*sin(A/2+180),l=150*cos(A/2+180),ce=70*noise(A/2,sound+5);fill(255-A/3,0,0),rect(171+e+ce,l+472,-2*e,2)}for(A=0;A<55;A++){var e=120*sin(A+180),l=125*cos(A+180),ce=70*noise(A/2,sound+3);fill(A/3+212),rect(171+e+ce,l+472,-2*e,2)}for(A=9;A<38;A++){var e=120*sin(A+180),l=125*cos(A+180),ce=70*noise(A/2,sound+3);fill(A/2+209,A/2+188,A/2+158),rect(171+e+ce,l+472,-1*e-15,2)}for(A=0;A<50;A++){ce=70*noise(A/2+38,sound-3);fill(A/2+224,A/2+208,A/2+184),rect(100+ce,2*A+373,58,2)}sound+=.03,fill(0),textSize(40),text("BENNIMUS STUDIOS",0,40)}logoTix>100&&(noStroke(),fill(255,255,255,20),rect(0,0,400,400)),logoTix>150&&(bennimusStudios=!1,onTitleScreen=!0,herp=0)}void 0===herp&&(herp=0),optionsScreen?(cursor(ARROW),background(117,64,0),fill(225),textSize(50),textAlign(CENTER,CENTER),text("Options",200,50),textSize(20),button(100,100,200,25,10,!0,"Clouds: "+options.clouds),button(100,130,200,25,11,!0,"Fire Animation: "+options.fireAnimation),button(100,160,200,25,12,!0,"Peaceful mode: "+options.peaceful),button(100,220,200,25,14,!0,"3D Blocks: "+options._3D),0===gamemode?button(100,190,200,25,13,!0,"Gamemode: Survival"):button(100,190,200,25,13,!0,"Gamemode: Creative"),button(150,350,100,25,2,!0,"Back"),functions[2]&&(optionsScreen=!1),functions[10]&&(options.clouds=!options.clouds),functions[11]&&(options.fireAnimation=!options.fireAnimation),functions[12]&&(options.peaceful=!options.peaceful),functions[13]&&(gamemode=0===gamemode?1:0),functions[14]&&(options._3D=!options._3D)):MPscreen?(cursor(ARROW),background(117,64,0),fill(225),textSize(50),textAlign(CENTER,CENTER),text("Multiplayer",200,50),textSize(20),stroke(0),button(20,185,160,30,20,!1,"Survival        "),button(220,185,160,30,21,!1,"        Creative"),button(20,360,100,30,22,!0,"Back"),drawBlocks(316,144,190),drawBlocks(6,234,190),textSize(12),fill(255,255,100),text("Sorry if I mislead you, but this right here is the future. As you can see, there will be a survival and creative server where you can play with your friends, show off your builds, or simply hang around and chat. I would appreciate it if I could get a collaboration of people working on this project. We can get this to work!",20,250,360,100),functions[22]&&(MPscreen=!1)):onTitleScreen&&(cursor(ARROW),background(196,225,255),drawWorld(),scrollX=50*sin(herp)-200,herp++,fill(150),stroke(0),rect(50,25,305,50),fill(0,0,0,100),textAlign(CENTER,CENTER),textSize(50),text("MINECRAFT",200,55),fill(200),textSize(53),text("MINECRAFT",200,50),fill(125),rect(100,70,200,30),fill(0,0,0,100),textSize(16),text("KHAN ACADEMY EDITION",200,86),fill(200),textSize(17),text("KHAN ACADEMY EDITION",200,85),fill(163,139,0),translate(300,85),rotate(340),textSize(3*sin(15*herp)+20-(splashes[curSplash].length-20)/2),text(splashes[curSplash],0,0),resetMatrix(),fill(242,210,3),translate(298,84),rotate(340),text(splashes[curSplash],0,0),resetMatrix(),fill(0),herp>360&&(herp=0),textSize(25),button(125,140,150,30,0,!0,"Singleplayer"),button(125,175,150,30,2,!1,"Multiplayer"),button(125,210,150,30,1,!0,"Options"),textSize(20),text("1.14",30,375),fill(200),rect(50,250,300,100),fill(0),textAlign(CENTER,CENTER),text("<<NEWS>>",200,265),fill(0),textAlign(LEFT,BOTTOM),textSize(15),text("Prepare to get ENDED",55,290),textSize(12),text(NEWS,55,285,290,100),functions[1]&&(optionsScreen=!0),functions[0]&&(onTitleScreen=!1,noCursor(),broadcast("<<<( ~Bennimus Studios~ )>>>"),broadcast("Welcome to Minecraft "+"1.14!"),broadcast("A & D to move left and right,"),broadcast("W or Space to jump,"),broadcast("E to open your inventory,"),broadcast("T to chat."),broadcast("<<<( ~<><><><><><><>~ )>>>")),functions[2]&&(MPscreen=!0)),heartsShowing?(frameRate(30),filter(INVERT),fill(0,255,255),textSize(20),text("Time left: "+shieldsShowing,270,350),textSize(12)):frameRate(60),1===gamemode&&(health=20,isDead=!1)}catch(A){background(0,0,255),fill(230),noStroke(),rect(160,100,80,20),textFont(createFont("Courier",15),15),textAlign(CENTER,CENTER),fill(0,0,255),text("Oh Noes!",200,110),fill(255),textAlign(LEFT,BOTTOM),text("A fatal error has occured in Minecraft and the program was forced to shut down.\n\n\nReason: "+A,0,150,400,200),textAlign(CENTER,CENTER),text("Press 'Restart' to restart the program and\nreport what you did to Tips & Thanks\n\n\n-Bennimus Studios-",200,350),textAlign(LEFT,BOTTOM),broadcast(A),textFont(createFont("Arial",15),15)}},keyPressed=function(){if(onInputBox&&keyCode!==SHIFT)switch(keyCode){case ENTER:if(onCommandBlock)broadcast("Command set to "+input),specs[blockTargeted[0]][blockTargeted[1]][1]=input,input="",onCommandBlock=!1,onInputBox=!1;else{if(onInputBox=!1,""!==input)if("/"===input.substr(0,1)){var e=input.split(" ");switch(e[0]){case"/say":for(var l="",r=1;r<e.length;r++)l+=e[r]+" ";broadcast("["+"Steve] "+l);break;case"/gamemode":e[1]<=1&&e[1]>=0?(gamemode=round(e[1]),broadcast("Your game mode has been updated.")):broadcast(e[1]+" is not a gamemode.");break;case"/help":broadcast("==========[ HELP ]=========="),broadcast("/give [data] [amount]"),broadcast("gives you item by data and amount"),broadcast("/clear"),broadcast("clears your inventory"),broadcast("/kill"),broadcast("Ouch! that look like it hurt!"),broadcast("/killall"),broadcast("kills everything. Good for dat lag"),broadcast("==========================");break;case"/me":for(var l="",r=1;r<e.length;r++)l+=e[r]+" ";broadcast("* "+"Steve "+l);break;case"/clear":for(var o=0,r=0;r<9;r++)o+=hotbarStacks[r],hotbar[r]=0,hotbarStacks[r]=0;for(r=0;r<6;r++)for(var t=0;t<4;t++)o+=invStacks[r][t],invContents[r][t]=0,invStacks[r][t]=0;for(r=0;r<4;r++)armorSlots[r]&&(o++,armorSlots[r]=0,armorSpecs[r]=0);broadcast(o?"Cleared the inventory of "+"Steve, removing "+o+" items.":"Could not clear the inventory of "+"Steve, no items to remove.");break;case"/give":void 0!==e[1]&&e[1]>0&&e[1]<blocks||e[1]>=300&&e[1]<items?(e[2]?getItem(e[1]-0,e[2]-0):(getItem(e[1]-0,1),e[2]=1),broadcast(e[1]<300?"given "+"Steve "+e[2]+" of "+e[1]+" ("+tileNames[e[1]]+").":"given "+"Steve "+e[2]+" of "+e[1]+" ("+itemNames[e[1]-300]+").")):broadcast(e[1]+" is not a valid number.");break;case"/kill":0===gamemode?(health=-90,broadcast("Steve"+" bid farewell.")):broadcast("Failed to kill "+"Steve.");break;case"/killall":for(var s=0,r=0;r<mobs.length;r++)mobs.health[r]>0&&s++,mobs.health[r]=0;dragonSpawned=!1,broadcast("An asteroid collides with the earth, obliterating "+s+" entities.");break;case"/time":if(void 0!==e[1]&&void 0!==e[2])switch(e[1]){case"set":time=e[2],broadcast("Time set to "+time);break;case"add":if((time+=e[2]-0)>2e4)for(;time>2e4;)time-=2e4;broadcast("Time set to "+time);break;default:broadcast("Usage: /time <set/add> <value>")}else broadcast("Usage: /time <set/add> <value>");break;default:broadcast("Unknown command. Type /help for help.")}}else broadcast("<"+"Steve> "+input);input=""}break;case 32:input+=" ";break;case 48:input+=keys[SHIFT]?")":"0";break;case 49:input+=keys[SHIFT]?"!":"1";break;case 50:input+=keys[SHIFT]?"@":"2";break;case 51:input+=keys[SHIFT]?"#":"3";break;case 52:input+=keys[SHIFT]?"$":"4";break;case 53:input+=keys[SHIFT]?"%":"5";break;case 54:input+=keys[SHIFT]?"^":"6";break;case 55:input+=keys[SHIFT]?"&":"7";break;case 56:input+=keys[SHIFT]?"*":"8";break;case 57:input+=keys[SHIFT]?"(":"9";break;case 65:input+=keys[SHIFT]?"A":"a";break;case 66:input+=keys[SHIFT]?"B":"b";break;case 67:input+=keys[SHIFT]?"C":"c";break;case 68:input+=keys[SHIFT]?"D":"d";break;case 69:input+=keys[SHIFT]?"E":"e";break;case 70:input+=keys[SHIFT]?"F":"f";break;case 71:input+=keys[SHIFT]?"G":"g";break;case 72:input+=keys[SHIFT]?"H":"h";break;case 73:input+=keys[SHIFT]?"I":"i";break;case 74:input+=keys[SHIFT]?"J":"j";break;case 75:input+=keys[SHIFT]?"K":"k";break;case 76:input+=keys[SHIFT]?"L":"l";break;case 77:input+=keys[SHIFT]?"M":"m";break;case 78:input+=keys[SHIFT]?"N":"n";break;case 79:input+=keys[SHIFT]?"O":"o";break;case 80:input+=keys[SHIFT]?"P":"p";break;case 81:input+=keys[SHIFT]?"Q":"q";break;case 82:input+=keys[SHIFT]?"R":"r";break;case 83:input+=keys[SHIFT]?"S":"s";break;case 84:input+=keys[SHIFT]?"T":"t";break;case 85:input+=keys[SHIFT]?"U":"u";break;case 86:input+=keys[SHIFT]?"V":"v";break;case 87:input+=keys[SHIFT]?"W":"w";break;case 88:input+=keys[SHIFT]?"X":"x";break;case 89:input+=keys[SHIFT]?"Y":"y";break;case 90:input+=keys[SHIFT]?"Z":"z";break;case 186:input+=keys[SHIFT]?":":";";break;case 187:input+=keys[SHIFT]?"+":"=";break;case 188:input+=keys[SHIFT]?"<":",";break;case 189:input+=keys[SHIFT]?"_":"-";break;case 190:input+=keys[SHIFT]?">":".";break;case 191:input+=keys[SHIFT]?"?":"/";break;case 192:input+=keys[SHIFT]?"~":"`";break;case 219:input+=keys[SHIFT]?"{":"[";break;case 220:input+=keys[SHIFT]?"|":"\\";break;case 221:input+=keys[SHIFT]?"}":"]";break;case 222:input+=keys[SHIFT]?'"':"'";break;case BACKSPACE:input=input.substr(0,input.length-1)}else keys[keyCode]=!0,keyCode===LEFT&&(keys[65]=!0),keyCode===RIGHT&&(keys[68]=!0),keyCode===UP&&(keys[87]=!0),keyCode===DOWN&&(keys[83]=!0)},mousePressed=function(){mPressed=!0},mouseReleased=function(){mPressed=!1},keyReleased=function(){keys[keyCode]=!1,keyCode===LEFT&&(keys[65]=!1),keyCode===RIGHT&&(keys[68]=!1),keyCode===UP&&(keys[87]=!1),keyCode===DOWN&&(keys[83]=!1),68!==keyCode&&65!==keyCode&&keyCode!==LEFT&&keyCode!==RIGHT||(keyTimer=5,isSprinting=!1)}}"undefined"!=typeof draw&&(processing.draw=draw)})}()</script>